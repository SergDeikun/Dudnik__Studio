{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_assert_this_initialized.js","node_modules/@swc/helpers/lib/_super_prop_base.js","node_modules/@swc/helpers/lib/_get_prototype_of.js","node_modules/@swc/helpers/lib/_set_prototype_of.js","node_modules/@swc/helpers/lib/_array_with_holes.js","node_modules/@swc/helpers/lib/_iterable_to_array.js","node_modules/@swc/helpers/lib/_non_iterable_rest.js","node_modules/@swc/helpers/lib/_unsupported_iterable_to_array.js","node_modules/@swc/helpers/lib/_array_like_to_array.js","node_modules/@swc/helpers/lib/_array_without_holes.js","node_modules/@swc/helpers/lib/_non_iterable_spread.js","node_modules/@swc/helpers/lib/_is_native_reflect_construct.js","node_modules/@swc/helpers/lib/_possible_constructor_return.js","node_modules/@swc/helpers/lib/_type_of.js","node_modules/@swc/helpers/lib/_define_property.js","src/js/get-refs.js","src/js/openMobMenu.js","src/js/openAboutUs.js","src/js/openContacts.js","src/js/openPortfolio.js","node_modules/@fancyapps/ui/src/Fancybox/Fancybox.js","node_modules/@swc/helpers/lib/_class_call_check.js","node_modules/@swc/helpers/lib/_create_class.js","node_modules/@swc/helpers/lib/_get.js","node_modules/@swc/helpers/lib/_inherits.js","node_modules/@swc/helpers/lib/_sliced_to_array.js","node_modules/@swc/helpers/lib/_to_consumable_array.js","node_modules/@swc/helpers/lib/_create_super.js","node_modules/@fancyapps/ui/src/shared/utils/isPlainObject.js","node_modules/@fancyapps/ui/src/shared/utils/extend.js","node_modules/@fancyapps/ui/src/shared/utils/canUseDOM.js","node_modules/@fancyapps/ui/src/shared/utils/setFocusOn.js","node_modules/@fancyapps/ui/src/shared/utils/resolve.js","node_modules/@fancyapps/ui/src/shared/Base/Base.js","<<jsx-config-pragma.js>>","node_modules/@fancyapps/ui/src/Carousel/Carousel.js","node_modules/@swc/helpers/lib/_object_spread.js","node_modules/@fancyapps/ui/src/Panzoom/Panzoom.js","node_modules/@fancyapps/ui/src/shared/utils/round.js","node_modules/@fancyapps/ui/src/shared/utils/isScrollable.js","node_modules/@fancyapps/ui/src/shared/utils/ResizeObserver.js","node_modules/@fancyapps/ui/src/shared/utils/PointerTracker.js","node_modules/@fancyapps/ui/src/shared/utils/getTextNodeFromPoint.js","node_modules/@fancyapps/ui/src/shared/utils/getDimensions.js","node_modules/@fancyapps/ui/src/Panzoom/plugins/index.js","node_modules/@fancyapps/ui/src/shared/utils/throttle.js","node_modules/@fancyapps/ui/src/Carousel/plugins/Navigation/Navigation.js","node_modules/@fancyapps/ui/src/Carousel/plugins/Dots/Dots.js","node_modules/@fancyapps/ui/src/Carousel/plugins/Sync/Sync.js","node_modules/@fancyapps/ui/src/Carousel/plugins/index.js","node_modules/@fancyapps/ui/src/Carousel/l10n/en.js","node_modules/@fancyapps/ui/src/Fancybox/plugins/ScrollLock/ScrollLock.js","node_modules/@fancyapps/ui/src/Fancybox/plugins/Thumbs/Thumbs.js","node_modules/@fancyapps/ui/src/Fancybox/plugins/Html/Html.js","node_modules/@fancyapps/ui/src/Fancybox/plugins/Image/Image.js","node_modules/@fancyapps/ui/src/Fancybox/plugins/Hash/Hash.js","node_modules/@fancyapps/ui/src/shared/utils/Fullscreen.js","node_modules/@fancyapps/ui/src/shared/utils/Slideshow.js","node_modules/@fancyapps/ui/src/Fancybox/plugins/Toolbar/Toolbar.js","node_modules/@fancyapps/ui/src/Fancybox/plugins/index.js","node_modules/@fancyapps/ui/src/Fancybox/l10n/en.js","src/js/fancybox.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _assertThisInitialized;\nfunction _assertThisInitialized(self) {\n    if (self === void 0) {\n        throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n    return self;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _superPropBase;\nvar _getPrototypeOf = _interopRequireDefault(require(\"./_get_prototype_of\"));\nfunction _superPropBase(object, property) {\n    while(!Object.prototype.hasOwnProperty.call(object, property)){\n        object = (0, _getPrototypeOf).default(object);\n        if (object === null) break;\n    }\n    return object;\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _getPrototypeOf;\nfunction _getPrototypeOf(o) {\n    return getPrototypeOf(o);\n}\nfunction getPrototypeOf(o1) {\n    getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function getPrototypeOf(o) {\n        return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return getPrototypeOf(o1);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _setPrototypeOf;\nfunction _setPrototypeOf(o, p) {\n    return setPrototypeOf(o, p);\n}\nfunction setPrototypeOf(o1, p1) {\n    setPrototypeOf = Object.setPrototypeOf || function setPrototypeOf(o, p) {\n        o.__proto__ = p;\n        return o;\n    };\n    return setPrototypeOf(o1, p1);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _arrayWithHoles;\nfunction _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _iterableToArray;\nfunction _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _nonIterableRest;\nfunction _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _unsupportedIterableToArray;\nvar _arrayLikeToArray = _interopRequireDefault(require(\"./_array_like_to_array\"));\nfunction _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return (0, _arrayLikeToArray).default(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return (0, _arrayLikeToArray).default(o, minLen);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _arrayLikeToArray;\nfunction _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _arrayWithoutHoles;\nvar _arrayLikeToArray = _interopRequireDefault(require(\"./_array_like_to_array\"));\nfunction _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return (0, _arrayLikeToArray).default(arr);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _nonIterableSpread;\nfunction _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _isNativeReflectConstruct;\nfunction _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n    try {\n        Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));\n        return true;\n    } catch (e) {\n        return false;\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _possibleConstructorReturn;\nvar _assertThisInitialized = _interopRequireDefault(require(\"./_assert_this_initialized\"));\nvar _typeOf = _interopRequireDefault(require(\"./_type_of\"));\nfunction _possibleConstructorReturn(self, call) {\n    if (call && ((0, _typeOf).default(call) === \"object\" || typeof call === \"function\")) {\n        return call;\n    }\n    return (0, _assertThisInitialized).default(self);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _typeof;\nfunction _typeof(obj) {\n    \"@swc/helpers - typeof\";\n    return obj && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n}\n;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _defineProperty;\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\n","const refs = {\n  mobMenu: document.querySelector('.js-menu-container'),\n  openMenuBtn: document.querySelector('.js-open-menu'),\n  closeMenuBtn: document.querySelector('.js-close-menu'),\n  aboutUsLinkHeader: document.querySelector('.js-about-header'),\n  abotUsLinkMobMenu: document.querySelector('.js-about-menu'),\n  portfolioLinkHeader: document.querySelector('.js-portfolio-header'),\n  portfolioLinkMobMenu: document.querySelector('.js-portfolio-menu'),\n  contactsLinkHeader: document.querySelector('.js-contacts-header'),\n  contactsLinkMobMenu: document.querySelector('.js-contacts-menu'),\n  heroSection: document.querySelector('.js-hero'),\n  propertiesSection: document.querySelector('.js-properties'),\n  aboutSection: document.querySelector('.js-about'),\n  contactsSection: document.querySelector('.js-contacts'),\n  portfolioSection: document.querySelector('.js-portfolio-section'),\n  footer: document.querySelector('.js-footer'),\n};\n\nexport { refs };\n","import { refs } from './get-refs';\n\nexport const toggleMenu = () => {\n  refs.mobMenu?.classList.toggle('is-hidden');\n};\n\nrefs.openMenuBtn?.addEventListener('click', toggleMenu);\nrefs.closeMenuBtn?.addEventListener('click', toggleMenu);\n","import { refs } from './get-refs';\n\nexport const openAboutUs = () => {\n  refs.heroSection?.classList.remove('is-hidden');\n  refs.propertiesSection?.classList.remove('is-hidden');\n  refs.aboutSection?.classList.remove('is-hidden');\n  refs.contactsSection?.classList.add('is-hidden');\n  refs.portfolioSection?.classList.add('is-hidden');\n  refs.footer?.classList.remove('is-hidden');\n  refs.mobMenu?.classList.add('is-hidden');\n};\n\nrefs.aboutUsLinkHeader?.addEventListener('click', openAboutUs);\nrefs.abotUsLinkMobMenu?.addEventListener('click', openAboutUs);\n","import { refs } from './get-refs';\n\nexport const openContacts = () => {\n  refs.heroSection?.classList.add('is-hidden');\n  refs.propertiesSection?.classList.add('is-hidden');\n  refs.aboutSection?.classList.add('is-hidden');\n  refs.footer?.classList.add('is-hidden');\n  refs.portfolioSection?.classList.add('is-hidden');\n  refs.contactsSection?.classList.remove('is-hidden');\n  refs.mobMenu?.classList.add('is-hidden');\n};\n\nrefs.contactsLinkHeader?.addEventListener('click', openContacts);\nrefs.contactsLinkMobMenu?.addEventListener('click', openContacts);\n","import { refs } from './get-refs';\n\nexport const openPortfolio = () => {\n  if (refs.portfolioSection?.classList.contains('is-hidden') === false) {\n    return;\n  }\n  refs.heroSection?.classList.add('is-hidden');\n  refs.aboutSection?.classList.add('is-hidden');\n  refs.propertiesSection?.classList.add('is-hidden');\n  refs.contactsSection?.classList.add('is-hidden');\n  refs.footer?.classList.remove('is-hidden');\n  refs.portfolioSection?.classList.toggle('is-hidden');\n  refs.mobMenu?.classList.add('is-hidden');\n};\n\nrefs.portfolioLinkHeader?.addEventListener('click', openPortfolio);\nrefs.portfolioLinkMobMenu?.addEventListener('click', openPortfolio);\n","import { extend } from \"../shared/utils/extend.js\";\nimport { canUseDOM } from \"../shared/utils/canUseDOM.js\";\nimport { FOCUSABLE_ELEMENTS, setFocusOn } from \"../shared/utils/setFocusOn.js\";\n\nimport { Base } from \"../shared/Base/Base.js\";\n\nimport { Carousel } from \"../Carousel/Carousel.js\";\n\nimport { Plugins } from \"./plugins/index.js\";\n\n// Default language\nimport en from \"./l10n/en.js\";\n\n// Default settings\nconst defaults = {\n  // Index of active slide on the start\n  startIndex: 0,\n\n  // Number of slides to preload before and after active slide\n  preload: 1,\n\n  // Should navigation be infinite\n  infinite: true,\n\n  // Class name to be applied to the content to reveal it\n  showClass: \"fancybox-zoomInUp\", // \"fancybox-fadeIn\" | \"fancybox-zoomInUp\" | false\n\n  // Class name to be applied to the content to hide it\n  hideClass: \"fancybox-fadeOut\", // \"fancybox-fadeOut\" | \"fancybox-zoomOutDown\" | false\n\n  // Should backdrop and UI elements fade in/out on start/close\n  animated: true,\n\n  // If browser scrollbar should be hidden\n  hideScrollbar: true,\n\n  // Element containing main structure\n  parentEl: null,\n\n  // Custom class name or multiple space-separated class names for the container\n  mainClass: null,\n\n  // Set focus on first focusable element after displaying content\n  autoFocus: true,\n\n  // Trap focus inside Fancybox\n  trapFocus: true,\n\n  // Set focus back to trigger element after closing Fancybox\n  placeFocusBack: true,\n\n  // Action to take when the user clicks on the backdrop\n  click: \"close\", // \"close\" | \"next\" | null\n\n  // Position of the close button - over the content or at top right corner of viewport\n  closeButton: \"inside\", // \"inside\" | \"outside\"\n\n  // Allow user to drag content up/down to close instance\n  dragToClose: true,\n\n  // Enable keyboard navigation\n  keyboard: {\n    Escape: \"close\",\n    Delete: \"close\",\n    Backspace: \"close\",\n    PageUp: \"next\",\n    PageDown: \"prev\",\n    ArrowUp: \"next\",\n    ArrowDown: \"prev\",\n    ArrowRight: \"next\",\n    ArrowLeft: \"prev\",\n  },\n\n  // HTML templates for various elements\n  template: {\n    // Close button icon\n    closeButton:\n      '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" tabindex=\"-1\"><path d=\"M20 20L4 4m16 0L4 20\"/></svg>',\n    // Loading indicator icon\n    spinner:\n      '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" viewBox=\"25 25 50 50\" tabindex=\"-1\"><circle cx=\"50\" cy=\"50\" r=\"20\"/></svg>',\n\n    // Main container element\n    main: null,\n  },\n\n  /* Note: If the `template.main` option is not provided, the structure is generated as follows by default:\n  <div class=\"fancybox__container\" role=\"dialog\" aria-modal=\"true\" aria-hidden=\"true\" aria-label=\"{{MODAL}}\" tabindex=\"-1\">\n    <div class=\"fancybox__backdrop\"></div>\n    <div class=\"fancybox__carousel\"></div>\n  </div>\n  */\n\n  // Localization of strings\n  l10n: en,\n};\n\n// Object that contains all active instances of Fancybox\nconst instances = new Map();\n\n// Number of Fancybox instances created, it is used to generate new instance \"id\"\nlet called = 0;\n\nclass Fancybox extends Base {\n  /**\n   * Fancybox constructor\n   * @constructs Fancybox\n   * @param {Object} [options] - Options for Fancybox\n   */\n  constructor(items, options = {}) {\n    // Quick hack to fix variable naming collision\n    items = items.map((item) => {\n      if (item.width) item._width = item.width;\n      if (item.height) item._height = item.height;\n\n      return item;\n    });\n\n    super(extend(true, {}, defaults, options));\n\n    this.bindHandlers();\n\n    this.state = \"init\";\n\n    this.setItems(items);\n\n    this.attachPlugins(Fancybox.Plugins);\n\n    // \"init\" event marks the start of initialization and is available to plugins\n    this.trigger(\"init\");\n\n    if (this.option(\"hideScrollbar\") === true) {\n      this.hideScrollbar();\n    }\n\n    this.initLayout();\n\n    this.initCarousel();\n\n    this.attachEvents();\n\n    instances.set(this.id, this);\n\n    // \"prepare\" event will trigger the creation of additional layout elements, such as thumbnails and toolbar\n    this.trigger(\"prepare\");\n\n    this.state = \"ready\";\n\n    // \"ready\" event will trigger the content to load\n    this.trigger(\"ready\");\n\n    // Reveal container\n    this.$container.setAttribute(\"aria-hidden\", \"false\");\n\n    // Set focus on the first focusable element inside this instance\n    if (this.option(\"trapFocus\")) {\n      this.focus();\n    }\n  }\n\n  /**\n   * Override `option` method to get value from the current slide\n   * @param {String} name option name\n   * @param  {...any} rest optional extra parameters\n   * @returns {any}\n   */\n  option(name, ...rest) {\n    const slide = this.getSlide();\n\n    let value = slide ? slide[name] : undefined;\n\n    if (value !== undefined) {\n      if (typeof value === \"function\") {\n        value = value.call(this, this, ...rest);\n      }\n\n      return value;\n    }\n\n    return super.option(name, ...rest);\n  }\n\n  /**\n   * Bind event handlers for referencability\n   */\n  bindHandlers() {\n    for (const methodName of [\n      \"onMousedown\",\n      \"onKeydown\",\n      \"onClick\",\n\n      \"onFocus\",\n\n      \"onCreateSlide\",\n      \"onSettle\",\n\n      \"onTouchMove\",\n      \"onTouchEnd\",\n\n      \"onTransform\",\n    ]) {\n      this[methodName] = this[methodName].bind(this);\n    }\n  }\n\n  /**\n   * Set up a functions that will be called whenever the specified event is delivered\n   */\n  attachEvents() {\n    document.addEventListener(\"mousedown\", this.onMousedown);\n    document.addEventListener(\"keydown\", this.onKeydown, true);\n\n    // Trap keyboard focus inside of the modal\n    if (this.option(\"trapFocus\")) {\n      document.addEventListener(\"focus\", this.onFocus, true);\n    }\n\n    this.$container.addEventListener(\"click\", this.onClick);\n  }\n\n  /**\n   * Removes previously registered event listeners\n   */\n  detachEvents() {\n    document.removeEventListener(\"mousedown\", this.onMousedown);\n    document.removeEventListener(\"keydown\", this.onKeydown, true);\n\n    document.removeEventListener(\"focus\", this.onFocus, true);\n\n    this.$container.removeEventListener(\"click\", this.onClick);\n  }\n\n  /**\n   * Initialize layout; create main container, backdrop nd layout for main carousel\n   */\n  initLayout() {\n    this.$root = this.option(\"parentEl\") || document.body;\n\n    // Container\n    let mainTemplate = this.option(\"template.main\");\n\n    if (mainTemplate) {\n      this.$root.insertAdjacentHTML(\"beforeend\", this.localize(mainTemplate));\n\n      this.$container = this.$root.querySelector(\".fancybox__container\");\n    }\n\n    if (!this.$container) {\n      this.$container = document.createElement(\"div\");\n      this.$root.appendChild(this.$container);\n    }\n\n    // Normally we would not need this, but Safari does not support `preventScroll:false` option for `focus` method\n    // and that causes layout issues\n    this.$container.onscroll = () => {\n      this.$container.scrollLeft = 0;\n      return false;\n    };\n\n    Object.entries({\n      class: \"fancybox__container\",\n      role: \"dialog\",\n      tabIndex: \"-1\",\n      \"aria-modal\": \"true\",\n      \"aria-hidden\": \"true\",\n      \"aria-label\": this.localize(\"{{MODAL}}\"),\n    }).forEach((args) => this.$container.setAttribute(...args));\n\n    if (this.option(\"animated\")) {\n      this.$container.classList.add(\"is-animated\");\n    }\n\n    // Backdrop\n    this.$backdrop = this.$container.querySelector(\".fancybox__backdrop\");\n\n    if (!this.$backdrop) {\n      this.$backdrop = document.createElement(\"div\");\n      this.$backdrop.classList.add(\"fancybox__backdrop\");\n\n      this.$container.appendChild(this.$backdrop);\n    }\n\n    // Carousel\n    this.$carousel = this.$container.querySelector(\".fancybox__carousel\");\n\n    if (!this.$carousel) {\n      this.$carousel = document.createElement(\"div\");\n      this.$carousel.classList.add(\"fancybox__carousel\");\n\n      this.$container.appendChild(this.$carousel);\n    }\n\n    // Make instance reference accessible\n    this.$container.Fancybox = this;\n\n    // Make sure the container has an ID\n    this.id = this.$container.getAttribute(\"id\");\n\n    if (!this.id) {\n      this.id = this.options.id || ++called;\n      this.$container.setAttribute(\"id\", \"fancybox-\" + this.id);\n    }\n\n    // Add custom class name to main element\n    const mainClass = this.option(\"mainClass\");\n\n    if (mainClass) {\n      this.$container.classList.add(...mainClass.split(\" \"));\n    }\n\n    // Add class name for <html> element\n    document.documentElement.classList.add(\"with-fancybox\");\n\n    this.trigger(\"initLayout\");\n\n    return this;\n  }\n\n  /**\n   * Prepares slides for the corousel\n   * @returns {Array} Slides\n   */\n  setItems(items) {\n    const slides = [];\n\n    for (const slide of items) {\n      const $trigger = slide.$trigger;\n\n      if ($trigger) {\n        const dataset = $trigger.dataset || {};\n\n        slide.src = dataset.src || $trigger.getAttribute(\"href\") || slide.src;\n        slide.type = dataset.type || slide.type;\n\n        // Support items without `src`, e.g., when `data-fancybox` attribute added directly to `<img>` element\n        if (!slide.src && $trigger instanceof HTMLImageElement) {\n          slide.src = $trigger.currentSrc || slide.$trigger.src;\n        }\n      }\n\n      // Check for thumbnail element\n      let $thumb = slide.$thumb;\n\n      if (!$thumb) {\n        let origTarget = slide.$trigger && slide.$trigger.origTarget;\n\n        if (origTarget) {\n          if (origTarget instanceof HTMLImageElement) {\n            $thumb = origTarget;\n          } else {\n            $thumb = origTarget.querySelector(\"img:not([aria-hidden])\");\n          }\n        }\n\n        if (!$thumb && slide.$trigger) {\n          $thumb =\n            slide.$trigger instanceof HTMLImageElement\n              ? slide.$trigger\n              : slide.$trigger.querySelector(\"img:not([aria-hidden])\");\n        }\n      }\n\n      slide.$thumb = $thumb || null;\n\n      // Get thumbnail image source\n      let thumb = slide.thumb;\n\n      if (!thumb && $thumb) {\n        thumb = $thumb.currentSrc || $thumb.src;\n\n        if (!thumb && $thumb.dataset) {\n          thumb = $thumb.dataset.lazySrc || $thumb.dataset.src;\n        }\n      }\n\n      // Assume we have image, then use it as thumbnail\n      if (!thumb && slide.type === \"image\") {\n        thumb = slide.src;\n      }\n\n      slide.thumb = thumb || null;\n\n      // Add empty caption to make things simpler\n      slide.caption = slide.caption || \"\";\n\n      slides.push(slide);\n    }\n\n    this.items = slides;\n  }\n\n  /**\n   * Initialize main Carousel that will be used to display the content\n   * @param {Array} slides\n   */\n  initCarousel() {\n    this.Carousel = new Carousel(\n      this.$carousel,\n      extend(\n        true,\n        {},\n        {\n          prefix: \"\",\n\n          classNames: {\n            viewport: \"fancybox__viewport\",\n            track: \"fancybox__track\",\n            slide: \"fancybox__slide\",\n          },\n\n          textSelection: true,\n          preload: this.option(\"preload\"),\n\n          friction: 0.88,\n\n          slides: this.items,\n          initialPage: this.options.startIndex,\n          slidesPerPage: 1,\n\n          infiniteX: this.option(\"infinite\"),\n          infiniteY: true,\n\n          l10n: this.option(\"l10n\"),\n\n          Dots: false,\n          Navigation: {\n            classNames: {\n              main: \"fancybox__nav\",\n              button: \"carousel__button\",\n\n              next: \"is-next\",\n              prev: \"is-prev\",\n            },\n          },\n\n          Panzoom: {\n            textSelection: true,\n\n            panOnlyZoomed: () => {\n              return (\n                this.Carousel && this.Carousel.pages && this.Carousel.pages.length < 2 && !this.option(\"dragToClose\")\n              );\n            },\n\n            lockAxis: () => {\n              if (this.Carousel) {\n                let rez = \"x\";\n\n                if (this.option(\"dragToClose\")) {\n                  rez += \"y\";\n                }\n\n                return rez;\n              }\n            },\n          },\n\n          on: {\n            \"*\": (name, ...details) => this.trigger(`Carousel.${name}`, ...details),\n            init: (carousel) => (this.Carousel = carousel),\n            createSlide: this.onCreateSlide,\n            settle: this.onSettle,\n          },\n        },\n\n        this.option(\"Carousel\")\n      )\n    );\n\n    if (this.option(\"dragToClose\")) {\n      this.Carousel.Panzoom.on({\n        // Stop further touch event handling if content is scaled\n        touchMove: this.onTouchMove,\n\n        // Update backdrop opacity depending on vertical distance\n        afterTransform: this.onTransform,\n\n        // Close instance if drag distance exceeds limit\n        touchEnd: this.onTouchEnd,\n      });\n    }\n\n    this.trigger(\"initCarousel\");\n\n    return this;\n  }\n\n  /**\n   * Process `createSlide` event to create caption element inside new slide\n   */\n  onCreateSlide(carousel, slide) {\n    let caption = slide.caption || \"\";\n\n    if (typeof this.options.caption === \"function\") {\n      caption = this.options.caption.call(this, this, this.Carousel, slide);\n    }\n\n    if (typeof caption === \"string\" && caption.length) {\n      const $caption = document.createElement(\"div\");\n      const id = `fancybox__caption_${this.id}_${slide.index}`;\n\n      $caption.className = \"fancybox__caption\";\n      $caption.innerHTML = caption;\n      $caption.setAttribute(\"id\", id);\n\n      slide.$caption = slide.$el.appendChild($caption);\n\n      slide.$el.classList.add(\"has-caption\");\n      slide.$el.setAttribute(\"aria-labelledby\", id);\n    }\n  }\n\n  /**\n   * Handle Carousel `settle` event\n   */\n  onSettle() {\n    if (this.option(\"autoFocus\")) {\n      this.focus();\n    }\n  }\n\n  /**\n   * Handle focus event\n   * @param {Event} event - Focus event\n   */\n  onFocus(event) {\n    if (!this.isTopmost()) {\n      return;\n    }\n\n    this.focus(event);\n  }\n\n  /**\n   * Handle click event on the container\n   * @param {Event} event - Click event\n   */\n  onClick(event) {\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    let eventTarget = event.composedPath()[0];\n\n    if (eventTarget.matches(\"[data-fancybox-close]\")) {\n      event.preventDefault();\n      Fancybox.close(false, event);\n\n      return;\n    }\n\n    if (eventTarget.matches(\"[data-fancybox-next]\")) {\n      event.preventDefault();\n      Fancybox.next();\n\n      return;\n    }\n\n    if (eventTarget.matches(\"[data-fancybox-prev]\")) {\n      event.preventDefault();\n      Fancybox.prev();\n\n      return;\n    }\n\n    const activeElement = document.activeElement;\n\n    if (activeElement) {\n      if (activeElement.closest(\"[contenteditable]\")) {\n        return;\n      }\n\n      if (!eventTarget.matches(FOCUSABLE_ELEMENTS)) {\n        activeElement.blur();\n      }\n    }\n\n    // Skip if clicked inside content area\n    if (eventTarget.closest(\".fancybox__content\")) {\n      return;\n    }\n\n    // Skip if text is selected\n    if (getSelection().toString().length) {\n      return;\n    }\n\n    if (this.trigger(\"click\", event) === false) {\n      return;\n    }\n\n    const action = this.option(\"click\");\n\n    switch (action) {\n      case \"close\":\n        this.close();\n        break;\n      case \"next\":\n        this.next();\n        break;\n    }\n  }\n\n  /**\n   * Handle panzoom `touchMove` event; Disable dragging if content of current slide is scaled\n   */\n  onTouchMove() {\n    const panzoom = this.getSlide().Panzoom;\n\n    return panzoom && panzoom.content.scale !== 1 ? false : true;\n  }\n\n  /**\n   * Handle panzoom `touchEnd` event; close when quick flick up/down is detected\n   * @param {Object} panzoom - Panzoom instance\n   */\n  onTouchEnd(panzoom) {\n    const distanceY = panzoom.dragOffset.y;\n\n    if (Math.abs(distanceY) >= 150 || (Math.abs(distanceY) >= 35 && panzoom.dragOffset.time < 350)) {\n      if (this.option(\"hideClass\")) {\n        this.getSlide().hideClass = `fancybox-throwOut${panzoom.content.y < 0 ? \"Up\" : \"Down\"}`;\n      }\n\n      this.close();\n    } else if (panzoom.lockAxis === \"y\") {\n      panzoom.panTo({ y: 0 });\n    }\n  }\n\n  /**\n   * Handle `afterTransform` event; change backdrop opacity based on current y position of panzoom\n   * @param {Object} panzoom - Panzoom instance\n   */\n  onTransform(panzoom) {\n    const $backdrop = this.$backdrop;\n\n    if ($backdrop) {\n      const yPos = Math.abs(panzoom.content.y);\n      const opacity = yPos < 1 ? \"\" : Math.max(0.33, Math.min(1, 1 - (yPos / panzoom.content.fitHeight) * 1.5));\n\n      this.$container.style.setProperty(\"--fancybox-ts\", opacity ? \"0s\" : \"\");\n      this.$container.style.setProperty(\"--fancybox-opacity\", opacity);\n    }\n  }\n\n  /**\n   * Handle `mousedown` event to mark that the mouse is in use\n   */\n  onMousedown() {\n    if (this.state === \"ready\") {\n      document.body.classList.add(\"is-using-mouse\");\n    }\n  }\n\n  /**\n   * Handle `keydown` event; trap focus\n   * @param {Event} event Keydown event\n   */\n  onKeydown(event) {\n    if (!this.isTopmost()) {\n      return;\n    }\n\n    document.body.classList.remove(\"is-using-mouse\");\n\n    const key = event.key;\n    const keyboard = this.option(\"keyboard\");\n\n    if (!keyboard || event.ctrlKey || event.altKey || event.shiftKey) {\n      return;\n    }\n\n    const target = event.composedPath()[0];\n\n    const classList = document.activeElement && document.activeElement.classList;\n    const isUIElement = classList && classList.contains(\"carousel__button\");\n\n    // Allow to close using Escape button\n    if (key !== \"Escape\" && !isUIElement) {\n      let ignoreElements =\n        event.target.isContentEditable ||\n        [\"BUTTON\", \"TEXTAREA\", \"OPTION\", \"INPUT\", \"SELECT\", \"VIDEO\"].indexOf(target.nodeName) !== -1;\n\n      if (ignoreElements) {\n        return;\n      }\n    }\n\n    if (this.trigger(\"keydown\", key, event) === false) {\n      return;\n    }\n\n    const action = keyboard[key];\n\n    if (typeof this[action] === \"function\") {\n      this[action]();\n    }\n  }\n\n  /**\n   * Get the active slide. This will be the first slide from the current page of the main carousel.\n   */\n  getSlide() {\n    const carousel = this.Carousel;\n\n    if (!carousel) return null;\n\n    const page = carousel.page === null ? carousel.option(\"initialPage\") : carousel.page;\n    const pages = carousel.pages || [];\n\n    if (pages.length && pages[page]) {\n      return pages[page].slides[0];\n    }\n\n    return null;\n  }\n\n  /**\n   * Place focus on the first focusable element inside current slide\n   * @param {Event} [event] - Focus event\n   */\n  focus(event) {\n    if (Fancybox.ignoreFocusChange) {\n      return;\n    }\n\n    if ([\"init\", \"closing\", \"customClosing\", \"destroy\"].indexOf(this.state) > -1) {\n      return;\n    }\n\n    const $container = this.$container;\n    const currentSlide = this.getSlide();\n    const $currentSlide = currentSlide.state === \"done\" ? currentSlide.$el : null;\n\n    // Skip if the DOM element that is currently in focus is already inside the current slide\n    if ($currentSlide && $currentSlide.contains(document.activeElement)) {\n      return;\n    }\n\n    if (event) {\n      event.preventDefault();\n    }\n\n    Fancybox.ignoreFocusChange = true;\n\n    const allFocusableElems = Array.from($container.querySelectorAll(FOCUSABLE_ELEMENTS));\n\n    let enabledElems = [];\n    let $firstEl;\n\n    for (let node of allFocusableElems) {\n      // Enable element if it's visible and\n      // is inside the current slide or is outside main carousel (for example, inside the toolbar)\n      const isNodeVisible = node.offsetParent;\n      const isNodeInsideCurrentSlide = $currentSlide && $currentSlide.contains(node);\n      const isNodeOutsideCarousel = !this.Carousel.$viewport.contains(node);\n\n      if (isNodeVisible && (isNodeInsideCurrentSlide || isNodeOutsideCarousel)) {\n        enabledElems.push(node);\n\n        if (node.dataset.origTabindex !== undefined) {\n          node.tabIndex = node.dataset.origTabindex;\n          node.removeAttribute(\"data-orig-tabindex\");\n        }\n\n        if (\n          node.hasAttribute(\"autoFocus\") ||\n          (!$firstEl && isNodeInsideCurrentSlide && !node.classList.contains(\"carousel__button\"))\n        ) {\n          $firstEl = node;\n        }\n      } else {\n        // Element is either hidden or is inside preloaded slide (e.g., not inside current slide, but next/prev)\n        node.dataset.origTabindex =\n          node.dataset.origTabindex === undefined ? node.getAttribute(\"tabindex\") : node.dataset.origTabindex;\n\n        node.tabIndex = -1;\n      }\n    }\n\n    if (!event) {\n      if (this.option(\"autoFocus\") && $firstEl) {\n        setFocusOn($firstEl);\n      } else if (enabledElems.indexOf(document.activeElement) < 0) {\n        setFocusOn($container);\n      }\n    } else {\n      if (enabledElems.indexOf(event.target) > -1) {\n        this.lastFocus = event.target;\n      } else {\n        if (this.lastFocus === $container) {\n          setFocusOn(enabledElems[enabledElems.length - 1]);\n        } else {\n          setFocusOn($container);\n        }\n      }\n    }\n\n    this.lastFocus = document.activeElement;\n\n    Fancybox.ignoreFocusChange = false;\n  }\n\n  /**\n   * Hide vertical page scrollbar and adjust right padding value of `body` element to prevent content from shifting\n   * (otherwise the `body` element may become wider and the content may expand horizontally).\n   */\n  hideScrollbar() {\n    if (!canUseDOM) {\n      return;\n    }\n\n    const scrollbarWidth = window.innerWidth - document.documentElement.getBoundingClientRect().width;\n    const id = \"fancybox-style-noscroll\";\n\n    let $style = document.getElementById(id);\n\n    if ($style) {\n      return;\n    }\n\n    if (scrollbarWidth > 0) {\n      $style = document.createElement(\"style\");\n\n      $style.id = id;\n      $style.type = \"text/css\";\n      $style.innerHTML = `.compensate-for-scrollbar {padding-right: ${scrollbarWidth}px;}`;\n\n      document.getElementsByTagName(\"head\")[0].appendChild($style);\n\n      document.body.classList.add(\"compensate-for-scrollbar\");\n    }\n  }\n\n  /**\n   * Stop hiding vertical page scrollbar\n   */\n  revealScrollbar() {\n    document.body.classList.remove(\"compensate-for-scrollbar\");\n\n    const el = document.getElementById(\"fancybox-style-noscroll\");\n\n    if (el) {\n      el.remove();\n    }\n  }\n\n  /**\n   * Remove content for given slide\n   * @param {Object} slide - Carousel slide\n   */\n  clearContent(slide) {\n    // * Clear previously added content and class name\n    this.Carousel.trigger(\"removeSlide\", slide);\n\n    if (slide.$content) {\n      slide.$content.remove();\n      slide.$content = null;\n    }\n\n    if (slide.$closeButton) {\n      slide.$closeButton.remove();\n      slide.$closeButton = null;\n    }\n\n    if (slide._className) {\n      slide.$el.classList.remove(slide._className);\n    }\n  }\n\n  /**\n   * Set new content for given slide\n   * @param {Object} slide - Carousel slide\n   * @param {HTMLElement|String} html - HTML element or string containing HTML code\n   * @param {Object} [opts] - Options\n   */\n  setContent(slide, html, opts = {}) {\n    let $content;\n\n    const $el = slide.$el;\n\n    if (html instanceof HTMLElement) {\n      if ([\"img\", \"iframe\", \"video\", \"audio\"].indexOf(html.nodeName.toLowerCase()) > -1) {\n        $content = document.createElement(\"div\");\n        $content.appendChild(html);\n      } else {\n        $content = html;\n      }\n    } else {\n      const $fragment = document.createRange().createContextualFragment(html);\n\n      $content = document.createElement(\"div\");\n      $content.appendChild($fragment);\n    }\n\n    if (slide.filter && !slide.error) {\n      $content = $content.querySelector(slide.filter);\n    }\n\n    if (!($content instanceof Element)) {\n      this.setError(slide, \"{{ELEMENT_NOT_FOUND}}\");\n\n      return;\n    }\n\n    // * Add class name indicating content type, for example `has-image`\n    slide._className = `has-${opts.suffix || slide.type || \"unknown\"}`;\n\n    $el.classList.add(slide._className);\n\n    // * Set content\n    $content.classList.add(\"fancybox__content\");\n\n    // Make sure that content is not hidden and will be visible\n    if ($content.style.display === \"none\" || getComputedStyle($content).getPropertyValue(\"display\") === \"none\") {\n      $content.style.display = slide.display || this.option(\"defaultDisplay\") || \"flex\";\n    }\n\n    if (slide.id) {\n      $content.setAttribute(\"id\", slide.id);\n    }\n\n    slide.$content = $content;\n\n    $el.prepend($content);\n\n    this.manageCloseButton(slide);\n\n    if (slide.state !== \"loading\") {\n      this.revealContent(slide);\n    }\n\n    return $content;\n  }\n\n  /**\n   * Create close button if needed\n   * @param {Object} slide\n   */\n  manageCloseButton(slide) {\n    const position = slide.closeButton === undefined ? this.option(\"closeButton\") : slide.closeButton;\n\n    if (!position || (position === \"top\" && this.$closeButton)) {\n      return;\n    }\n\n    const $btn = document.createElement(\"button\");\n\n    $btn.classList.add(\"carousel__button\", \"is-close\");\n    $btn.setAttribute(\"title\", this.options.l10n.CLOSE);\n    $btn.innerHTML = this.option(\"template.closeButton\");\n\n    $btn.addEventListener(\"click\", (e) => this.close(e));\n\n    if (position === \"inside\") {\n      // Remove existing one to avoid scope issues\n      if (slide.$closeButton) {\n        slide.$closeButton.remove();\n      }\n\n      slide.$closeButton = slide.$content.appendChild($btn);\n    } else {\n      this.$closeButton = this.$container.insertBefore($btn, this.$container.firstChild);\n    }\n  }\n\n  /**\n   * Make content visible for given slide and optionally start CSS animation\n   * @param {Object} slide - Carousel slide\n   */\n  revealContent(slide) {\n    this.trigger(\"reveal\", slide);\n\n    slide.$content.style.visibility = \"\";\n\n    // Add CSS class name that reveals content (default animation is \"fadeIn\")\n    let showClass = false;\n\n    if (\n      !(\n        slide.error ||\n        slide.state === \"loading\" ||\n        this.Carousel.prevPage !== null ||\n        slide.index !== this.options.startIndex\n      )\n    ) {\n      showClass = slide.showClass === undefined ? this.option(\"showClass\") : slide.showClass;\n    }\n\n    if (!showClass) {\n      this.done(slide);\n\n      return;\n    }\n\n    slide.state = \"animating\";\n\n    this.animateCSS(slide.$content, showClass, () => {\n      this.done(slide);\n    });\n  }\n\n  /**\n   * Add class name to given HTML element and wait for `animationend` event to execute callback\n   * @param {HTMLElement} $el\n   * @param {String} className\n   * @param {Function} callback - A callback to run\n   */\n  animateCSS($element, className, callback) {\n    if ($element) {\n      $element.dispatchEvent(new CustomEvent(\"animationend\", { bubbles: true, cancelable: true }));\n    }\n\n    if (!$element || !className) {\n      if (typeof callback === \"function\") {\n        callback();\n      }\n\n      return;\n    }\n\n    const handleAnimationEnd = function (event) {\n      if (event.currentTarget === this) {\n        $element.removeEventListener(\"animationend\", handleAnimationEnd);\n\n        if (callback) {\n          callback();\n        }\n\n        $element.classList.remove(className);\n      }\n    };\n\n    $element.addEventListener(\"animationend\", handleAnimationEnd);\n    $element.classList.add(className);\n  }\n\n  /**\n   * Mark given slide as `done`, e.g., content is loaded and displayed completely\n   * @param {Object} slide - Carousel slide\n   */\n  done(slide) {\n    slide.state = \"done\";\n\n    this.trigger(\"done\", slide);\n\n    // Trigger focus for current slide (and ignore preloaded slides)\n    const currentSlide = this.getSlide();\n\n    if (currentSlide && slide.index === currentSlide.index && this.option(\"autoFocus\")) {\n      this.focus();\n    }\n  }\n\n  /**\n   * Set error message as slide content\n   * @param {Object} slide - Carousel slide\n   * @param {String} message - Error message, can contain HTML code and template variables\n   */\n  setError(slide, message) {\n    slide.error = message;\n\n    this.hideLoading(slide);\n    this.clearContent(slide);\n\n    // Create new content\n    const div = document.createElement(\"div\");\n    div.classList.add(\"fancybox-error\");\n    div.innerHTML = this.localize(message || \"<p>{{ERROR}}</p>\");\n\n    this.setContent(slide, div, { suffix: \"error\" });\n  }\n\n  /**\n   * Create loading indicator inside given slide\n   * @param {Object} slide - Carousel slide\n   */\n  showLoading(slide) {\n    slide.state = \"loading\";\n\n    slide.$el.classList.add(\"is-loading\");\n\n    let $spinner = slide.$el.querySelector(\".fancybox__spinner\");\n\n    if ($spinner) {\n      return;\n    }\n\n    $spinner = document.createElement(\"div\");\n\n    $spinner.classList.add(\"fancybox__spinner\");\n    $spinner.innerHTML = this.option(\"template.spinner\");\n\n    $spinner.addEventListener(\"click\", () => {\n      if (!this.Carousel.Panzoom.velocity) this.close();\n    });\n\n    slide.$el.prepend($spinner);\n  }\n\n  /**\n   * Remove loading indicator from given slide\n   * @param {Object} slide - Carousel slide\n   */\n  hideLoading(slide) {\n    const $spinner = slide.$el && slide.$el.querySelector(\".fancybox__spinner\");\n\n    if ($spinner) {\n      $spinner.remove();\n\n      slide.$el.classList.remove(\"is-loading\");\n    }\n\n    if (slide.state === \"loading\") {\n      this.trigger(\"load\", slide);\n\n      slide.state = \"ready\";\n    }\n  }\n\n  /**\n   * Slide carousel to next page\n   */\n  next() {\n    const carousel = this.Carousel;\n\n    if (carousel && carousel.pages.length > 1) {\n      carousel.slideNext();\n    }\n  }\n\n  /**\n   * Slide carousel to previous page\n   */\n  prev() {\n    const carousel = this.Carousel;\n\n    if (carousel && carousel.pages.length > 1) {\n      carousel.slidePrev();\n    }\n  }\n\n  /**\n   * Slide carousel to selected page with optional parameters\n   * Examples:\n   *    Fancybox.getInstance().jumpTo(2);\n   *    Fancybox.getInstance().jumpTo(3, {friction: 0})\n   * @param  {...any} args - Arguments for Carousel `slideTo` method\n   */\n  jumpTo(...args) {\n    if (this.Carousel) this.Carousel.slideTo(...args);\n  }\n\n  /**\n   * Check if current instance is trying to close or is already closed\n   * @returns {Boolean}\n   */\n  isClosing() {\n    return [\"closing\", \"customClosing\", \"destroy\"].includes(this.state);\n  }\n\n  /**\n   * Check if the current instance is not blocked by another instance\n   * @returns {Boolean}\n   */\n  isTopmost() {\n    return Fancybox.getInstance().id == this.id;\n  }\n\n  /**\n   * Start closing the current instance\n   * @param {Event} [event] - Optional click event\n   */\n  close(event) {\n    if (event) event.preventDefault();\n\n    // First, stop further execution if this instance is already closing\n    // (this can happen if, for example, user clicks close button multiple times really fast)\n    if (this.isClosing()) {\n      return;\n    }\n\n    // Allow callbacks and/or plugins to prevent closing\n    if (this.trigger(\"shouldClose\", event) === false) {\n      return;\n    }\n\n    this.state = \"closing\";\n\n    this.Carousel.Panzoom.destroy();\n\n    this.detachEvents();\n\n    this.trigger(\"closing\", event);\n\n    if (this.state === \"destroy\") {\n      return;\n    }\n\n    // Trigger default CSS closing animation for backdrop and interface elements\n    this.$container.setAttribute(\"aria-hidden\", \"true\");\n\n    this.$container.classList.add(\"is-closing\");\n\n    // Clear inactive slides\n    const currentSlide = this.getSlide();\n\n    this.Carousel.slides.forEach((slide) => {\n      if (slide.$content && slide.index !== currentSlide.index) {\n        this.Carousel.trigger(\"removeSlide\", slide);\n      }\n    });\n\n    // Start default closing animation\n    if (this.state === \"closing\") {\n      const hideClass = currentSlide.hideClass === undefined ? this.option(\"hideClass\") : currentSlide.hideClass;\n\n      this.animateCSS(\n        currentSlide.$content,\n        hideClass,\n        () => {\n          this.destroy();\n        },\n        true\n      );\n    }\n  }\n\n  /**\n   * Clean up after closing fancybox\n   */\n  destroy() {\n    if (this.state === \"destroy\") {\n      return;\n    }\n\n    this.state = \"destroy\";\n\n    this.trigger(\"destroy\");\n\n    const $trigger = this.option(\"placeFocusBack\") ? this.option(\"triggerTarget\", this.getSlide().$trigger) : null;\n\n    // Destroy Carousel and then detach plugins;\n    // * Note: this order allows plugins to receive `removeSlide` event\n    this.Carousel.destroy();\n\n    this.detachPlugins();\n\n    this.Carousel = null;\n\n    this.options = {};\n    this.events = {};\n\n    this.$container.remove();\n\n    this.$container = this.$backdrop = this.$carousel = null;\n\n    if ($trigger) {\n      setFocusOn($trigger);\n    }\n\n    instances.delete(this.id);\n\n    const nextInstance = Fancybox.getInstance();\n\n    if (nextInstance) {\n      nextInstance.focus();\n      return;\n    }\n\n    document.documentElement.classList.remove(\"with-fancybox\");\n    document.body.classList.remove(\"is-using-mouse\");\n\n    this.revealScrollbar();\n  }\n\n  /**\n   * Create new Fancybox instance with provided options\n   * Example:\n   *   Fancybox.show([{ src : 'https://lipsum.app/id/1/300x225' }]);\n   * @param {Array} items - Gallery items\n   * @param {Object} [options] - Optional custom options\n   * @returns {Object} Fancybox instance\n   */\n  static show(items, options = {}) {\n    return new Fancybox(items, options);\n  }\n\n  /**\n   * Starts Fancybox if event target matches any opener or target is `trigger element`\n   * @param {Event} event - Click event\n   * @param {Object} [options] - Optional custom options\n   */\n  static fromEvent(event, options = {}) {\n    //  Allow other scripts to prevent starting fancybox on click\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    // Don't run if right-click\n    if (event.button && event.button !== 0) {\n      return;\n    }\n\n    // Ignore command/control + click\n    if (event.ctrlKey || event.metaKey || event.shiftKey) {\n      return;\n    }\n\n    const origTarget = event.composedPath()[0];\n    let eventTarget = origTarget;\n\n    // Support `trigger` element, e.g., start fancybox from different DOM element, for example,\n    // to have one preview image for hidden image gallery\n    let triggerGroupName;\n\n    if (\n      eventTarget.matches(\"[data-fancybox-trigger]\") ||\n      (eventTarget = eventTarget.closest(\"[data-fancybox-trigger]\"))\n    ) {\n      options.triggerTarget = eventTarget;\n      triggerGroupName = eventTarget && eventTarget.dataset && eventTarget.dataset.fancyboxTrigger;\n    }\n\n    if (triggerGroupName) {\n      const triggerItems = document.querySelectorAll(`[data-fancybox=\"${triggerGroupName}\"]`);\n      const triggerIndex = parseInt(eventTarget.dataset.fancyboxIndex, 10) || 0;\n\n      eventTarget = triggerItems.length ? triggerItems[triggerIndex] : eventTarget;\n    }\n\n    // * Try to find matching openener\n    let matchingOpener;\n    let target;\n\n    Array.from(Fancybox.openers.keys())\n      .reverse()\n      .some((opener) => {\n        target = eventTarget || origTarget;\n\n        let found = false;\n\n        try {\n          if (target instanceof Element && (typeof opener === \"string\" || opener instanceof String)) {\n            // Chain closest() to event.target to find and return the parent element,\n            // regardless if clicking on the child elements (icon, label, etc)\n            found = target.matches(opener) || (target = target.closest(opener));\n          }\n        } catch (error) {}\n\n        if (found) {\n          event.preventDefault();\n          matchingOpener = opener;\n          return true;\n        }\n\n        return false;\n      });\n\n    let rez = false;\n\n    if (matchingOpener) {\n      options.event = event;\n      options.target = target;\n\n      target.origTarget = origTarget;\n\n      rez = Fancybox.fromOpener(matchingOpener, options);\n\n      // Check if the mouse is being used\n      // Waiting for better browser support for `:focus-visible` -\n      // https://drafts.csswg.org/selectors-4/#the-focus-visible-pseudo\n      const nextInstance = Fancybox.getInstance();\n\n      if (nextInstance && nextInstance.state === \"ready\" && event.detail) {\n        document.body.classList.add(\"is-using-mouse\");\n      }\n    }\n\n    return rez;\n  }\n\n  /**\n   * Starts Fancybox using selector\n   * @param {String} opener - Valid CSS selector string\n   * @param {Object} [options] - Optional custom options\n   */\n  static fromOpener(opener, options = {}) {\n    // Callback function called once for each group element that\n    // 1) converts data attributes to boolean or JSON\n    // 2) removes values that could cause issues\n    const mapCallback = function (el) {\n      const falseValues = [\"false\", \"0\", \"no\", \"null\", \"undefined\"];\n      const trueValues = [\"true\", \"1\", \"yes\"];\n\n      const dataset = Object.assign({}, el.dataset);\n      const options = {};\n\n      for (let [key, value] of Object.entries(dataset)) {\n        if (key === \"fancybox\") {\n          continue;\n        }\n\n        if (key === \"width\" || key === \"height\") {\n          options[`_${key}`] = value;\n        } else if (typeof value === \"string\" || value instanceof String) {\n          if (falseValues.indexOf(value) > -1) {\n            options[key] = false;\n          } else if (trueValues.indexOf(options[key]) > -1) {\n            options[key] = true;\n          } else {\n            try {\n              options[key] = JSON.parse(value);\n            } catch (e) {\n              options[key] = value;\n            }\n          }\n        } else {\n          options[key] = value;\n        }\n      }\n\n      if (el instanceof Element) {\n        options.$trigger = el;\n      }\n\n      return options;\n    };\n\n    let items = [],\n      index = options.startIndex || 0,\n      target = options.target || null;\n\n    // Get options\n    // ===\n    options = extend({}, options, Fancybox.openers.get(opener));\n\n    // Get matching nodes\n    // ===\n    const groupAll = options.groupAll === undefined ? false : options.groupAll;\n\n    const groupAttr = options.groupAttr === undefined ? \"data-fancybox\" : options.groupAttr;\n    const groupValue = groupAttr && target ? target.getAttribute(`${groupAttr}`) : \"\";\n\n    if (!target || groupValue || groupAll) {\n      const $root = options.root || (target ? target.getRootNode() : document.body);\n\n      items = [].slice.call($root.querySelectorAll(opener));\n    }\n\n    if (target && !groupAll) {\n      if (groupValue) {\n        items = items.filter((el) => el.getAttribute(`${groupAttr}`) === groupValue);\n      } else {\n        items = [target];\n      }\n    }\n\n    if (!items.length) {\n      return false;\n    }\n\n    // Exit if current instance is triggered from the same element\n    // ===\n    const currentInstance = Fancybox.getInstance();\n\n    if (currentInstance && items.indexOf(currentInstance.options.$trigger) > -1) {\n      return false;\n    }\n\n    // Start Fancybox\n    // ===\n\n    // Get index of current item in the gallery\n    index = target ? items.indexOf(target) : index;\n\n    // Convert items in a format supported by fancybox\n    items = items.map(mapCallback);\n\n    // * Create new fancybox instance\n    return new Fancybox(\n      items,\n      extend({}, options, {\n        startIndex: index,\n        $trigger: target,\n      })\n    );\n  }\n\n  /**\n   * Attach a click handler function that starts Fancybox to the selected items, as well as to all future matching elements.\n   * @param {String} selector - Selector that should match trigger elements\n   * @param {Object} [options] - Custom options\n   */\n  static bind(selector, options = {}) {\n    function attachClickEvent() {\n      document.body.addEventListener(\"click\", Fancybox.fromEvent, false);\n    }\n\n    if (!canUseDOM) {\n      return;\n    }\n\n    if (!Fancybox.openers.size) {\n      if (/complete|interactive|loaded/.test(document.readyState)) {\n        attachClickEvent();\n      } else {\n        document.addEventListener(\"DOMContentLoaded\", attachClickEvent);\n      }\n    }\n\n    Fancybox.openers.set(selector, options);\n  }\n\n  /**\n   * Remove the click handler that was attached with `bind()`\n   * @param {String} selector - A selector which should match the one originally passed to .bind()\n   */\n  static unbind(selector) {\n    Fancybox.openers.delete(selector);\n\n    if (!Fancybox.openers.size) {\n      Fancybox.destroy();\n    }\n  }\n\n  /**\n   * Immediately destroy all instances (without closing animation) and clean up all bindings..\n   */\n  static destroy() {\n    let fb;\n\n    while ((fb = Fancybox.getInstance())) {\n      fb.destroy();\n    }\n\n    Fancybox.openers = new Map();\n\n    document.body.removeEventListener(\"click\", Fancybox.fromEvent, false);\n  }\n\n  /**\n   * Retrieve instance by identifier or the top most instance, if identifier is not provided\n   * @param {String|Numeric} [id] - Optional instance identifier\n   */\n  static getInstance(id) {\n    if (id) {\n      return instances.get(id);\n    }\n\n    const instance = Array.from(instances.values())\n      .reverse()\n      .find((instance) => {\n        if (!instance.isClosing()) {\n          return instance;\n        }\n\n        return false;\n      });\n\n    return instance || null;\n  }\n\n  /**\n   * Close all or topmost currently active instance.\n   * @param {boolean} [all] - All or only topmost active instance\n   * @param {any} [arguments] - Optional data\n   */\n  static close(all = true, args) {\n    if (all) {\n      for (const instance of instances.values()) {\n        instance.close(args);\n      }\n    } else {\n      const instance = Fancybox.getInstance();\n\n      if (instance) {\n        instance.close(args);\n      }\n    }\n  }\n\n  /**\n   * Slide topmost currently active instance to next page\n   */\n  static next() {\n    const instance = Fancybox.getInstance();\n\n    if (instance) {\n      instance.next();\n    }\n  }\n\n  /**\n   * Slide topmost currently active instance to previous page\n   */\n  static prev() {\n    const instance = Fancybox.getInstance();\n\n    if (instance) {\n      instance.prev();\n    }\n  }\n}\n\n// Expose version\nFancybox.version = \"__VERSION__\";\n\n// Expose defaults\nFancybox.defaults = defaults;\n\n// Expose openers\nFancybox.openers = new Map();\n\n// Add default plugins\nFancybox.Plugins = Plugins;\n\n// Auto init with default options\nFancybox.bind(\"[data-fancybox]\");\n\n// Prepare plugins\nfor (const [key, Plugin] of Object.entries(Fancybox.Plugins || {})) {\n  if (typeof Plugin.create === \"function\") {\n    Plugin.create(Fancybox);\n  }\n}\n\nexport { Fancybox };\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classCallCheck;\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _createClass;\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _get;\nvar _superPropBase = _interopRequireDefault(require(\"./_super_prop_base\"));\nfunction _get(target, property, receiver) {\n    return get(target, property, receiver);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\nfunction get(target1, property1, receiver1) {\n    if (typeof Reflect !== \"undefined\" && Reflect.get) {\n        get = Reflect.get;\n    } else {\n        get = function get(target, property, receiver) {\n            var base = (0, _superPropBase).default(target, property);\n            if (!base) return;\n            var desc = Object.getOwnPropertyDescriptor(base, property);\n            if (desc.get) {\n                return desc.get.call(receiver || target);\n            }\n            return desc.value;\n        };\n    }\n    return get(target1, property1, receiver1);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _inherits;\nvar _setPrototypeOf = _interopRequireDefault(require(\"./_set_prototype_of\"));\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n        throw new TypeError(\"Super expression must either be null or a function\");\n    }\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n        constructor: {\n            value: subClass,\n            writable: true,\n            configurable: true\n        }\n    });\n    if (superClass) (0, _setPrototypeOf).default(subClass, superClass);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _slicedToArray;\nvar _arrayWithHoles = _interopRequireDefault(require(\"./_array_with_holes\"));\nvar _iterableToArray = _interopRequireDefault(require(\"./_iterable_to_array\"));\nvar _nonIterableRest = _interopRequireDefault(require(\"./_non_iterable_rest\"));\nvar _unsupportedIterableToArray = _interopRequireDefault(require(\"./_unsupported_iterable_to_array\"));\nfunction _slicedToArray(arr, i) {\n    return (0, _arrayWithHoles).default(arr) || (0, _iterableToArray).default(arr, i) || (0, _unsupportedIterableToArray).default(arr, i) || (0, _nonIterableRest).default();\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _toConsumableArray;\nvar _arrayWithoutHoles = _interopRequireDefault(require(\"./_array_without_holes\"));\nvar _iterableToArray = _interopRequireDefault(require(\"./_iterable_to_array\"));\nvar _nonIterableSpread = _interopRequireDefault(require(\"./_non_iterable_spread\"));\nvar _unsupportedIterableToArray = _interopRequireDefault(require(\"./_unsupported_iterable_to_array\"));\nfunction _toConsumableArray(arr) {\n    return (0, _arrayWithoutHoles).default(arr) || (0, _iterableToArray).default(arr) || (0, _unsupportedIterableToArray).default(arr) || (0, _nonIterableSpread).default();\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _createSuper;\nvar _isNativeReflectConstruct = _interopRequireDefault(require(\"./_is_native_reflect_construct\"));\nvar _getPrototypeOf = _interopRequireDefault(require(\"./_get_prototype_of\"));\nvar _possibleConstructorReturn = _interopRequireDefault(require(\"./_possible_constructor_return\"));\nfunction _createSuper(Derived) {\n    var hasNativeReflectConstruct = (0, _isNativeReflectConstruct).default();\n    return function _createSuperInternal() {\n        var Super = (0, _getPrototypeOf).default(Derived), result;\n        if (hasNativeReflectConstruct) {\n            var NewTarget = (0, _getPrototypeOf).default(this).constructor;\n            result = Reflect.construct(Super, arguments, NewTarget);\n        } else {\n            result = Super.apply(this, arguments);\n        }\n        return (0, _possibleConstructorReturn).default(this, result);\n    };\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","/**\n * Check to see if an object is a plain object (created using \"{}\" or \"new Object\").\n * @param {*} obj Variable of any type\n * @returns {Boolean}\n */\nexport const isPlainObject = (obj) => {\n  return (\n    // separate from primitives\n    typeof obj === \"object\" &&\n    // is obvious\n    obj !== null &&\n    // separate instances (Array, DOM, ...)\n    obj.constructor === Object &&\n    // separate build-in like Math\n    Object.prototype.toString.call(obj) === \"[object Object]\"\n  );\n};\n","import { isPlainObject } from \"./isPlainObject.js\";\n\n/**\n * Merge the contents of two or more objects together into the first object.\n * If passing \"true\" for first argument, the merge becomes recursive (aka. deep copy).\n * @param  {...any} args\n * @returns {Object}\n */\nexport const extend = (...args) => {\n  let deep = false;\n\n  if (typeof args[0] == \"boolean\") {\n    deep = args.shift();\n  }\n\n  let result = args[0];\n\n  if (!result || typeof result !== \"object\") {\n    throw new Error(\"extendee must be an object\");\n  }\n\n  const extenders = args.slice(1);\n  const len = extenders.length;\n\n  for (let i = 0; i < len; i++) {\n    const extender = extenders[i];\n\n    for (let key in extender) {\n      if (extender.hasOwnProperty(key)) {\n        const value = extender[key];\n\n        if (deep && (Array.isArray(value) || isPlainObject(value))) {\n          const base = Array.isArray(value) ? [] : {};\n\n          result[key] = extend(true, result.hasOwnProperty(key) ? result[key] : base, value);\n        } else {\n          result[key] = value;\n        }\n      }\n    }\n  }\n\n  return result;\n};\n","/**\r\n * Detect if rendering from the client or the server\r\n */\r\nexport const canUseDOM = !!(typeof window !== \"undefined\" && window.document && window.document.createElement);\r\n","import { canUseDOM } from \"./canUseDOM.js\";\r\n\r\nlet preventScrollSupported = null;\r\n\r\nexport const FOCUSABLE_ELEMENTS = [\r\n  \"a[href]\",\r\n  \"area[href]\",\r\n  'input:not([disabled]):not([type=\"hidden\"]):not([aria-hidden])',\r\n  \"select:not([disabled]):not([aria-hidden])\",\r\n  \"textarea:not([disabled]):not([aria-hidden])\",\r\n  \"button:not([disabled]):not([aria-hidden])\",\r\n  \"iframe\",\r\n  \"object\",\r\n  \"embed\",\r\n  \"video\",\r\n  \"audio\",\r\n  \"[contenteditable]\",\r\n  '[tabindex]:not([tabindex^=\"-\"]):not([disabled]):not([aria-hidden])',\r\n];\r\n\r\nexport const setFocusOn = (node) => {\r\n  if (!node || !canUseDOM) {\r\n    return;\r\n  }\r\n\r\n  if (preventScrollSupported === null) {\r\n    document.createElement(\"div\").focus({\r\n      get preventScroll() {\r\n        preventScrollSupported = true;\r\n\r\n        return false;\r\n      },\r\n    });\r\n  }\r\n\r\n  try {\r\n    if (node.setActive) {\r\n      // IE/Edge\r\n      node.setActive();\r\n    } else if (preventScrollSupported) {\r\n      // Modern browsers\r\n      node.focus({ preventScroll: true });\r\n    } else {\r\n      // Safari does not support `preventScroll` option\r\n      // https://bugs.webkit.org/show_bug.cgi?id=178583\r\n\r\n      // Save position\r\n      const scrollTop = window.pageXOffset || document.body.scrollTop;\r\n      const scrollLeft = window.pageYOffset || document.body.scrollLeft;\r\n\r\n      node.focus();\r\n\r\n      document.body.scrollTo({\r\n        top: scrollTop,\r\n        left: scrollLeft,\r\n        behavior: \"auto\",\r\n      });\r\n    }\r\n  } catch (e) {}\r\n};\r\n","/**\n * Access nested JavaScript objects by string path.\n * Example: `resolve(\"a.b.c\", {a:{b:{c:\"d\"}})` would return `d`\n * @param {String} path\n * @param {Object} obj\n * @returns {*}\n */\nexport const resolve = function (path, obj) {\n  return path.split(\".\").reduce(function (prev, curr) {\n    return prev && prev[curr];\n  }, obj);\n};\n","import { extend } from \"../utils/extend.js\";\nimport { resolve } from \"../utils/resolve.js\";\nimport { isPlainObject } from \"../utils/isPlainObject.js\";\n\n/**\n * Base class, all components inherit from this class\n */\nexport class Base {\n  /**\n   * Base constructor\n   * @param {Object} [options] - Options as `key: value` pairs\n   */\n  constructor(options = {}) {\n    this.options = extend(true, {}, options);\n\n    this.plugins = [];\n    this.events = {};\n\n    // * Prefill with initial events\n    for (const type of [\"on\", \"once\"]) {\n      for (const args of Object.entries(this.options[type] || {})) {\n        this[type](...args);\n      }\n    }\n  }\n\n  /**\n   * Retrieve option value by key, supports subkeys\n   * @param {String} key Option name\n   * @param {*} [fallback] Fallback value for non-existing key\n   * @returns {*}\n   */\n  option(key, fallback, ...rest) {\n    // Make sure it is string\n    key = String(key);\n\n    let value = resolve(key, this.options);\n\n    // Allow to have functions as options\n    if (typeof value === \"function\") {\n      value = value.call(this, this, ...rest);\n    }\n\n    return value === undefined ? fallback : value;\n  }\n\n  /**\n   * Simple l10n support - replaces object keys\n   * found in template with corresponding values\n   * @param {String} str String containing values to localize\n   * @param {Array} params Substitute parameters\n   * @returns {String}\n   */\n  localize(str, params = []) {\n    str = String(str).replace(/\\{\\{(\\w+).?(\\w+)?\\}\\}/g, (match, key, subkey) => {\n      let rez = \"\";\n\n      // Plugins have `Plugin.l10n.KEY`\n      if (subkey) {\n        rez = this.option(`${key[0] + key.toLowerCase().substring(1)}.l10n.${subkey}`);\n      } else if (key) {\n        rez = this.option(`l10n.${key}`);\n      }\n\n      if (!rez) {\n        rez = match;\n      }\n\n      for (let index = 0; index < params.length; index++) {\n        rez = rez.split(params[index][0]).join(params[index][1]);\n      }\n\n      return rez;\n    });\n\n    str = str.replace(/\\{\\{(.*)\\}\\}/, (match, key) => {\n      return key;\n    });\n\n    return str;\n  }\n\n  /**\n   * Subscribe to an event\n   * @param {String} name\n   * @param {Function} callback\n   * @returns {Object}\n   */\n  on(name, callback) {\n    if (isPlainObject(name)) {\n      for (const args of Object.entries(name)) {\n        this.on(...args);\n      }\n\n      return this;\n    }\n\n    String(name)\n      .split(\" \")\n      .forEach((item) => {\n        const listeners = (this.events[item] = this.events[item] || []);\n\n        if (listeners.indexOf(callback) == -1) {\n          listeners.push(callback);\n        }\n      });\n\n    return this;\n  }\n\n  /**\n   * Subscribe to an event only once\n   * @param {String} name\n   * @param {Function} callback\n   * @returns {Object}\n   */\n  once(name, callback) {\n    if (isPlainObject(name)) {\n      for (const args of Object.entries(name)) {\n        this.once(...args);\n      }\n\n      return this;\n    }\n\n    String(name)\n      .split(\" \")\n      .forEach((item) => {\n        const listener = (...details) => {\n          this.off(item, listener);\n          callback.call(this, this, ...details);\n        };\n\n        listener._ = callback;\n\n        this.on(item, listener);\n      });\n\n    return this;\n  }\n\n  /**\n   * Unsubscribe event with name and callback\n   * @param {String} name\n   * @param {Function} callback\n   * @returns {Object}\n   */\n  off(name, callback) {\n    if (isPlainObject(name)) {\n      for (const args of Object.entries(name)) {\n        this.off(...args);\n      }\n\n      return;\n    }\n\n    name.split(\" \").forEach((item) => {\n      const listeners = this.events[item];\n\n      if (!listeners || !listeners.length) {\n        return this;\n      }\n\n      let index = -1;\n\n      for (let i = 0, len = listeners.length; i < len; i++) {\n        const listener = listeners[i];\n\n        if (listener && (listener === callback || listener._ === callback)) {\n          index = i;\n          break;\n        }\n      }\n\n      if (index != -1) {\n        listeners.splice(index, 1);\n      }\n    });\n\n    return this;\n  }\n\n  /**\n   * Emit an event.\n   * If present, `\"*\"` handlers are invoked after name-matched handlers.\n   * @param {String} name\n   * @param  {...any} details\n   * @returns {Boolean}\n   */\n  trigger(name, ...details) {\n    for (const listener of [...(this.events[name] || [])].slice()) {\n      if (listener && listener.call(this, this, ...details) === false) {\n        return false;\n      }\n    }\n\n    // A wildcard \"*\" event type\n    for (const listener of [...(this.events[\"*\"] || [])].slice()) {\n      if (listener && listener.call(this, name, this, ...details) === false) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  /**\n   * Add given plugins to this instance,\n   * this will end up calling `attach` method of each plugin\n   * @param {Object} Plugins\n   * @returns {Object}\n   */\n  attachPlugins(plugins) {\n    const newPlugins = {};\n\n    for (const [key, Plugin] of Object.entries(plugins || {})) {\n      // Check if this plugin is not disabled by option\n      if (this.options[key] !== false && !this.plugins[key]) {\n        // Populate options with defaults from the plugin\n        this.options[key] = extend({}, Plugin.defaults || {}, this.options[key]);\n\n        // Initialise plugin\n        newPlugins[key] = new Plugin(this);\n      }\n    }\n\n    for (const [key, plugin] of Object.entries(newPlugins)) {\n      plugin.attach(this);\n    }\n\n    this.plugins = Object.assign({}, this.plugins, newPlugins);\n\n    return this;\n  }\n\n  /**\n   * Remove all plugin instances from this instance,\n   * this will end up calling `detach` method of each plugin\n   * @returns {Object}\n   */\n  detachPlugins() {\n    for (const key in this.plugins) {\n      let plugin;\n\n      if ((plugin = this.plugins[key]) && typeof plugin.detach === \"function\") {\n        plugin.detach(this);\n      }\n    }\n\n    this.plugins = {};\n\n    return this;\n  }\n}\n",null,"import { Base } from \"../shared/Base/Base.js\";\r\nimport { Panzoom } from \"../Panzoom/Panzoom.js\";\r\n\r\nimport { extend } from \"../shared/utils/extend.js\";\r\nimport { round } from \"../shared/utils/round.js\";\r\nimport { throttle } from \"../shared/utils/throttle.js\";\r\n\r\nimport { Plugins } from \"./plugins/index.js\";\r\n\r\n// Default language\r\nimport en from \"./l10n/en.js\";\r\n\r\nconst defaults = {\r\n  // Virtual slides. Each object should have at least `html` property that will be used to set content,\r\n  // example: `slides: [{html: 'First slide'}, {html: 'Second slide'}]`\r\n  slides: [],\r\n\r\n  // Number of slides to preload before/after visible slides\r\n  preload: 0,\r\n\r\n  // Number of slides to group into the page,\r\n  // if `auto` - group all slides that fit into the viewport\r\n  slidesPerPage: \"auto\",\r\n\r\n  // Index of initial page\r\n  initialPage: null,\r\n\r\n  // Index of initial slide\r\n  initialSlide: null,\r\n\r\n  // Panzoom friction while changing page\r\n  friction: 0.92,\r\n\r\n  // Should center active page\r\n  center: true,\r\n\r\n  // Should carousel scroll infinitely\r\n  infinite: true,\r\n\r\n  // Should the gap be filled before first and after last slide if `infinite: false`\r\n  fill: true,\r\n\r\n  // Should Carousel settle at any position after a swipe.\r\n  dragFree: false,\r\n\r\n  // Prefix for CSS classes, must be the same as the  SCSS `$carousel-prefix` variable\r\n  prefix: \"\",\r\n\r\n  // Class names for DOM elements (without prefix)\r\n  classNames: {\r\n    viewport: \"carousel__viewport\",\r\n    track: \"carousel__track\",\r\n    slide: \"carousel__slide\",\r\n\r\n    // Classname toggled for slides inside current page\r\n    slideSelected: \"is-selected\",\r\n  },\r\n\r\n  // Localization of strings\r\n  l10n: en,\r\n};\r\n\r\nexport class Carousel extends Base {\r\n  /**\r\n   * Carousel constructor\r\n   * @constructs Carousel\r\n   * @param {HTMLElement} $container - Carousel container\r\n   * @param {Object} [options] - Options for Carousel\r\n   */\r\n  constructor($container, options = {}) {\r\n    options = extend(true, {}, defaults, options);\r\n\r\n    super(options);\r\n\r\n    this.state = \"init\";\r\n\r\n    this.$container = $container;\r\n\r\n    if (!(this.$container instanceof HTMLElement)) {\r\n      throw new Error(\"No root element provided\");\r\n    }\r\n\r\n    this.slideNext = throttle(this.slideNext.bind(this), 250, true);\r\n    this.slidePrev = throttle(this.slidePrev.bind(this), 250, true);\r\n\r\n    this.init();\r\n\r\n    $container.__Carousel = this;\r\n  }\r\n\r\n  /**\r\n   * Perform initialization\r\n   */\r\n  init() {\r\n    this.pages = [];\r\n    this.page = this.pageIndex = null;\r\n    this.prevPage = this.prevPageIndex = null;\r\n\r\n    this.attachPlugins(Carousel.Plugins);\r\n\r\n    this.trigger(\"init\");\r\n\r\n    this.initLayout();\r\n\r\n    this.initSlides();\r\n\r\n    this.updateMetrics();\r\n\r\n    if (this.$track && this.pages.length) {\r\n      this.$track.style.transform = `translate3d(${this.pages[this.page].left * -1}px, 0px, 0) scale(1)`;\r\n    }\r\n\r\n    this.manageSlideVisiblity();\r\n\r\n    this.initPanzoom();\r\n\r\n    this.state = \"ready\";\r\n\r\n    this.trigger(\"ready\");\r\n  }\r\n\r\n  /**\r\n   * Initialize layout; create necessary elements\r\n   */\r\n  initLayout() {\r\n    const prefix = this.option(\"prefix\");\r\n    const classNames = this.option(\"classNames\");\r\n\r\n    this.$viewport = this.option(\"viewport\") || this.$container.querySelector(`.${prefix}${classNames.viewport}`);\r\n\r\n    if (!this.$viewport) {\r\n      this.$viewport = document.createElement(\"div\");\r\n      this.$viewport.classList.add(...(prefix + classNames.viewport).split(\" \"));\r\n\r\n      this.$viewport.append(...this.$container.childNodes);\r\n\r\n      this.$container.appendChild(this.$viewport);\r\n    }\r\n\r\n    this.$track = this.option(\"track\") || this.$container.querySelector(`.${prefix}${classNames.track}`);\r\n\r\n    if (!this.$track) {\r\n      this.$track = document.createElement(\"div\");\r\n      this.$track.classList.add(...(prefix + classNames.track).split(\" \"));\r\n\r\n      this.$track.append(...this.$viewport.childNodes);\r\n\r\n      this.$viewport.appendChild(this.$track);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Fill `slides` array with objects from existing nodes and/or `slides` option\r\n   */\r\n  initSlides() {\r\n    this.slides = [];\r\n\r\n    // Get existing slides from the DOM\r\n    const elems = this.$viewport.querySelectorAll(`.${this.option(\"prefix\")}${this.option(\"classNames.slide\")}`);\r\n\r\n    elems.forEach((el) => {\r\n      const slide = {\r\n        $el: el,\r\n        isDom: true,\r\n      };\r\n\r\n      this.slides.push(slide);\r\n\r\n      this.trigger(\"createSlide\", slide, this.slides.length);\r\n    });\r\n\r\n    // Add virtual slides, but do not create DOM elements yet,\r\n    // because they will be created dynamically based on current carousel position\r\n    if (Array.isArray(this.options.slides)) {\r\n      this.slides = extend(true, [...this.slides], this.options.slides);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Do all calculations related to slide size and paging\r\n   */\r\n  updateMetrics() {\r\n    // Calculate content width, viewport width\r\n    // ===\r\n    let contentWidth = 0;\r\n    let indexes = [];\r\n    let lastSlideWidth;\r\n\r\n    this.slides.forEach((slide, index) => {\r\n      const $el = slide.$el;\r\n      const slideWidth = slide.isDom || !lastSlideWidth ? this.getSlideMetrics($el) : lastSlideWidth;\r\n\r\n      slide.index = index;\r\n      slide.width = slideWidth;\r\n      slide.left = contentWidth;\r\n\r\n      lastSlideWidth = slideWidth;\r\n      contentWidth += slideWidth;\r\n\r\n      indexes.push(index);\r\n    });\r\n\r\n    let viewportWidth = Math.max(this.$track.offsetWidth, round(this.$track.getBoundingClientRect().width));\r\n\r\n    let viewportStyles = getComputedStyle(this.$track);\r\n    viewportWidth = viewportWidth - (parseFloat(viewportStyles.paddingLeft) + parseFloat(viewportStyles.paddingRight));\r\n\r\n    this.contentWidth = contentWidth;\r\n    this.viewportWidth = viewportWidth;\r\n\r\n    // Split slides into pages\r\n    // ===\r\n    const pages = [];\r\n    const slidesPerPage = this.option(\"slidesPerPage\");\r\n\r\n    if (Number.isInteger(slidesPerPage) && contentWidth > viewportWidth) {\r\n      // Fixed number of slides in the page\r\n      for (let i = 0; i < this.slides.length; i += slidesPerPage) {\r\n        pages.push({\r\n          indexes: indexes.slice(i, i + slidesPerPage),\r\n          slides: this.slides.slice(i, i + slidesPerPage),\r\n        });\r\n      }\r\n    } else {\r\n      // Slides that fit inside viewport\r\n      let currentPage = 0;\r\n      let currentWidth = 0;\r\n\r\n      for (let i = 0; i < this.slides.length; i += 1) {\r\n        let slide = this.slides[i];\r\n\r\n        // Add next page\r\n        if (!pages.length || currentWidth + slide.width > viewportWidth) {\r\n          pages.push({\r\n            indexes: [],\r\n            slides: [],\r\n          });\r\n\r\n          currentPage = pages.length - 1;\r\n          currentWidth = 0;\r\n        }\r\n\r\n        currentWidth += slide.width;\r\n\r\n        pages[currentPage].indexes.push(i);\r\n        pages[currentPage].slides.push(slide);\r\n      }\r\n    }\r\n\r\n    const shouldCenter = this.option(\"center\");\r\n    const shouldFill = this.option(\"fill\");\r\n\r\n    // Calculate width and start position for each page\r\n    // ===\r\n    pages.forEach((page, index) => {\r\n      page.index = index;\r\n      page.width = page.slides.reduce((sum, slide) => sum + slide.width, 0);\r\n\r\n      page.left = page.slides[0].left;\r\n\r\n      if (shouldCenter) {\r\n        page.left += (viewportWidth - page.width) * 0.5 * -1;\r\n      }\r\n\r\n      if (shouldFill && !this.option(\"infiniteX\", this.option(\"infinite\")) && contentWidth > viewportWidth) {\r\n        page.left = Math.max(page.left, 0);\r\n        page.left = Math.min(page.left, contentWidth - viewportWidth);\r\n      }\r\n    });\r\n\r\n    // Merge pages\r\n    // ===\r\n    const rez = [];\r\n    let prevPage;\r\n\r\n    pages.forEach((page2) => {\r\n      const page = { ...page2 };\r\n\r\n      if (prevPage && page.left === prevPage.left) {\r\n        prevPage.width += page.width;\r\n\r\n        prevPage.slides = [...prevPage.slides, ...page.slides];\r\n        prevPage.indexes = [...prevPage.indexes, ...page.indexes];\r\n      } else {\r\n        page.index = rez.length;\r\n\r\n        prevPage = page;\r\n\r\n        rez.push(page);\r\n      }\r\n    });\r\n\r\n    this.pages = rez;\r\n\r\n    let page = this.page;\r\n\r\n    if (page === null) {\r\n      const initialSlide = this.option(\"initialSlide\");\r\n\r\n      if (initialSlide !== null) {\r\n        page = this.findPageForSlide(initialSlide);\r\n      } else {\r\n        page = parseInt(this.option(\"initialPage\", 0), 10) || 0;\r\n      }\r\n\r\n      if (!rez[page]) {\r\n        page = rez.length && page > rez.length ? rez[rez.length - 1].index : 0;\r\n      }\r\n\r\n      this.page = page;\r\n      this.pageIndex = page;\r\n    }\r\n\r\n    this.updatePanzoom();\r\n\r\n    this.trigger(\"refresh\");\r\n  }\r\n\r\n  /**\r\n   * Calculate slide element width (including left, right margins)\r\n   * @param {Object} node\r\n   * @returns {Number} Width in px\r\n   */\r\n  getSlideMetrics(node) {\r\n    if (!node) {\r\n      const firstSlide = this.slides[0];\r\n\r\n      node = document.createElement(\"div\");\r\n\r\n      node.dataset.isTestEl = 1;\r\n      node.style.visibility = \"hidden\";\r\n      node.classList.add(...(this.option(\"prefix\") + this.option(\"classNames.slide\")).split(\" \"));\r\n\r\n      // Assume all slides have the same custom class, if any\r\n      if (firstSlide.customClass) {\r\n        node.classList.add(...firstSlide.customClass.split(\" \"));\r\n      }\r\n\r\n      this.$track.prepend(node);\r\n    }\r\n\r\n    let width = Math.max(node.offsetWidth, round(node.getBoundingClientRect().width));\r\n\r\n    // Add left/right margin\r\n    const style = node.currentStyle || window.getComputedStyle(node);\r\n    width = width + (parseFloat(style.marginLeft) || 0) + (parseFloat(style.marginRight) || 0);\r\n\r\n    if (node.dataset.isTestEl) {\r\n      node.remove();\r\n    }\r\n\r\n    return width;\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {Integer} index Index of the slide\r\n   * @returns {Integer|null} Index of the page if found, or null\r\n   */\r\n  findPageForSlide(index) {\r\n    index = parseInt(index, 10) || 0;\r\n\r\n    const page = this.pages.find((page) => {\r\n      return page.indexes.indexOf(index) > -1;\r\n    });\r\n\r\n    return page ? page.index : null;\r\n  }\r\n\r\n  /**\r\n   * Slide to next page, if possible\r\n   */\r\n  slideNext() {\r\n    this.slideTo(this.pageIndex + 1);\r\n  }\r\n\r\n  /**\r\n   * Slide to previous page, if possible\r\n   */\r\n  slidePrev() {\r\n    this.slideTo(this.pageIndex - 1);\r\n  }\r\n\r\n  /**\r\n   * Slides carousel to given page\r\n   * @param {Number} page - New index of active page\r\n   * @param {Object} [params] - Additional options\r\n   */\r\n  slideTo(page, params = {}) {\r\n    const { x = this.setPage(page, true) * -1, y = 0, friction = this.option(\"friction\") } = params;\r\n\r\n    if (this.Panzoom.content.x === x && !this.Panzoom.velocity.x && friction) {\r\n      return;\r\n    }\r\n\r\n    this.Panzoom.panTo({\r\n      x,\r\n      y,\r\n      friction,\r\n      ignoreBounds: true,\r\n    });\r\n\r\n    if (this.state === \"ready\" && this.Panzoom.state === \"ready\") {\r\n      this.trigger(\"settle\");\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Initialise main Panzoom instance\r\n   */\r\n  initPanzoom() {\r\n    if (this.Panzoom) {\r\n      this.Panzoom.destroy();\r\n    }\r\n\r\n    // Create fresh object containing options for Pazoom instance\r\n    const options = extend(\r\n      true,\r\n      {},\r\n      {\r\n        // Track element will be set as Panzoom $content\r\n        content: this.$track,\r\n        wrapInner: false,\r\n        resizeParent: false,\r\n\r\n        // Disable any user interaction\r\n        zoom: false,\r\n        click: false,\r\n\r\n        // Right now, only horizontal navigation is supported\r\n        lockAxis: \"x\",\r\n\r\n        x: this.pages.length ? this.pages[this.page].left * -1 : 0,\r\n        centerOnStart: false,\r\n\r\n        // Make `textSelection` option more easy to customize\r\n        textSelection: () => this.option(\"textSelection\", false),\r\n\r\n        // Disable dragging if content (e.g. all slides) fits inside viewport\r\n        panOnlyZoomed: function () {\r\n          return this.content.width <= this.viewport.width;\r\n        },\r\n      },\r\n      this.option(\"Panzoom\")\r\n    );\r\n\r\n    // Create new Panzoom instance\r\n    this.Panzoom = new Panzoom(this.$container, options);\r\n\r\n    this.Panzoom.on({\r\n      // Bubble events\r\n      \"*\": (name, ...details) => this.trigger(`Panzoom.${name}`, ...details),\r\n      // The rest of events to be processed\r\n      afterUpdate: () => {\r\n        this.updatePage();\r\n      },\r\n      beforeTransform: this.onBeforeTransform.bind(this),\r\n      touchEnd: this.onTouchEnd.bind(this),\r\n      endAnimation: () => {\r\n        this.trigger(\"settle\");\r\n      },\r\n    });\r\n\r\n    // The contents of the slides may cause the page scroll bar to appear, so the carousel width may change\r\n    // and slides have to be repositioned\r\n    this.updateMetrics();\r\n    this.manageSlideVisiblity();\r\n  }\r\n\r\n  updatePanzoom() {\r\n    if (!this.Panzoom) {\r\n      return;\r\n    }\r\n\r\n    this.Panzoom.content = {\r\n      ...this.Panzoom.content,\r\n      fitWidth: this.contentWidth,\r\n      origWidth: this.contentWidth,\r\n      width: this.contentWidth,\r\n    };\r\n\r\n    if (this.pages.length > 1 && this.option(\"infiniteX\", this.option(\"infinite\"))) {\r\n      this.Panzoom.boundX = null;\r\n    } else if (this.pages.length) {\r\n      this.Panzoom.boundX = {\r\n        from: this.pages[this.pages.length - 1].left * -1,\r\n        to: this.pages[0].left * -1,\r\n      };\r\n    }\r\n\r\n    if (this.option(\"infiniteY\", this.option(\"infinite\"))) {\r\n      this.Panzoom.boundY = null;\r\n    } else {\r\n      this.Panzoom.boundY = {\r\n        from: 0,\r\n        to: 0,\r\n      };\r\n    }\r\n\r\n    this.Panzoom.handleCursor();\r\n  }\r\n\r\n  manageSlideVisiblity() {\r\n    const contentWidth = this.contentWidth;\r\n    const viewportWidth = this.viewportWidth;\r\n\r\n    let currentX = this.Panzoom ? this.Panzoom.content.x * -1 : this.pages.length ? this.pages[this.page].left : 0;\r\n\r\n    const preload = this.option(\"preload\");\r\n    const infinite = this.option(\"infiniteX\", this.option(\"infinite\"));\r\n\r\n    const paddingLeft = parseFloat(getComputedStyle(this.$viewport, null).getPropertyValue(\"padding-left\"));\r\n    const paddingRight = parseFloat(getComputedStyle(this.$viewport, null).getPropertyValue(\"padding-right\"));\r\n\r\n    // Check visibility of each slide\r\n    this.slides.forEach((slide) => {\r\n      let leftBoundary, rightBoundary;\r\n\r\n      let hasDiff = 0;\r\n\r\n      // #1 - slides in current viewport; this does not include infinite items\r\n      leftBoundary = currentX - paddingLeft;\r\n      rightBoundary = currentX + viewportWidth + paddingRight;\r\n\r\n      leftBoundary -= preload * (viewportWidth + paddingLeft + paddingRight);\r\n      rightBoundary += preload * (viewportWidth + paddingLeft + paddingRight);\r\n\r\n      const insideCurrentInterval = slide.left + slide.width > leftBoundary && slide.left < rightBoundary;\r\n\r\n      // #2 - infinite items inside current viewport; from previous interval\r\n      leftBoundary = currentX + contentWidth - paddingLeft;\r\n      rightBoundary = currentX + contentWidth + viewportWidth + paddingRight;\r\n\r\n      // Include slides that have to be preloaded\r\n      leftBoundary -= preload * (viewportWidth + paddingLeft + paddingRight);\r\n\r\n      const insidePrevInterval = infinite && slide.left + slide.width > leftBoundary && slide.left < rightBoundary;\r\n\r\n      // #2 - infinite items inside current viewport; from next interval\r\n      leftBoundary = currentX - contentWidth - paddingLeft;\r\n      rightBoundary = currentX - contentWidth + viewportWidth + paddingRight;\r\n\r\n      // Include slides that have to be preloaded\r\n      leftBoundary -= preload * (viewportWidth + paddingLeft + paddingRight);\r\n\r\n      const insideNextInterval = infinite && slide.left + slide.width > leftBoundary && slide.left < rightBoundary;\r\n\r\n      // Create virtual slides that should be visible or preloaded, remove others\r\n      if (insidePrevInterval || insideCurrentInterval || insideNextInterval) {\r\n        this.createSlideEl(slide);\r\n\r\n        if (insideCurrentInterval) {\r\n          hasDiff = 0;\r\n        }\r\n\r\n        if (insidePrevInterval) {\r\n          hasDiff = -1;\r\n        }\r\n\r\n        if (insideNextInterval) {\r\n          hasDiff = 1;\r\n        }\r\n\r\n        // Bring preloaded slides back to viewport, if needed\r\n        if (slide.left + slide.width > currentX && slide.left <= currentX + viewportWidth + paddingRight) {\r\n          hasDiff = 0;\r\n        }\r\n      } else {\r\n        this.removeSlideEl(slide);\r\n      }\r\n\r\n      slide.hasDiff = hasDiff;\r\n    });\r\n\r\n    // Reposition slides for continuity\r\n    let nextIndex = 0;\r\n    let nextPos = 0;\r\n\r\n    this.slides.forEach((slide, index) => {\r\n      let updatedX = 0;\r\n\r\n      if (slide.$el) {\r\n        if (index !== nextIndex || slide.hasDiff) {\r\n          updatedX = nextPos + slide.hasDiff * contentWidth;\r\n        } else {\r\n          nextPos = 0;\r\n        }\r\n\r\n        slide.$el.style.left = Math.abs(updatedX) > 0.1 ? `${nextPos + slide.hasDiff * contentWidth}px` : \"\";\r\n\r\n        nextIndex++;\r\n      } else {\r\n        nextPos += slide.width;\r\n      }\r\n    });\r\n\r\n    this.markSelectedSlides();\r\n  }\r\n\r\n  /**\r\n   * Creates main DOM element for virtual slides,\r\n   * lazy loads images inside regular slides\r\n   * @param {Object} slide\r\n   */\r\n  createSlideEl(slide) {\r\n    if (!slide) {\r\n      return;\r\n    }\r\n\r\n    if (slide.$el) {\r\n      let curentIndex = slide.$el.dataset.index;\r\n\r\n      if (!curentIndex || parseInt(curentIndex, 10) !== slide.index) {\r\n        slide.$el.dataset.index = slide.index;\r\n\r\n        // Lazy load images\r\n        // ===\r\n        slide.$el.querySelectorAll(\"[data-lazy-srcset]\").forEach((node) => {\r\n          node.srcset = node.dataset.lazySrcset;\r\n        });\r\n\r\n        slide.$el.querySelectorAll(\"[data-lazy-src]\").forEach((node) => {\r\n          let lazySrc = node.dataset.lazySrc;\r\n\r\n          if (node instanceof HTMLImageElement) {\r\n            node.src = lazySrc;\r\n          } else {\r\n            node.style.backgroundImage = `url('${lazySrc}')`;\r\n          }\r\n        });\r\n\r\n        // Lazy load slide background image\r\n        // ===\r\n        let lazySrc;\r\n\r\n        if ((lazySrc = slide.$el.dataset.lazySrc)) {\r\n          slide.$el.style.backgroundImage = `url('${lazySrc}')`;\r\n        }\r\n\r\n        slide.state = \"ready\";\r\n      }\r\n\r\n      return;\r\n    }\r\n\r\n    const div = document.createElement(\"div\");\r\n\r\n    div.dataset.index = slide.index;\r\n    div.classList.add(...(this.option(\"prefix\") + this.option(\"classNames.slide\")).split(\" \"));\r\n\r\n    if (slide.customClass) {\r\n      div.classList.add(...slide.customClass.split(\" \"));\r\n    }\r\n\r\n    if (slide.html) {\r\n      div.innerHTML = slide.html;\r\n    }\r\n\r\n    const allElelements = [];\r\n\r\n    this.slides.forEach((slide, index) => {\r\n      if (slide.$el) {\r\n        allElelements.push(index);\r\n      }\r\n    });\r\n\r\n    // Find a place in DOM to insert an element\r\n    const goal = slide.index;\r\n    let refSlide = null;\r\n\r\n    if (allElelements.length) {\r\n      let refIndex = allElelements.reduce((prev, curr) =>\r\n        Math.abs(curr - goal) < Math.abs(prev - goal) ? curr : prev\r\n      );\r\n      refSlide = this.slides[refIndex];\r\n    }\r\n\r\n    this.$track.insertBefore(\r\n      div,\r\n      refSlide && refSlide.$el ? (refSlide.index < slide.index ? refSlide.$el.nextSibling : refSlide.$el) : null\r\n    );\r\n\r\n    slide.$el = div;\r\n\r\n    this.trigger(\"createSlide\", slide, goal);\r\n\r\n    return slide;\r\n  }\r\n\r\n  /**\r\n   * Removes main DOM element of given slide\r\n   * @param {Object} slide\r\n   */\r\n  removeSlideEl(slide) {\r\n    if (slide.$el && !slide.isDom) {\r\n      this.trigger(\"removeSlide\", slide);\r\n\r\n      slide.$el.remove();\r\n      slide.$el = null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Toggles selected class name and aria-hidden attribute for slides based on visibility\r\n   */\r\n  markSelectedSlides() {\r\n    const selectedClass = this.option(\"classNames.slideSelected\");\r\n    const attr = \"aria-hidden\";\r\n\r\n    this.slides.forEach((slide, index) => {\r\n      const $el = slide.$el;\r\n\r\n      if (!$el) {\r\n        return;\r\n      }\r\n\r\n      const page = this.pages[this.page];\r\n\r\n      if (page && page.indexes && page.indexes.indexOf(index) > -1) {\r\n        if (selectedClass && !$el.classList.contains(selectedClass)) {\r\n          $el.classList.add(selectedClass);\r\n          this.trigger(\"selectSlide\", slide);\r\n        }\r\n\r\n        $el.removeAttribute(attr);\r\n      } else {\r\n        if (selectedClass && $el.classList.contains(selectedClass)) {\r\n          $el.classList.remove(selectedClass);\r\n          this.trigger(\"unselectSlide\", slide);\r\n        }\r\n\r\n        $el.setAttribute(attr, true);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Perform all calculations and center current page\r\n   */\r\n  updatePage() {\r\n    this.updateMetrics();\r\n\r\n    this.slideTo(this.page, { friction: 0 });\r\n  }\r\n\r\n  /**\r\n   * Process `Panzoom.beforeTransform` event to remove slides moved out of viewport and\r\n   * to create necessary ones\r\n   */\r\n  onBeforeTransform() {\r\n    if (this.option(\"infiniteX\", this.option(\"infinite\"))) {\r\n      this.manageInfiniteTrack();\r\n    }\r\n\r\n    this.manageSlideVisiblity();\r\n  }\r\n\r\n  /**\r\n   * Seamlessly flip position of infinite carousel, if needed; this way x position stays low\r\n   */\r\n  manageInfiniteTrack() {\r\n    const contentWidth = this.contentWidth;\r\n    const viewportWidth = this.viewportWidth;\r\n\r\n    if (!this.option(\"infiniteX\", this.option(\"infinite\")) || this.pages.length < 2 || contentWidth < viewportWidth) {\r\n      return;\r\n    }\r\n\r\n    const panzoom = this.Panzoom;\r\n\r\n    let isFlipped = false;\r\n\r\n    if (panzoom.content.x < (contentWidth - viewportWidth) * -1) {\r\n      panzoom.content.x += contentWidth;\r\n\r\n      this.pageIndex = this.pageIndex - this.pages.length;\r\n\r\n      isFlipped = true;\r\n    }\r\n\r\n    if (panzoom.content.x > viewportWidth) {\r\n      panzoom.content.x -= contentWidth;\r\n\r\n      this.pageIndex = this.pageIndex + this.pages.length;\r\n\r\n      isFlipped = true;\r\n    }\r\n\r\n    if (isFlipped && panzoom.state === \"pointerdown\") {\r\n      panzoom.resetDragPosition();\r\n    }\r\n\r\n    return isFlipped;\r\n  }\r\n\r\n  /**\r\n   * Process `Panzoom.touchEnd` event; slide to next/prev page if needed\r\n   * @param {object} panzoom\r\n   */\r\n  onTouchEnd(panzoom, event) {\r\n    const dragFree = this.option(\"dragFree\");\r\n\r\n    // If this is a quick horizontal flick, slide to next/prev slide\r\n    if (\r\n      !dragFree &&\r\n      this.pages.length > 1 &&\r\n      panzoom.dragOffset.time < 350 &&\r\n      Math.abs(panzoom.dragOffset.y) < 1 &&\r\n      Math.abs(panzoom.dragOffset.x) > 5\r\n    ) {\r\n      this[panzoom.dragOffset.x < 0 ? \"slideNext\" : \"slidePrev\"]();\r\n      return;\r\n    }\r\n\r\n    // Set the slide at the end of the animation as the current one,\r\n    // or slide to closest page\r\n    if (dragFree) {\r\n      const [, nextPageIndex] = this.getPageFromPosition(panzoom.transform.x * -1);\r\n      this.setPage(nextPageIndex);\r\n    } else {\r\n      this.slideToClosest();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Slides to the closest page (useful, if carousel is changed manually)\r\n   * @param {Object} [params] - Object containing additional options\r\n   */\r\n  slideToClosest(params = {}) {\r\n    let [, nextPageIndex] = this.getPageFromPosition(this.Panzoom.content.x * -1);\r\n\r\n    this.slideTo(nextPageIndex, params);\r\n  }\r\n\r\n  /**\r\n   * Returns index of closest page to given x position\r\n   * @param {Number} xPos\r\n   */\r\n  getPageFromPosition(xPos) {\r\n    const pageCount = this.pages.length;\r\n    const center = this.option(\"center\");\r\n\r\n    if (center) {\r\n      xPos += this.viewportWidth * 0.5;\r\n    }\r\n\r\n    const interval = Math.floor(xPos / this.contentWidth);\r\n\r\n    xPos -= interval * this.contentWidth;\r\n\r\n    let slide = this.slides.find((slide) => slide.left <= xPos && slide.left + slide.width > xPos);\r\n\r\n    if (slide) {\r\n      let pageIndex = this.findPageForSlide(slide.index);\r\n\r\n      return [pageIndex, pageIndex + interval * pageCount];\r\n    }\r\n\r\n    return [0, 0];\r\n  }\r\n\r\n  /**\r\n   * Changes active page\r\n   * @param {Number} page - New index of active page\r\n   * @param {Boolean} toClosest - to closest page based on scroll distance (for infinite navigation)\r\n   */\r\n  setPage(page, toClosest) {\r\n    let nextPosition = 0;\r\n    let pageIndex = parseInt(page, 10) || 0;\r\n\r\n    const prevPage = this.page,\r\n      prevPageIndex = this.pageIndex,\r\n      pageCount = this.pages.length;\r\n\r\n    const contentWidth = this.contentWidth;\r\n    const viewportWidth = this.viewportWidth;\r\n\r\n    page = ((pageIndex % pageCount) + pageCount) % pageCount;\r\n\r\n    if (this.option(\"infiniteX\", this.option(\"infinite\")) && contentWidth > viewportWidth) {\r\n      const nextInterval = Math.floor(pageIndex / pageCount) || 0,\r\n        elemDimWidth = contentWidth;\r\n\r\n      nextPosition = this.pages[page].left + nextInterval * elemDimWidth;\r\n\r\n      if (toClosest === true && pageCount > 2) {\r\n        let currPosition = this.Panzoom.content.x * -1;\r\n\r\n        // * Find closest interval\r\n        const decreasedPosition = nextPosition - elemDimWidth,\r\n          increasedPosition = nextPosition + elemDimWidth,\r\n          diff1 = Math.abs(currPosition - nextPosition),\r\n          diff2 = Math.abs(currPosition - decreasedPosition),\r\n          diff3 = Math.abs(currPosition - increasedPosition);\r\n\r\n        if (diff3 < diff1 && diff3 <= diff2) {\r\n          nextPosition = increasedPosition;\r\n          pageIndex += pageCount;\r\n        } else if (diff2 < diff1 && diff2 < diff3) {\r\n          nextPosition = decreasedPosition;\r\n          pageIndex -= pageCount;\r\n        }\r\n      }\r\n    } else {\r\n      page = pageIndex = Math.max(0, Math.min(pageIndex, pageCount - 1));\r\n\r\n      nextPosition = this.pages.length ? this.pages[page].left : 0;\r\n    }\r\n\r\n    this.page = page;\r\n    this.pageIndex = pageIndex;\r\n\r\n    if (prevPage !== null && page !== prevPage) {\r\n      this.prevPage = prevPage;\r\n      this.prevPageIndex = prevPageIndex;\r\n\r\n      this.trigger(\"change\", page, prevPage);\r\n    }\r\n\r\n    return nextPosition;\r\n  }\r\n\r\n  /**\r\n   * Clean up\r\n   */\r\n  destroy() {\r\n    this.state = \"destroy\";\r\n\r\n    this.slides.forEach((slide) => {\r\n      this.removeSlideEl(slide);\r\n    });\r\n\r\n    this.slides = [];\r\n\r\n    this.Panzoom.destroy();\r\n\r\n    this.detachPlugins();\r\n  }\r\n}\r\n\r\n// Expose version\r\nCarousel.version = \"__VERSION__\";\r\n\r\n// Static properties are a recent addition that dont work in all browsers yet\r\nCarousel.Plugins = Plugins;\r\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _objectSpread;\nvar _defineProperty = _interopRequireDefault(require(\"./_define_property\"));\nfunction _objectSpread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === 'function') {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n        }\n        ownKeys.forEach(function(key) {\n            (0, _defineProperty).default(target, key, source[key]);\n        });\n    }\n    return target;\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","import { extend } from \"../shared/utils/extend.js\";\nimport { round } from \"../shared/utils/round.js\";\nimport { isScrollable } from \"../shared/utils/isScrollable.js\";\n\nimport { ResizeObserver } from \"../shared/utils/ResizeObserver.js\";\nimport { PointerTracker, getMidpoint, getDistance } from \"../shared/utils/PointerTracker.js\";\n\nimport { getTextNodeFromPoint } from \"../shared/utils/getTextNodeFromPoint.js\";\n\nimport { getFullWidth, getFullHeight, calculateAspectRatioFit } from \"../shared/utils/getDimensions.js\";\n\nimport { Base } from \"../shared/Base/Base.js\";\n\nimport { Plugins } from \"./plugins/index.js\";\n\nconst defaults = {\n  // Enable touch guestures\n  touch: true,\n\n  // Enable zooming\n  zoom: true,\n\n  // Enable pinch gesture to zoom in/out using two fingers\n  pinchToZoom: true,\n\n  // Disable dragging if scale level is equal to value of `baseScale` option\n  panOnlyZoomed: false,\n\n  // Lock axis while dragging,\n  // possible values: false | \"x\" | \"y\" | \"xy\"\n  lockAxis: false,\n\n  // * All friction values are inside [0, 1) interval,\n  // * where 0 would change instantly, but 0.99 would update extremely slowly\n\n  // Friction while panning/dragging\n  friction: 0.64,\n\n  // Friction while decelerating after drag end\n  decelFriction: 0.88,\n\n  // Friction while scaling\n  zoomFriction: 0.74,\n\n  // Bounciness after hitting the edge\n  bounceForce: 0.2,\n\n  // Initial scale level\n  baseScale: 1,\n\n  // Minimum scale level\n  minScale: 1,\n\n  // Maximum scale level\n  maxScale: 2,\n\n  // Default scale step while zooming\n  step: 0.5,\n\n  // Allow to select text,\n  // if enabled, dragging will be disabled when text selection is detected\n  textSelection: false,\n\n  // Add `click` event listener,\n  // possible values: true | false | function | \"toggleZoom\"\n  click: \"toggleZoom\",\n\n  // Add `wheel` event listener,\n  // possible values: true | false | function |  \"zoom\"\n  wheel: \"zoom\",\n\n  // Value for zoom on mouse wheel\n  wheelFactor: 42,\n\n  // Number of wheel events after which it should stop preventing default behaviour of mouse wheel\n  wheelLimit: 5,\n\n  // Class name added to `$viewport` element to indicate if content is draggable\n  draggableClass: \"is-draggable\",\n\n  // Class name added to `$viewport` element to indicate that user is currently dragging\n  draggingClass: \"is-dragging\",\n\n  // Content will be scaled by this number,\n  // this can also be a function which should return a number, for example:\n  // ratio: function() { return 1 / (window.devicePixelRatio || 1) }\n  ratio: 1,\n};\n\nexport class Panzoom extends Base {\n  /**\n   * Panzoom constructor\n   * @constructs Panzoom\n   * @param {HTMLElement} $viewport Panzoom container\n   * @param {Object} [options] Options for Panzoom\n   */\n  constructor($container, options = {}) {\n    super(extend(true, {}, defaults, options));\n\n    this.state = \"init\";\n\n    this.$container = $container;\n\n    // Bind event handlers for referencability\n    for (const methodName of [\"onLoad\", \"onWheel\", \"onClick\"]) {\n      this[methodName] = this[methodName].bind(this);\n    }\n\n    this.initLayout();\n\n    this.resetValues();\n\n    this.attachPlugins(Panzoom.Plugins);\n\n    this.trigger(\"init\");\n\n    this.updateMetrics();\n\n    this.attachEvents();\n\n    this.trigger(\"ready\");\n\n    if (this.option(\"centerOnStart\") === false) {\n      this.state = \"ready\";\n    } else {\n      this.panTo({\n        friction: 0,\n      });\n    }\n\n    $container.__Panzoom = this;\n  }\n\n  /**\n   * Create references to container, viewport and content elements\n   */\n  initLayout() {\n    const $container = this.$container;\n\n    // Make sure content element exists\n    if (!($container instanceof HTMLElement)) {\n      throw new Error(\"Panzoom: Container not found\");\n    }\n\n    const $content = this.option(\"content\") || $container.querySelector(\".panzoom__content\");\n\n    // Make sure content element exists\n    if (!$content) {\n      throw new Error(\"Panzoom: Content not found\");\n    }\n\n    this.$content = $content;\n\n    let $viewport = this.option(\"viewport\") || $container.querySelector(\".panzoom__viewport\");\n\n    if (!$viewport && this.option(\"wrapInner\") !== false) {\n      $viewport = document.createElement(\"div\");\n      $viewport.classList.add(\"panzoom__viewport\");\n\n      $viewport.append(...$container.childNodes);\n\n      $container.appendChild($viewport);\n    }\n\n    this.$viewport = $viewport || $content.parentNode;\n  }\n\n  /**\n   * Restore instance variables to default values\n   */\n  resetValues() {\n    this.updateRate = this.option(\"updateRate\", /iPhone|iPad|iPod|Android/i.test(navigator.userAgent) ? 250 : 24);\n\n    this.container = {\n      width: 0,\n      height: 0,\n    };\n\n    this.viewport = {\n      width: 0,\n      height: 0,\n    };\n\n    this.content = {\n      // Full content dimensions (naturalWidth/naturalHeight for images)\n      origWidth: 0,\n      origHeight: 0,\n\n      // Current dimensions of the content\n      width: 0,\n      height: 0,\n\n      // Current position; these values reflect CSS `transform` value\n      x: this.option(\"x\", 0),\n      y: this.option(\"y\", 0),\n\n      // Current scale; does not reflect CSS `transform` value\n      scale: this.option(\"baseScale\"),\n    };\n\n    // End values of current pan / zoom animation\n    this.transform = {\n      x: 0,\n      y: 0,\n      scale: 1,\n    };\n\n    this.resetDragPosition();\n  }\n\n  /**\n   * Handle `load` event\n   * @param {Event} event\n   */\n  onLoad(event) {\n    this.updateMetrics();\n\n    this.panTo({ scale: this.option(\"baseScale\"), friction: 0 });\n\n    this.trigger(\"load\", event);\n  }\n\n  /**\n   * Handle `click` event\n   * @param {Event} event\n   */\n  onClick(event) {\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    if (document.activeElement && document.activeElement.closest(\"[contenteditable]\")) {\n      return;\n    }\n\n    // Skip if text is selected\n    if (\n      this.option(\"textSelection\") &&\n      window.getSelection().toString().length &&\n      !(event.target && event.target.hasAttribute(\"data-fancybox-close\"))\n    ) {\n      event.stopPropagation();\n      return;\n    }\n\n    const rect = this.$content.getClientRects()[0];\n\n    // Check if container has changed position (for example, when current instance is inside another one)\n    if (this.state !== \"ready\") {\n      if (\n        this.dragPosition.midPoint ||\n        Math.abs(rect.top - this.dragStart.rect.top) > 1 ||\n        Math.abs(rect.left - this.dragStart.rect.left) > 1\n      ) {\n        event.preventDefault();\n        event.stopPropagation();\n\n        return;\n      }\n    }\n\n    if (this.trigger(\"click\", event) === false) {\n      return;\n    }\n\n    if (this.option(\"zoom\") && this.option(\"click\") === \"toggleZoom\") {\n      event.preventDefault();\n      event.stopPropagation();\n\n      this.zoomWithClick(event);\n    }\n  }\n\n  /**\n   * Handle `wheel` event\n   * @param {Event} event\n   */\n  onWheel(event) {\n    if (this.trigger(\"wheel\", event) === false) {\n      return;\n    }\n\n    if (this.option(\"zoom\") && this.option(\"wheel\")) {\n      this.zoomWithWheel(event);\n    }\n  }\n\n  /**\n   * Change zoom level depending on scroll direction\n   * @param {Event} event `wheel` event\n   */\n  zoomWithWheel(event) {\n    if (this.changedDelta === undefined) {\n      this.changedDelta = 0;\n    }\n\n    const delta = Math.max(-1, Math.min(1, -event.deltaY || -event.deltaX || event.wheelDelta || -event.detail));\n    const scale = this.content.scale;\n\n    let newScale = (scale * (100 + delta * this.option(\"wheelFactor\"))) / 100;\n\n    if (\n      (delta < 0 && Math.abs(scale - this.option(\"minScale\")) < 0.01) ||\n      (delta > 0 && Math.abs(scale - this.option(\"maxScale\")) < 0.01)\n    ) {\n      this.changedDelta += Math.abs(delta);\n      newScale = scale;\n    } else {\n      this.changedDelta = 0;\n      newScale = Math.max(Math.min(newScale, this.option(\"maxScale\")), this.option(\"minScale\"));\n    }\n\n    if (this.changedDelta > this.option(\"wheelLimit\")) {\n      return;\n    }\n\n    event.preventDefault();\n\n    if (newScale === scale) {\n      return;\n    }\n\n    const rect = this.$content.getBoundingClientRect();\n\n    const x = event.clientX - rect.left;\n    const y = event.clientY - rect.top;\n\n    this.zoomTo(newScale, { x, y });\n  }\n\n  /**\n   * Change zoom level depending on click coordinates\n   * @param {Event} event `click` event\n   */\n  zoomWithClick(event) {\n    const rect = this.$content.getClientRects()[0];\n\n    const x = event.clientX - rect.left;\n    const y = event.clientY - rect.top;\n\n    this.toggleZoom({ x, y });\n  }\n\n  /**\n   * Attach load, wheel and click event listeners, initialize `resizeObserver` and `PointerTracker`\n   */\n  attachEvents() {\n    this.$content.addEventListener(\"load\", this.onLoad);\n\n    this.$container.addEventListener(\"wheel\", this.onWheel, { passive: false });\n    this.$container.addEventListener(\"click\", this.onClick, { passive: false });\n\n    this.initObserver();\n\n    const pointerTracker = new PointerTracker(this.$container, {\n      start: (pointer, event) => {\n        if (!this.option(\"touch\")) {\n          return false;\n        }\n\n        if (this.velocity.scale < 0) {\n          return false;\n        }\n\n        const target = event.composedPath()[0];\n\n        if (!pointerTracker.currentPointers.length) {\n          const ignoreClickedElement =\n            [\"BUTTON\", \"TEXTAREA\", \"OPTION\", \"INPUT\", \"SELECT\", \"VIDEO\"].indexOf(target.nodeName) !== -1;\n\n          if (ignoreClickedElement) {\n            return false;\n          }\n\n          // Allow text selection\n          if (this.option(\"textSelection\") && getTextNodeFromPoint(target, pointer.clientX, pointer.clientY)) {\n            return false;\n          }\n        }\n\n        if (isScrollable(target)) {\n          return false;\n        }\n\n        if (this.trigger(\"touchStart\", event) === false) {\n          return false;\n        }\n\n        if (event.type === \"mousedown\") {\n          event.preventDefault();\n        }\n\n        this.state = \"pointerdown\";\n\n        this.resetDragPosition();\n\n        this.dragPosition.midPoint = null;\n        this.dragPosition.time = Date.now();\n\n        return true;\n      },\n      move: (previousPointers, currentPointers, event) => {\n        if (this.state !== \"pointerdown\") {\n          return;\n        }\n\n        if (this.trigger(\"touchMove\", event) === false) {\n          event.preventDefault();\n          return;\n        }\n\n        // Disable touch action if current zoom level is below base level\n        if (\n          currentPointers.length < 2 &&\n          this.option(\"panOnlyZoomed\") === true &&\n          this.content.width <= this.viewport.width &&\n          this.content.height <= this.viewport.height &&\n          this.transform.scale <= this.option(\"baseScale\")\n        ) {\n          return;\n        }\n\n        if (currentPointers.length > 1 && (!this.option(\"zoom\") || this.option(\"pinchToZoom\") === false)) {\n          return;\n        }\n\n        const prevMidpoint = getMidpoint(previousPointers[0], previousPointers[1]);\n        const newMidpoint = getMidpoint(currentPointers[0], currentPointers[1]);\n\n        const panX = newMidpoint.clientX - prevMidpoint.clientX;\n        const panY = newMidpoint.clientY - prevMidpoint.clientY;\n\n        const prevDistance = getDistance(previousPointers[0], previousPointers[1]);\n        const newDistance = getDistance(currentPointers[0], currentPointers[1]);\n\n        const scaleDiff = prevDistance && newDistance ? newDistance / prevDistance : 1;\n\n        this.dragOffset.x += panX;\n        this.dragOffset.y += panY;\n\n        this.dragOffset.scale *= scaleDiff;\n\n        this.dragOffset.time = Date.now() - this.dragPosition.time;\n\n        const axisToLock = this.dragStart.scale === 1 && this.option(\"lockAxis\");\n\n        if (axisToLock && !this.lockAxis) {\n          if (Math.abs(this.dragOffset.x) < 6 && Math.abs(this.dragOffset.y) < 6) {\n            event.preventDefault();\n            return;\n          }\n\n          const angle = Math.abs((Math.atan2(this.dragOffset.y, this.dragOffset.x) * 180) / Math.PI);\n\n          this.lockAxis = angle > 45 && angle < 135 ? \"y\" : \"x\";\n        }\n\n        if (axisToLock !== \"xy\" && this.lockAxis === \"y\") {\n          return;\n        }\n\n        event.preventDefault();\n        event.stopPropagation();\n\n        event.stopImmediatePropagation();\n\n        if (this.lockAxis) {\n          this.dragOffset[this.lockAxis === \"x\" ? \"y\" : \"x\"] = 0;\n        }\n\n        this.$container.classList.add(this.option(\"draggingClass\"));\n\n        if (!(this.transform.scale === this.option(\"baseScale\") && this.lockAxis === \"y\")) {\n          this.dragPosition.x = this.dragStart.x + this.dragOffset.x;\n        }\n\n        if (!(this.transform.scale === this.option(\"baseScale\") && this.lockAxis === \"x\")) {\n          this.dragPosition.y = this.dragStart.y + this.dragOffset.y;\n        }\n\n        this.dragPosition.scale = this.dragStart.scale * this.dragOffset.scale;\n\n        if (currentPointers.length > 1) {\n          const startPoint = getMidpoint(pointerTracker.startPointers[0], pointerTracker.startPointers[1]);\n\n          const xPos = startPoint.clientX - this.dragStart.rect.x;\n          const yPos = startPoint.clientY - this.dragStart.rect.y;\n\n          const { deltaX, deltaY } = this.getZoomDelta(this.content.scale * this.dragOffset.scale, xPos, yPos);\n\n          this.dragPosition.x -= deltaX;\n          this.dragPosition.y -= deltaY;\n\n          this.dragPosition.midPoint = newMidpoint;\n        } else {\n          this.setDragResistance();\n        }\n\n        // Update final position\n        this.transform = {\n          x: this.dragPosition.x,\n          y: this.dragPosition.y,\n          scale: this.dragPosition.scale,\n        };\n\n        this.startAnimation();\n      },\n      end: (pointer, event) => {\n        if (this.state !== \"pointerdown\") {\n          return;\n        }\n\n        this._dragOffset = { ...this.dragOffset };\n\n        if (pointerTracker.currentPointers.length) {\n          this.resetDragPosition();\n\n          return;\n        }\n\n        this.state = \"decel\";\n        this.friction = this.option(\"decelFriction\");\n\n        this.recalculateTransform();\n\n        this.$container.classList.remove(this.option(\"draggingClass\"));\n\n        if (this.trigger(\"touchEnd\", event) === false) {\n          return;\n        }\n\n        if (this.state !== \"decel\") {\n          return;\n        }\n\n        // * Check if scaled content past limits\n\n        // Below minimum\n        const minScale = this.option(\"minScale\");\n\n        if (this.transform.scale < minScale) {\n          this.zoomTo(minScale, { friction: 0.64 });\n\n          return;\n        }\n\n        // Exceed maximum\n        const maxScale = this.option(\"maxScale\");\n\n        if (this.transform.scale - maxScale > 0.01) {\n          const last = this.dragPosition.midPoint || pointer;\n          const rect = this.$content.getClientRects()[0];\n\n          this.zoomTo(maxScale, {\n            friction: 0.64,\n            x: last.clientX - rect.left,\n            y: last.clientY - rect.top,\n          });\n\n          return;\n        }\n      },\n    });\n\n    this.pointerTracker = pointerTracker;\n  }\n\n  initObserver() {\n    if (this.resizeObserver) {\n      return;\n    }\n\n    this.resizeObserver = new ResizeObserver(() => {\n      if (this.updateTimer) {\n        return;\n      }\n\n      this.updateTimer = setTimeout(() => {\n        const rect = this.$container.getBoundingClientRect();\n\n        if (!(rect.width && rect.height)) {\n          this.updateTimer = null;\n          return;\n        }\n\n        // Check to see if there are any changes\n        if (Math.abs(rect.width - this.container.width) > 1 || Math.abs(rect.height - this.container.height) > 1) {\n          if (this.isAnimating()) {\n            this.endAnimation(true);\n          }\n\n          this.updateMetrics();\n\n          this.panTo({\n            x: this.content.x,\n            y: this.content.y,\n            scale: this.option(\"baseScale\"),\n            friction: 0,\n          });\n        }\n\n        this.updateTimer = null;\n      }, this.updateRate);\n    });\n\n    this.resizeObserver.observe(this.$container);\n  }\n\n  /**\n   * Restore drag related variables to default values\n   */\n  resetDragPosition() {\n    this.lockAxis = null;\n    this.friction = this.option(\"friction\");\n\n    this.velocity = {\n      x: 0,\n      y: 0,\n      scale: 0,\n    };\n\n    const { x, y, scale } = this.content;\n\n    this.dragStart = {\n      rect: this.$content.getBoundingClientRect(),\n      x,\n      y,\n      scale,\n    };\n\n    this.dragPosition = {\n      ...this.dragPosition,\n      x,\n      y,\n      scale,\n    };\n\n    this.dragOffset = {\n      x: 0,\n      y: 0,\n      scale: 1,\n      time: 0,\n    };\n  }\n\n  /**\n   * Trigger update events before/after resizing content and viewport\n   * @param {Boolean} silently Should trigger `afterUpdate` event at the end\n   */\n  updateMetrics(silently) {\n    if (silently !== true) {\n      this.trigger(\"beforeUpdate\");\n    }\n\n    const $container = this.$container;\n    const $content = this.$content;\n    const $viewport = this.$viewport;\n\n    const contentIsImage = $content instanceof HTMLImageElement;\n    const contentIsZoomable = this.option(\"zoom\");\n    const shouldResizeParent = this.option(\"resizeParent\", contentIsZoomable);\n\n    let width = this.option(\"width\");\n    let height = this.option(\"height\");\n\n    let origWidth = width || getFullWidth($content);\n    let origHeight = height || getFullHeight($content);\n\n    Object.assign($content.style, {\n      width: width ? `${width}px` : \"\",\n      height: height ? `${height}px` : \"\",\n      maxWidth: \"\",\n      maxHeight: \"\",\n    });\n\n    if (shouldResizeParent) {\n      Object.assign($viewport.style, { width: \"\", height: \"\" });\n    }\n\n    const ratio = this.option(\"ratio\");\n\n    origWidth = round(origWidth * ratio);\n    origHeight = round(origHeight * ratio);\n\n    width = origWidth;\n    height = origHeight;\n\n    const contentRect = $content.getBoundingClientRect();\n    const viewportRect = $viewport.getBoundingClientRect();\n\n    const containerRect = $viewport == $container ? viewportRect : $container.getBoundingClientRect();\n\n    let viewportWidth = Math.max($viewport.offsetWidth, round(viewportRect.width));\n    let viewportHeight = Math.max($viewport.offsetHeight, round(viewportRect.height));\n\n    let viewportStyles = window.getComputedStyle($viewport);\n    viewportWidth -= parseFloat(viewportStyles.paddingLeft) + parseFloat(viewportStyles.paddingRight);\n    viewportHeight -= parseFloat(viewportStyles.paddingTop) + parseFloat(viewportStyles.paddingBottom);\n\n    this.viewport.width = viewportWidth;\n    this.viewport.height = viewportHeight;\n\n    if (contentIsZoomable) {\n      if (Math.abs(origWidth - contentRect.width) > 0.1 || Math.abs(origHeight - contentRect.height) > 0.1) {\n        const rez = calculateAspectRatioFit(\n          origWidth,\n          origHeight,\n          Math.min(origWidth, contentRect.width),\n          Math.min(origHeight, contentRect.height)\n        );\n\n        width = round(rez.width);\n        height = round(rez.height);\n      }\n\n      Object.assign($content.style, {\n        width: `${width}px`,\n        height: `${height}px`,\n        transform: \"\",\n      });\n    }\n\n    if (shouldResizeParent) {\n      Object.assign($viewport.style, { width: `${width}px`, height: `${height}px` });\n\n      this.viewport = { ...this.viewport, width, height };\n    }\n\n    if (contentIsImage && contentIsZoomable && typeof this.options.maxScale !== \"function\") {\n      const maxScale = this.option(\"maxScale\");\n\n      this.options.maxScale = function () {\n        return this.content.origWidth > 0 && this.content.fitWidth > 0\n          ? this.content.origWidth / this.content.fitWidth\n          : maxScale;\n      };\n    }\n\n    this.content = {\n      ...this.content,\n      origWidth,\n      origHeight,\n      fitWidth: width,\n      fitHeight: height,\n      width,\n      height,\n      scale: 1,\n      isZoomable: contentIsZoomable,\n    };\n\n    this.container = { width: containerRect.width, height: containerRect.height };\n\n    if (silently !== true) {\n      this.trigger(\"afterUpdate\");\n    }\n  }\n\n  /**\n   * Increase zoom level\n   * @param {Number} [step] Zoom ratio; `0.5` would increase scale from 1 to 1.5\n   */\n  zoomIn(step) {\n    this.zoomTo(this.content.scale + (step || this.option(\"step\")));\n  }\n\n  /**\n   * Decrease zoom level\n   * @param {Number} [step] Zoom ratio; `0.5` would decrease scale from 1.5 to 1\n   */\n  zoomOut(step) {\n    this.zoomTo(this.content.scale - (step || this.option(\"step\")));\n  }\n\n  /**\n   * Toggles zoom level between max and base levels\n   * @param {Object} [options] Additional options\n   */\n  toggleZoom(props = {}) {\n    const maxScale = this.option(\"maxScale\");\n    const baseScale = this.option(\"baseScale\");\n\n    const scale = this.content.scale > baseScale + (maxScale - baseScale) * 0.5 ? baseScale : maxScale;\n\n    this.zoomTo(scale, props);\n  }\n\n  /**\n   * Animate to given zoom level\n   * @param {Number} scale New zoom level\n   * @param {Object} [options] Additional options\n   */\n  zoomTo(scale = this.option(\"baseScale\"), { x = null, y = null } = {}) {\n    scale = Math.max(Math.min(scale, this.option(\"maxScale\")), this.option(\"minScale\"));\n\n    // Adjust zoom position\n    const currentScale = round(this.content.scale / (this.content.width / this.content.fitWidth), 10000000);\n\n    if (x === null) {\n      x = this.content.width * currentScale * 0.5;\n    }\n\n    if (y === null) {\n      y = this.content.height * currentScale * 0.5;\n    }\n\n    const { deltaX, deltaY } = this.getZoomDelta(scale, x, y);\n\n    x = this.content.x - deltaX;\n    y = this.content.y - deltaY;\n\n    this.panTo({ x, y, scale, friction: this.option(\"zoomFriction\") });\n  }\n\n  /**\n   * Calculate difference for top/left values if content would scale at given coordinates\n   * @param {Number} scale\n   * @param {Number} x\n   * @param {Number} y\n   * @returns {Object}\n   */\n  getZoomDelta(scale, x = 0, y = 0) {\n    const currentWidth = this.content.fitWidth * this.content.scale;\n    const currentHeight = this.content.fitHeight * this.content.scale;\n\n    const percentXInCurrentBox = x > 0 && currentWidth ? x / currentWidth : 0;\n    const percentYInCurrentBox = y > 0 && currentHeight ? y / currentHeight : 0;\n\n    const nextWidth = this.content.fitWidth * scale;\n    const nextHeight = this.content.fitHeight * scale;\n\n    const deltaX = (nextWidth - currentWidth) * percentXInCurrentBox;\n    const deltaY = (nextHeight - currentHeight) * percentYInCurrentBox;\n\n    return { deltaX, deltaY };\n  }\n\n  /**\n   * Animate to given positon and/or zoom level\n   * @param {Object} [options] Additional options\n   */\n  panTo({\n    x = this.content.x,\n    y = this.content.y,\n    scale,\n    friction = this.option(\"friction\"),\n    ignoreBounds = false,\n  } = {}) {\n    scale = scale || this.content.scale || 1;\n\n    if (!ignoreBounds) {\n      const { boundX, boundY } = this.getBounds(scale);\n\n      if (boundX) {\n        x = Math.max(Math.min(x, boundX.to), boundX.from);\n      }\n\n      if (boundY) {\n        y = Math.max(Math.min(y, boundY.to), boundY.from);\n      }\n    }\n\n    this.friction = friction;\n\n    this.transform = {\n      ...this.transform,\n      x,\n      y,\n      scale,\n    };\n\n    if (friction) {\n      this.state = \"panning\";\n\n      this.velocity = {\n        x: (1 / this.friction - 1) * (x - this.content.x),\n        y: (1 / this.friction - 1) * (y - this.content.y),\n        scale: (1 / this.friction - 1) * (scale - this.content.scale),\n      };\n\n      this.startAnimation();\n    } else {\n      this.endAnimation();\n    }\n  }\n\n  /**\n   * Start animation loop\n   */\n  startAnimation() {\n    if (!this.rAF) {\n      this.trigger(\"startAnimation\");\n    } else {\n      cancelAnimationFrame(this.rAF);\n    }\n\n    this.rAF = requestAnimationFrame(() => this.animate());\n  }\n\n  /**\n   * Process animation frame\n   */\n  animate() {\n    this.setEdgeForce();\n    this.setDragForce();\n\n    this.velocity.x *= this.friction;\n    this.velocity.y *= this.friction;\n\n    this.velocity.scale *= this.friction;\n\n    this.content.x += this.velocity.x;\n    this.content.y += this.velocity.y;\n\n    this.content.scale += this.velocity.scale;\n\n    if (this.isAnimating()) {\n      this.setTransform();\n    } else if (this.state !== \"pointerdown\") {\n      this.endAnimation();\n\n      return;\n    }\n\n    this.rAF = requestAnimationFrame(() => this.animate());\n  }\n\n  /**\n   * Calculate boundaries\n   */\n  getBounds(scale) {\n    let boundX = this.boundX;\n    let boundY = this.boundY;\n\n    if (boundX !== undefined && boundY !== undefined) {\n      return { boundX, boundY };\n    }\n\n    boundX = { from: 0, to: 0 };\n    boundY = { from: 0, to: 0 };\n\n    scale = scale || this.transform.scale;\n\n    const width = this.content.fitWidth * scale;\n    const height = this.content.fitHeight * scale;\n\n    const viewportWidth = this.viewport.width;\n    const viewportHeight = this.viewport.height;\n\n    if (width < viewportWidth) {\n      const deltaX = round((viewportWidth - width) * 0.5);\n\n      boundX.from = deltaX;\n      boundX.to = deltaX;\n    } else {\n      boundX.from = round(viewportWidth - width);\n    }\n\n    if (height < viewportHeight) {\n      const deltaY = (viewportHeight - height) * 0.5;\n\n      boundY.from = deltaY;\n      boundY.to = deltaY;\n    } else {\n      boundY.from = round(viewportHeight - height);\n    }\n\n    return { boundX, boundY };\n  }\n\n  /**\n   * Change animation velocity if boundary is reached\n   */\n  setEdgeForce() {\n    if (this.state !== \"decel\") {\n      return;\n    }\n\n    const bounceForce = this.option(\"bounceForce\");\n\n    const { boundX, boundY } = this.getBounds(Math.max(this.transform.scale, this.content.scale));\n\n    let pastLeft, pastRight, pastTop, pastBottom;\n\n    if (boundX) {\n      pastLeft = this.content.x < boundX.from;\n      pastRight = this.content.x > boundX.to;\n    }\n\n    if (boundY) {\n      pastTop = this.content.y < boundY.from;\n      pastBottom = this.content.y > boundY.to;\n    }\n\n    if (pastLeft || pastRight) {\n      const bound = pastLeft ? boundX.from : boundX.to;\n      const distance = bound - this.content.x;\n\n      let force = distance * bounceForce;\n\n      const restX = this.content.x + (this.velocity.x + force) / this.friction;\n\n      if (restX >= boundX.from && restX <= boundX.to) {\n        force += this.velocity.x;\n      }\n\n      this.velocity.x = force;\n\n      this.recalculateTransform();\n    }\n\n    if (pastTop || pastBottom) {\n      const bound = pastTop ? boundY.from : boundY.to;\n      const distance = bound - this.content.y;\n\n      let force = distance * bounceForce;\n\n      const restY = this.content.y + (force + this.velocity.y) / this.friction;\n\n      if (restY >= boundY.from && restY <= boundY.to) {\n        force += this.velocity.y;\n      }\n\n      this.velocity.y = force;\n\n      this.recalculateTransform();\n    }\n  }\n\n  /**\n   * Change dragging position if boundary is reached\n   */\n  setDragResistance() {\n    if (this.state !== \"pointerdown\") {\n      return;\n    }\n\n    const { boundX, boundY } = this.getBounds(this.dragPosition.scale);\n\n    let pastLeft, pastRight, pastTop, pastBottom;\n\n    if (boundX) {\n      pastLeft = this.dragPosition.x < boundX.from;\n      pastRight = this.dragPosition.x > boundX.to;\n    }\n\n    if (boundY) {\n      pastTop = this.dragPosition.y < boundY.from;\n      pastBottom = this.dragPosition.y > boundY.to;\n    }\n\n    if ((pastLeft || pastRight) && !(pastLeft && pastRight)) {\n      const bound = pastLeft ? boundX.from : boundX.to;\n      const distance = bound - this.dragPosition.x;\n\n      this.dragPosition.x = bound - distance * 0.3;\n    }\n\n    if ((pastTop || pastBottom) && !(pastTop && pastBottom)) {\n      const bound = pastTop ? boundY.from : boundY.to;\n      const distance = bound - this.dragPosition.y;\n\n      this.dragPosition.y = bound - distance * 0.3;\n    }\n  }\n\n  /**\n   * Set velocity to move content to drag position\n   */\n  setDragForce() {\n    if (this.state === \"pointerdown\") {\n      this.velocity.x = this.dragPosition.x - this.content.x;\n      this.velocity.y = this.dragPosition.y - this.content.y;\n      this.velocity.scale = this.dragPosition.scale - this.content.scale;\n    }\n  }\n\n  /**\n   * Update end values based on current velocity and friction;\n   */\n  recalculateTransform() {\n    this.transform.x = this.content.x + this.velocity.x / (1 / this.friction - 1);\n    this.transform.y = this.content.y + this.velocity.y / (1 / this.friction - 1);\n    this.transform.scale = this.content.scale + this.velocity.scale / (1 / this.friction - 1);\n  }\n\n  /**\n   * Check if content is currently animating\n   * @returns {Boolean}\n   */\n  isAnimating() {\n    return !!(\n      this.friction &&\n      (Math.abs(this.velocity.x) > 0.05 || Math.abs(this.velocity.y) > 0.05 || Math.abs(this.velocity.scale) > 0.05)\n    );\n  }\n\n  /**\n   * Set content `style.transform` value based on current animation frame\n   */\n  setTransform(final) {\n    let x, y, scale;\n\n    if (final) {\n      x = round(this.transform.x);\n      y = round(this.transform.y);\n\n      scale = this.transform.scale;\n\n      this.content = { ...this.content, x, y, scale };\n    } else {\n      x = round(this.content.x);\n      y = round(this.content.y);\n\n      scale = this.content.scale / (this.content.width / this.content.fitWidth);\n\n      this.content = { ...this.content, x, y };\n    }\n\n    this.trigger(\"beforeTransform\");\n\n    x = round(this.content.x);\n    y = round(this.content.y);\n\n    if (final && this.option(\"zoom\")) {\n      let width;\n      let height;\n\n      width = round(this.content.fitWidth * scale);\n      height = round(this.content.fitHeight * scale);\n\n      this.content.width = width;\n      this.content.height = height;\n\n      this.transform = { ...this.transform, width, height, scale };\n\n      Object.assign(this.$content.style, {\n        width: `${width}px`,\n        height: `${height}px`,\n        maxWidth: \"none\",\n        maxHeight: \"none\",\n        transform: `translate3d(${x}px, ${y}px, 0) scale(1)`,\n      });\n    } else {\n      this.$content.style.transform = `translate3d(${x}px, ${y}px, 0) scale(${scale})`;\n    }\n\n    this.trigger(\"afterTransform\");\n  }\n\n  /**\n   * Stop animation loop\n   */\n  endAnimation(silently) {\n    cancelAnimationFrame(this.rAF);\n    this.rAF = null;\n\n    this.velocity = {\n      x: 0,\n      y: 0,\n      scale: 0,\n    };\n\n    this.setTransform(true);\n\n    this.state = \"ready\";\n\n    this.handleCursor();\n\n    if (silently !== true) {\n      this.trigger(\"endAnimation\");\n    }\n  }\n\n  /**\n   * Update the class name depending on whether the content is scaled\n   */\n  handleCursor() {\n    const draggableClass = this.option(\"draggableClass\");\n\n    if (!draggableClass || !this.option(\"touch\")) {\n      return;\n    }\n\n    if (\n      this.option(\"panOnlyZoomed\") == true &&\n      this.content.width <= this.viewport.width &&\n      this.content.height <= this.viewport.height &&\n      this.transform.scale <= this.option(\"baseScale\")\n    ) {\n      this.$container.classList.remove(draggableClass);\n    } else {\n      this.$container.classList.add(draggableClass);\n    }\n  }\n\n  /**\n   * Remove observation and detach event listeners\n   */\n  detachEvents() {\n    this.$content.removeEventListener(\"load\", this.onLoad);\n\n    this.$container.removeEventListener(\"wheel\", this.onWheel, { passive: false });\n    this.$container.removeEventListener(\"click\", this.onClick, { passive: false });\n\n    if (this.pointerTracker) {\n      this.pointerTracker.stop();\n      this.pointerTracker = null;\n    }\n\n    if (this.resizeObserver) {\n      this.resizeObserver.disconnect();\n      this.resizeObserver = null;\n    }\n  }\n\n  /**\n   * Clean up\n   */\n  destroy() {\n    if (this.state === \"destroy\") {\n      return;\n    }\n\n    this.state = \"destroy\";\n\n    clearTimeout(this.updateTimer);\n    this.updateTimer = null;\n\n    cancelAnimationFrame(this.rAF);\n    this.rAF = null;\n\n    this.detachEvents();\n\n    this.detachPlugins();\n\n    this.resetDragPosition();\n  }\n}\n\n// Expose version\nPanzoom.version = \"__VERSION__\";\n\n// Static properties are a recent addition that dont work in all browsers yet\nPanzoom.Plugins = Plugins;\n","/**\n * Round half up; to be more specific and to ensure things like 1.005 round correctly\n * @param {Float} value\n * @param {Integer} precision\n * @returns {Float}\n */\nexport const round = (value, precision = 10000) => {\n  value = parseFloat(value) || 0;\n\n  return Math.round((value + Number.EPSILON) * precision) / precision;\n};\n","/**\n * Check if  element has scrollable content\n * @param {Node} node\n * @returns {Boolean}\n */\nexport const hasScrollbars = function (node) {\n  const overflowY = getComputedStyle(node)[\"overflow-y\"],\n    overflowX = getComputedStyle(node)[\"overflow-x\"],\n    vertical = (overflowY === \"scroll\" || overflowY === \"auto\") && Math.abs(node.scrollHeight - node.clientHeight) > 1,\n    horizontal = (overflowX === \"scroll\" || overflowX === \"auto\") && Math.abs(node.scrollWidth - node.clientWidth) > 1;\n\n  return vertical || horizontal;\n};\n\n/**\n * Check if element or one of the parents is scrollable\n * @param {Node} node  DOM Node element\n * @returns {Boolean}\n */\nexport const isScrollable = function (node) {\n  if (!node || !(typeof node === \"object\" && node instanceof Element) || node === document.body) {\n    return false;\n  }\n\n  if (node.__Panzoom) {\n    return false;\n  }\n\n  if (hasScrollbars(node)) {\n    return node;\n  }\n\n  return isScrollable(node.parentNode);\n};\n","/**\n * ResizeObserver Polyfill\n */\nexport const ResizeObserver =\n  (typeof window !== \"undefined\" && window.ResizeObserver) ||\n  class {\n    constructor(callback) {\n      this.observables = [];\n      // Array of observed elements that looks like this:\n      // [{\n      //   el: domNode,\n      //   size: {height: x, width: y}\n      // }]\n      this.boundCheck = this.check.bind(this);\n      this.boundCheck();\n      this.callback = callback;\n    }\n\n    observe(el) {\n      if (this.observables.some((observable) => observable.el === el)) {\n        return;\n      }\n\n      const newObservable = {\n        el: el,\n        size: {\n          height: el.clientHeight,\n          width: el.clientWidth,\n        },\n      };\n\n      this.observables.push(newObservable);\n    }\n\n    unobserve(el) {\n      this.observables = this.observables.filter((obj) => obj.el !== el);\n    }\n\n    disconnect() {\n      this.observables = [];\n    }\n\n    check() {\n      const changedEntries = this.observables\n        .filter((obj) => {\n          const currentHeight = obj.el.clientHeight;\n          const currentWidth = obj.el.clientWidth;\n          if (obj.size.height !== currentHeight || obj.size.width !== currentWidth) {\n            obj.size.height = currentHeight;\n            obj.size.width = currentWidth;\n            return true;\n          }\n        })\n        .map((obj) => obj.el);\n\n      if (changedEntries.length > 0) {\n        this.callback(changedEntries);\n      }\n\n      window.requestAnimationFrame(this.boundCheck);\n    }\n  };\n","class Pointer {\r\n  constructor(nativePointer) {\r\n    this.id = self.Touch && nativePointer instanceof Touch ? nativePointer.identifier : -1;\r\n\r\n    this.pageX = nativePointer.pageX;\r\n    this.pageY = nativePointer.pageY;\r\n\r\n    this.clientX = nativePointer.clientX;\r\n    this.clientY = nativePointer.clientY;\r\n  }\r\n}\r\n\r\nconst getDistance = (a, b) => {\r\n  if (!b) {\r\n    return 0;\r\n  }\r\n\r\n  return Math.sqrt((b.clientX - a.clientX) ** 2 + (b.clientY - a.clientY) ** 2);\r\n};\r\n\r\nconst getMidpoint = (a, b) => {\r\n  if (!b) {\r\n    return a;\r\n  }\r\n\r\n  return {\r\n    clientX: (a.clientX + b.clientX) / 2,\r\n    clientY: (a.clientY + b.clientY) / 2,\r\n  };\r\n};\r\n\r\nconst isTouchEvent = (event) => \"changedTouches\" in event;\r\n\r\nclass PointerTracker {\r\n  constructor(_element, { start = () => true, move = () => {}, end = () => {} } = {}) {\r\n    this._element = _element;\r\n\r\n    this.startPointers = [];\r\n    this.currentPointers = [];\r\n\r\n    this._pointerStart = (event) => {\r\n      if (event.buttons > 0 && event.button !== 0) {\r\n        return;\r\n      }\r\n\r\n      const pointer = new Pointer(event);\r\n\r\n      if (this.currentPointers.some((p) => p.id === pointer.id)) {\r\n        return;\r\n      }\r\n\r\n      if (!this._triggerPointerStart(pointer, event)) {\r\n        return;\r\n      }\r\n\r\n      window.addEventListener(\"mousemove\", this._move);\r\n      window.addEventListener(\"mouseup\", this._pointerEnd);\r\n    };\r\n\r\n    this._touchStart = (event) => {\r\n      for (const touch of Array.from(event.changedTouches || [])) {\r\n        this._triggerPointerStart(new Pointer(touch), event);\r\n      }\r\n    };\r\n\r\n    this._move = (event) => {\r\n      const previousPointers = this.currentPointers.slice();\r\n      const changedPointers = isTouchEvent(event)\r\n        ? Array.from(event.changedTouches).map((t) => new Pointer(t))\r\n        : [new Pointer(event)];\r\n\r\n      const trackedChangedPointers = [];\r\n\r\n      for (const pointer of changedPointers) {\r\n        const index = this.currentPointers.findIndex((p) => p.id === pointer.id);\r\n\r\n        if (index < 0) {\r\n          continue;\r\n        }\r\n\r\n        trackedChangedPointers.push(pointer);\r\n\r\n        this.currentPointers[index] = pointer;\r\n      }\r\n\r\n      this._moveCallback(previousPointers, this.currentPointers.slice(), event);\r\n    };\r\n\r\n    this._triggerPointerEnd = (pointer, event) => {\r\n      const index = this.currentPointers.findIndex((p) => p.id === pointer.id);\r\n\r\n      if (index < 0) {\r\n        return false;\r\n      }\r\n\r\n      this.currentPointers.splice(index, 1);\r\n      this.startPointers.splice(index, 1);\r\n\r\n      this._endCallback(pointer, event);\r\n\r\n      return true;\r\n    };\r\n\r\n    this._pointerEnd = (event) => {\r\n      if (event.buttons > 0 && event.button !== 0) {\r\n        return;\r\n      }\r\n\r\n      if (!this._triggerPointerEnd(new Pointer(event), event)) {\r\n        return;\r\n      }\r\n\r\n      window.removeEventListener(\"mousemove\", this._move, { passive: false });\r\n      window.removeEventListener(\"mouseup\", this._pointerEnd, { passive: false });\r\n    };\r\n\r\n    this._touchEnd = (event) => {\r\n      for (const touch of Array.from(event.changedTouches || [])) {\r\n        this._triggerPointerEnd(new Pointer(touch), event);\r\n      }\r\n    };\r\n\r\n    this._startCallback = start;\r\n    this._moveCallback = move;\r\n    this._endCallback = end;\r\n\r\n    this._element.addEventListener(\"mousedown\", this._pointerStart, { passive: false });\r\n    this._element.addEventListener(\"touchstart\", this._touchStart, { passive: false });\r\n    this._element.addEventListener(\"touchmove\", this._move, { passive: false });\r\n    this._element.addEventListener(\"touchend\", this._touchEnd);\r\n    this._element.addEventListener(\"touchcancel\", this._touchEnd);\r\n  }\r\n\r\n  stop() {\r\n    this._element.removeEventListener(\"mousedown\", this._pointerStart, { passive: false });\r\n    this._element.removeEventListener(\"touchstart\", this._touchStart, { passive: false });\r\n    this._element.removeEventListener(\"touchmove\", this._move, { passive: false });\r\n    this._element.removeEventListener(\"touchend\", this._touchEnd);\r\n    this._element.removeEventListener(\"touchcancel\", this._touchEnd);\r\n\r\n    window.removeEventListener(\"mousemove\", this._move);\r\n    window.removeEventListener(\"mouseup\", this._pointerEnd);\r\n  }\r\n\r\n  _triggerPointerStart(pointer, event) {\r\n    if (!this._startCallback(pointer, event)) {\r\n      return false;\r\n    }\r\n\r\n    this.currentPointers.push(pointer);\r\n    this.startPointers.push(pointer);\r\n\r\n    return true;\r\n  }\r\n}\r\n\r\nexport { PointerTracker, getDistance, getMidpoint };\r\n","/**\n * Get element child node at the given coordinates\n * @param {Element} HTML element\n * @param {Float|Integer} x\n * @param {Float|Integer} y\n * @returns {Node|Boolean}}\n */\nexport const getTextNodeFromPoint = (element, x, y) => {\n  const nodes = element.childNodes;\n  const range = document.createRange();\n\n  for (let i = 0; i < nodes.length; i++) {\n    const node = nodes[i];\n\n    if (node.nodeType !== Node.TEXT_NODE) {\n      continue;\n    }\n\n    range.selectNodeContents(node);\n\n    const rect = range.getBoundingClientRect();\n\n    if (x >= rect.left && y >= rect.top && x <= rect.right && y <= rect.bottom) {\n      return node;\n    }\n  }\n\n  return false;\n};\n","/**\n * Get actual width of the element, regardless of how much of content is currently visible\n * @param {Element} elem\n * @returns {Integer}\n */\nexport const getFullWidth = (elem) => {\n  return Math.max(\n    parseFloat(elem.naturalWidth || 0),\n    parseFloat((elem.width && elem.width.baseVal && elem.width.baseVal.value) || 0),\n    parseFloat(elem.offsetWidth || 0),\n    parseFloat(elem.scrollWidth || 0)\n  );\n};\n\n/**\n * Get actual height of the element, regardless of how much of content is currently visible\n * @param {Element} elem\n * @returns {Integer}\n */\nexport const getFullHeight = (elem) => {\n  return Math.max(\n    parseFloat(elem.naturalHeight || 0),\n    parseFloat((elem.height && elem.height.baseVal && elem.height.baseVal.value) || 0),\n    parseFloat(elem.offsetHeight || 0),\n    parseFloat(elem.scrollHeight || 0)\n  );\n};\n\n/**\n * Calculate bounding size to fit dimensions while preserving aspect ratio\n * @param {Number} srcWidth\n * @param {Number} srcHeight\n * @param {Number} maxWidth\n * @param {Number} maxHeight\n * @returns {Object}\n */\nexport const calculateAspectRatioFit = (srcWidth, srcHeight, maxWidth, maxHeight) => {\n  const ratio = Math.min(maxWidth / srcWidth || 0, maxHeight / srcHeight);\n\n  return { width: srcWidth * ratio || 0, height: srcHeight * ratio || 0 };\n};\n","export const Plugins = {};\n","/**\n * Throttling enforces a maximum number of times a function can be called over time\n * @param {Function} func Callback function\n * @param {Integer} limit Milliseconds\n * @returns {Function}\n */\nexport const throttle = (func, limit) => {\n  let lastCall = 0;\n\n  return function (...args) {\n    const now = new Date().getTime();\n\n    if (now - lastCall < limit) {\n      return;\n    }\n\n    lastCall = now;\n\n    return func(...args);\n  };\n};\n","const defaults = {\n  prevTpl: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" tabindex=\"-1\"><path d=\"M15 3l-9 9 9 9\"/></svg>',\n  nextTpl: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" tabindex=\"-1\"><path d=\"M9 3l9 9-9 9\"/></svg>',\n\n  classNames: {\n    main: \"carousel__nav\",\n    button: \"carousel__button\",\n\n    next: \"is-next\",\n    prev: \"is-prev\",\n  },\n};\n\nexport class Navigation {\n  constructor(carousel) {\n    this.$container = null;\n\n    this.$prev = null;\n    this.$next = null;\n\n    this.carousel = carousel;\n\n    this.onRefresh = this.onRefresh.bind(this);\n  }\n\n  /**\n   * Shortcut to get option for this plugin\n   * @param {String} name option name\n   * @returns option value\n   */\n  option(name) {\n    return this.carousel.option(`Navigation.${name}`);\n  }\n\n  /**\n   * Creates and returns new button element with default class names and click event\n   * @param {String} type\n   */\n  createButton(type) {\n    const $btn = document.createElement(\"button\");\n\n    $btn.setAttribute(\"title\", this.carousel.localize(`{{${type.toUpperCase()}}}`));\n\n    const classNames = this.option(\"classNames.button\") + \" \" + this.option(`classNames.${type}`);\n\n    $btn.classList.add(...classNames.split(\" \"));\n    $btn.setAttribute(\"tabindex\", \"0\");\n    $btn.innerHTML = this.carousel.localize(this.option(`${type}Tpl`));\n\n    $btn.addEventListener(\"click\", (event) => {\n      event.preventDefault();\n      event.stopPropagation();\n\n      this.carousel[`slide${type === \"next\" ? \"Next\" : \"Prev\"}`]();\n    });\n\n    return $btn;\n  }\n\n  /**\n   * Build necessary DOM elements\n   */\n  build() {\n    if (!this.$container) {\n      this.$container = document.createElement(\"div\");\n      this.$container.classList.add(...this.option(\"classNames.main\").split(\" \"));\n\n      this.carousel.$container.appendChild(this.$container);\n    }\n\n    if (!this.$next) {\n      this.$next = this.createButton(\"next\");\n\n      this.$container.appendChild(this.$next);\n    }\n\n    if (!this.$prev) {\n      this.$prev = this.createButton(\"prev\");\n\n      this.$container.appendChild(this.$prev);\n    }\n  }\n\n  /**\n   *  Process carousel `refresh` and `change` events to enable/disable buttons if needed\n   */\n  onRefresh() {\n    const pageCount = this.carousel.pages.length;\n\n    if (\n      pageCount <= 1 ||\n      (pageCount > 1 &&\n        this.carousel.elemDimWidth < this.carousel.wrapDimWidth &&\n        !Number.isInteger(this.carousel.option(\"slidesPerPage\")))\n    ) {\n      this.cleanup();\n\n      return;\n    }\n\n    this.build();\n\n    this.$prev.removeAttribute(\"disabled\");\n    this.$next.removeAttribute(\"disabled\");\n\n    if (this.carousel.option(\"infiniteX\", this.carousel.option(\"infinite\"))) {\n      return;\n    }\n\n    if (this.carousel.page <= 0) {\n      this.$prev.setAttribute(\"disabled\", \"\");\n    }\n\n    if (this.carousel.page >= pageCount - 1) {\n      this.$next.setAttribute(\"disabled\", \"\");\n    }\n  }\n\n  cleanup() {\n    if (this.$prev) {\n      this.$prev.remove();\n    }\n\n    this.$prev = null;\n\n    if (this.$next) {\n      this.$next.remove();\n    }\n\n    this.$next = null;\n\n    if (this.$container) {\n      this.$container.remove();\n    }\n\n    this.$container = null;\n  }\n\n  attach() {\n    this.carousel.on(\"refresh change\", this.onRefresh);\n  }\n\n  detach() {\n    this.carousel.off(\"refresh change\", this.onRefresh);\n\n    this.cleanup();\n  }\n}\n\n// Expose defaults\nNavigation.defaults = defaults;\n","const defaults = {\n  // The minimum number of slides to display dots\n  minSlideCount: 2,\n};\n\nexport class Dots {\n  constructor(carousel) {\n    this.carousel = carousel;\n\n    this.$list = null;\n\n    this.events = {\n      change: this.onChange.bind(this),\n      refresh: this.onRefresh.bind(this),\n    };\n  }\n\n  /**\n   * Build wrapping DOM element containing all dots\n   */\n  buildList() {\n    if (this.carousel.pages.length < this.carousel.option(\"Dots.minSlideCount\")) {\n      return;\n    }\n\n    const $list = document.createElement(\"ol\");\n\n    $list.classList.add(\"carousel__dots\");\n\n    $list.addEventListener(\"click\", (e) => {\n      if (!(\"page\" in e.target.dataset)) {\n        return;\n      }\n\n      e.preventDefault();\n      e.stopPropagation();\n\n      const page = parseInt(e.target.dataset.page, 10);\n      const carousel = this.carousel;\n\n      if (page === carousel.page) {\n        return;\n      }\n\n      if (carousel.pages.length < 3 && carousel.option(\"infinite\")) {\n        carousel[page == 0 ? \"slidePrev\" : \"slideNext\"]();\n      } else {\n        carousel.slideTo(page);\n      }\n    });\n\n    this.$list = $list;\n\n    this.carousel.$container.appendChild($list);\n    this.carousel.$container.classList.add(\"has-dots\");\n\n    return $list;\n  }\n\n  /**\n   * Remove wrapping DOM element\n   */\n  removeList() {\n    if (this.$list) {\n      this.$list.parentNode.removeChild(this.$list);\n      this.$list = null;\n    }\n\n    this.carousel.$container.classList.remove(\"has-dots\");\n  }\n\n  /**\n   * Remove existing dots and create fresh ones\n   */\n  rebuildDots() {\n    let $list = this.$list;\n\n    const listExists = !!$list;\n    const pagesCount = this.carousel.pages.length;\n\n    if (pagesCount < 2) {\n      if (listExists) {\n        this.removeList();\n      }\n\n      return;\n    }\n\n    if (!listExists) {\n      $list = this.buildList();\n    }\n\n    // Remove existing dots\n    const dotCount = this.$list.children.length;\n\n    if (dotCount > pagesCount) {\n      for (let i = pagesCount; i < dotCount; i++) {\n        this.$list.removeChild(this.$list.lastChild);\n      }\n\n      return;\n    }\n\n    // Create fresh DOM elements (dots) for each page\n    for (let index = dotCount; index < pagesCount; index++) {\n      const $dot = document.createElement(\"li\");\n\n      $dot.classList.add(\"carousel__dot\");\n      $dot.dataset.page = index;\n\n      $dot.setAttribute(\"role\", \"button\");\n      $dot.setAttribute(\"tabindex\", \"0\");\n      $dot.setAttribute(\"title\", this.carousel.localize(\"{{GOTO}}\", [[\"%d\", index + 1]]));\n\n      $dot.addEventListener(\"keydown\", (event) => {\n        const code = event.code;\n\n        let $el;\n\n        if (code === \"Enter\" || code === \"NumpadEnter\") {\n          $el = $dot;\n        } else if (code === \"ArrowRight\") {\n          $el = $dot.nextSibling;\n        } else if (code === \"ArrowLeft\") {\n          $el = $dot.previousSibling;\n        }\n\n        $el && $el.click();\n      });\n\n      this.$list.appendChild($dot);\n    }\n\n    this.setActiveDot();\n  }\n\n  /**\n   * Mark active dot by toggling class name\n   */\n  setActiveDot() {\n    if (!this.$list) {\n      return;\n    }\n\n    this.$list.childNodes.forEach(($dot) => {\n      $dot.classList.remove(\"is-selected\");\n    });\n\n    const $activeDot = this.$list.childNodes[this.carousel.page];\n\n    if ($activeDot) {\n      $activeDot.classList.add(\"is-selected\");\n    }\n  }\n\n  /**\n   * Process carousel `change` event\n   */\n  onChange() {\n    this.setActiveDot();\n  }\n\n  /**\n   * Process carousel `refresh` event\n   */\n  onRefresh() {\n    this.rebuildDots();\n  }\n\n  attach() {\n    this.carousel.on(this.events);\n  }\n\n  detach() {\n    this.removeList();\n\n    this.carousel.off(this.events);\n    this.carousel = null;\n  }\n}\n","const defaults = {\n  friction: 0.92,\n};\n\nexport class Sync {\n  constructor(carousel) {\n    this.carousel = carousel;\n\n    this.selectedIndex = null;\n    this.friction = 0;\n\n    this.onNavReady = this.onNavReady.bind(this);\n    this.onNavClick = this.onNavClick.bind(this);\n    this.onNavCreateSlide = this.onNavCreateSlide.bind(this);\n\n    this.onTargetChange = this.onTargetChange.bind(this);\n  }\n\n  /**\n   * Make this one as main carousel and selected carousel as navigation\n   * @param {Object} nav Carousel\n   */\n  addAsTargetFor(nav) {\n    this.target = this.carousel;\n    this.nav = nav;\n\n    this.attachEvents();\n  }\n\n  /**\n   * Make this one as navigation carousel for selected carousel\n   * @param {Object} target\n   */\n  addAsNavFor(target) {\n    this.target = target;\n    this.nav = this.carousel;\n\n    this.attachEvents();\n  }\n\n  /**\n   * Attach event listeners on both carousels\n   */\n  attachEvents() {\n    this.nav.options.initialSlide = this.target.options.initialPage;\n\n    this.nav.on(\"ready\", this.onNavReady);\n    this.nav.on(\"createSlide\", this.onNavCreateSlide);\n    this.nav.on(\"Panzoom.click\", this.onNavClick);\n\n    this.target.on(\"change\", this.onTargetChange);\n    this.target.on(\"Panzoom.afterUpdate\", this.onTargetChange);\n  }\n\n  /**\n   * Process main carousel `ready` event; bind events and set initial page\n   */\n  onNavReady() {\n    this.onTargetChange(true);\n  }\n\n  /**\n   * Process main carousel `click` event\n   * @param {Object} panzoom\n   * @param {Object} event\n   */\n  onNavClick(carousel, panzoom, event) {\n    const clickedNavSlide = event.target.closest(\".carousel__slide\");\n\n    if (!clickedNavSlide) {\n      return;\n    }\n\n    event.stopPropagation();\n\n    const selectedNavIndex = parseInt(clickedNavSlide.dataset.index, 10);\n    const selectedSyncPage = this.target.findPageForSlide(selectedNavIndex);\n\n    if (this.target.page !== selectedSyncPage) {\n      this.target.slideTo(selectedSyncPage, { friction: this.friction });\n    }\n\n    this.markSelectedSlide(selectedNavIndex);\n  }\n\n  /**\n   * Process main carousel `createSlide` event\n   * @param {Object} carousel\n   * @param {Object} slide\n   */\n  onNavCreateSlide(carousel, slide) {\n    if (slide.index === this.selectedIndex) {\n      this.markSelectedSlide(slide.index);\n    }\n  }\n\n  /**\n   * Process target carousel `change` event\n   * @param {Object} target\n   */\n  onTargetChange() {\n    const targetIndex = this.target.pages[this.target.page].indexes[0];\n    const selectedNavPage = this.nav.findPageForSlide(targetIndex);\n\n    this.nav.slideTo(selectedNavPage);\n\n    this.markSelectedSlide(targetIndex);\n  }\n\n  /**\n   * Toggle classname for slides that marks currently selected slides\n   * @param {Number} selectedIndex\n   */\n  markSelectedSlide(selectedIndex) {\n    this.selectedIndex = selectedIndex;\n\n    [...this.nav.slides].filter((slide) => slide.$el && slide.$el.classList.remove(\"is-nav-selected\"));\n\n    const slide = this.nav.slides[selectedIndex];\n\n    if (slide && slide.$el) slide.$el.classList.add(\"is-nav-selected\");\n  }\n\n  attach(carousel) {\n    const sync = carousel.options.Sync;\n\n    if (!sync.target && !sync.nav) {\n      return;\n    }\n\n    if (sync.target) {\n      this.addAsNavFor(sync.target);\n    } else if (sync.nav) {\n      this.addAsTargetFor(sync.nav);\n    }\n\n    this.friction = sync.friction;\n  }\n\n  detach() {\n    if (this.nav) {\n      this.nav.off(\"ready\", this.onNavReady);\n      this.nav.off(\"Panzoom.click\", this.onNavClick);\n      this.nav.off(\"createSlide\", this.onNavCreateSlide);\n    }\n\n    if (this.target) {\n      this.target.off(\"Panzoom.afterUpdate\", this.onTargetChange);\n      this.target.off(\"change\", this.onTargetChange);\n    }\n  }\n}\n\n// Expose defaults\nSync.defaults = defaults;\n","import { Navigation } from \"./Navigation/Navigation.js\";\nimport { Dots } from \"./Dots/Dots.js\";\nimport { Sync } from \"./Sync/Sync.js\";\n\nexport const Plugins = { Navigation, Dots, Sync };\n","export default {\r\n  NEXT: \"Next slide\",\r\n  PREV: \"Previous slide\",\r\n  GOTO: \"Go to slide #%d\",\r\n};\r\n","import { isScrollable } from \"../../../../src/shared/utils/isScrollable.js\";\n\nexport class ScrollLock {\n  constructor(fancybox) {\n    this.fancybox = fancybox;\n    this.viewport = null;\n\n    this.pendingUpdate = null;\n\n    for (const methodName of [\"onReady\", \"onResize\", \"onTouchstart\", \"onTouchmove\"]) {\n      this[methodName] = this[methodName].bind(this);\n    }\n  }\n\n  /**\n   * Process `initLayout` event to attach event listeners and resize viewport if needed\n   */\n  onReady() {\n    //* Support Visual Viewport API\n    // https://developer.mozilla.org/en-US/docs/Web/API/Visual_Viewport_API\n    const viewport = window.visualViewport;\n\n    if (viewport) {\n      this.viewport = viewport;\n      this.startY = 0;\n\n      viewport.addEventListener(\"resize\", this.onResize);\n\n      this.updateViewport();\n    }\n\n    //* Prevent bouncing while scrolling on mobile devices\n    window.addEventListener(\"touchstart\", this.onTouchstart, { passive: false });\n    window.addEventListener(\"touchmove\", this.onTouchmove, { passive: false });\n\n    //* Prevent window scrolling with mouse wheel\n    window.addEventListener(\"wheel\", this.onWheel, { passive: false });\n  }\n\n  /**\n   * Handle `resize` event to call `updateViewport`\n   */\n  onResize() {\n    this.updateViewport();\n  }\n\n  /**\n   * Scale $container proportionally to actually fit inside browser,\n   * e.g., disable viewport zooming\n   */\n  updateViewport() {\n    const fancybox = this.fancybox,\n      viewport = this.viewport,\n      scale = viewport.scale || 1,\n      $container = fancybox.$container;\n\n    if (!$container) {\n      return;\n    }\n\n    let width = \"\",\n      height = \"\",\n      transform = \"\";\n\n    if (scale - 1 > 0.1) {\n      width = `${viewport.width * scale}px`;\n      height = `${viewport.height * scale}px`;\n      transform = `translate3d(${viewport.offsetLeft}px, ${viewport.offsetTop}px, 0) scale(${1 / scale})`;\n    }\n\n    $container.style.width = width;\n    $container.style.height = height;\n    $container.style.transform = transform;\n  }\n\n  /**\n   * Handle `touchstart` event to mark drag start position\n   * @param {Object} event\n   */\n  onTouchstart(event) {\n    this.startY = event.touches ? event.touches[0].screenY : event.screenY;\n  }\n\n  /**\n   * Handle `touchmove` event to fix scrolling on mobile devices (iOS)\n   * @param {Object} event\n   */\n  onTouchmove(event) {\n    const startY = this.startY;\n    const zoom = window.innerWidth / window.document.documentElement.clientWidth;\n\n    if (!event.cancelable) {\n      return;\n    }\n\n    if (event.touches.length > 1 || zoom !== 1) {\n      return;\n    }\n\n    const el = isScrollable(event.composedPath()[0]);\n\n    if (!el) {\n      event.preventDefault();\n      return;\n    }\n\n    const style = window.getComputedStyle(el);\n    const height = parseInt(style.getPropertyValue(\"height\"), 10);\n\n    const curY = event.touches ? event.touches[0].screenY : event.screenY;\n\n    const isAtTop = startY <= curY && el.scrollTop === 0;\n    const isAtBottom = startY >= curY && el.scrollHeight - el.scrollTop === height;\n\n    if (isAtTop || isAtBottom) {\n      event.preventDefault();\n    }\n  }\n\n  /**\n   * Handle `wheel` event\n   */\n  onWheel(event) {\n    if (!isScrollable(event.composedPath()[0])) {\n      event.preventDefault();\n    }\n  }\n\n  /**\n   * Clean everything up\n   */\n  cleanup() {\n    if (this.pendingUpdate) {\n      cancelAnimationFrame(this.pendingUpdate);\n      this.pendingUpdate = null;\n    }\n\n    const viewport = this.viewport;\n\n    if (viewport) {\n      viewport.removeEventListener(\"resize\", this.onResize);\n      this.viewport = null;\n    }\n\n    window.removeEventListener(\"touchstart\", this.onTouchstart, false);\n    window.removeEventListener(\"touchmove\", this.onTouchmove, false);\n\n    window.removeEventListener(\"wheel\", this.onWheel, { passive: false });\n  }\n\n  attach() {\n    this.fancybox.on(\"initLayout\", this.onReady);\n  }\n\n  detach() {\n    this.fancybox.off(\"initLayout\", this.onReady);\n\n    this.cleanup();\n  }\n}\n","import { extend } from \"../../../shared/utils/extend.js\";\nimport { Carousel } from \"../../../Carousel/Carousel.js\";\n\nconst defaults = {\n  // The minimum number of images in the gallery to display thumbnails\n  minSlideCount: 2,\n\n  // Minimum screen height to display thumbnails\n  minScreenHeight: 500,\n\n  // Automatically show thumbnails when opened\n  autoStart: true,\n\n  // Keyboard shortcut to toggle thumbnail container\n  key: \"t\",\n\n  // Customize Carousel instance\n  Carousel: {},\n\n  tpl: `<div class=\"fancybox__thumb\" style=\"background-image:url('{{src}}')\"></div>`,\n};\n\nexport class Thumbs {\n  constructor(fancybox) {\n    this.fancybox = fancybox;\n\n    this.$container = null;\n    this.state = \"init\";\n\n    for (const methodName of [\"onPrepare\", \"onClosing\", \"onKeydown\"]) {\n      this[methodName] = this[methodName].bind(this);\n    }\n\n    this.events = {\n      prepare: this.onPrepare,\n      closing: this.onClosing,\n      keydown: this.onKeydown,\n    };\n  }\n\n  /**\n   * Process `prepare` event to build the layout\n   */\n  onPrepare() {\n    // Get slides, skip if the total number is less than the minimum\n    const slides = this.getSlides();\n\n    if (slides.length < this.fancybox.option(\"Thumbs.minSlideCount\")) {\n      this.state = \"disabled\";\n      return;\n    }\n\n    if (\n      this.fancybox.option(\"Thumbs.autoStart\") === true &&\n      this.fancybox.Carousel.Panzoom.content.height >= this.fancybox.option(\"Thumbs.minScreenHeight\")\n    ) {\n      this.build();\n    }\n  }\n\n  /**\n   * Process `closing` event to disable all events\n   */\n  onClosing() {\n    if (this.Carousel) {\n      this.Carousel.Panzoom.detachEvents();\n    }\n  }\n\n  /**\n   * Process `keydown` event to enable thumbnail list toggling using keyboard key\n   * @param {Object} fancybox\n   * @param {String} key\n   */\n  onKeydown(fancybox, key) {\n    if (key === fancybox.option(\"Thumbs.key\")) {\n      this.toggle();\n    }\n  }\n\n  /**\n   * Build layout and init thumbnail Carousel\n   */\n  build() {\n    if (this.$container) {\n      return;\n    }\n\n    // Create wrapping element and append to layout\n    const $container = document.createElement(\"div\");\n\n    $container.classList.add(\"fancybox__thumbs\");\n\n    this.fancybox.$carousel.parentNode.insertBefore($container, this.fancybox.$carousel.nextSibling);\n\n    // Initialise thumbnail carousel with all slides\n    this.Carousel = new Carousel(\n      $container,\n      extend(\n        true,\n        {\n          Dots: false,\n          Navigation: false,\n          Sync: {\n            friction: 0,\n          },\n          infinite: false,\n          center: true,\n          fill: true,\n          dragFree: true,\n          slidesPerPage: 1,\n          preload: 1,\n        },\n        this.fancybox.option(\"Thumbs.Carousel\"),\n        {\n          Sync: {\n            target: this.fancybox.Carousel,\n          },\n          slides: this.getSlides(),\n        }\n      )\n    );\n\n    // Slide carousel on wheel event\n    this.Carousel.Panzoom.on(\"wheel\", (panzoom, event) => {\n      event.preventDefault();\n\n      this.fancybox[event.deltaY < 0 ? \"prev\" : \"next\"]();\n    });\n\n    this.$container = $container;\n\n    this.state = \"visible\";\n  }\n\n  /**\n   * Process all fancybox slides to get all thumbnail images\n   */\n  getSlides() {\n    const slides = [];\n\n    for (const slide of this.fancybox.items) {\n      const thumb = slide.thumb;\n\n      if (thumb) {\n        slides.push({\n          html: this.fancybox.option(\"Thumbs.tpl\").replace(/\\{\\{src\\}\\}/gi, thumb),\n          customClass: `has-thumb has-${slide.type || \"image\"}`,\n        });\n      }\n    }\n\n    return slides;\n  }\n\n  /**\n   * Toggle visibility of thumbnail list\n   * Tip: you can use `Fancybox.getInstance().plugins.Thumbs.toggle()` from anywhere in your code\n   */\n  toggle() {\n    if (this.state === \"visible\") {\n      this.hide();\n    } else if (this.state === \"hidden\") {\n      this.show();\n    } else {\n      this.build();\n    }\n  }\n\n  /**\n   * Show thumbnail list\n   */\n  show() {\n    if (this.state === \"hidden\") {\n      this.$container.style.display = \"\";\n\n      this.Carousel.Panzoom.attachEvents();\n\n      this.state = \"visible\";\n    }\n  }\n\n  /**\n   * Hide thumbnail list\n   */\n  hide() {\n    if (this.state === \"visible\") {\n      this.Carousel.Panzoom.detachEvents();\n\n      this.$container.style.display = \"none\";\n\n      this.state = \"hidden\";\n    }\n  }\n\n  /**\n   * Reset the state\n   */\n  cleanup() {\n    if (this.Carousel) {\n      this.Carousel.destroy();\n      this.Carousel = null;\n    }\n\n    if (this.$container) {\n      this.$container.remove();\n      this.$container = null;\n    }\n\n    this.state = \"init\";\n  }\n\n  attach() {\n    this.fancybox.on(this.events);\n  }\n\n  detach() {\n    this.fancybox.off(this.events);\n\n    this.cleanup();\n  }\n}\n\n// Expose defaults\nThumbs.defaults = defaults;\n","import { extend } from \"../../../shared/utils/extend.js\";\n\nconst buildURLQuery = (src, obj) => {\n  const url = new URL(src);\n  const params = new URLSearchParams(url.search);\n\n  let rez = new URLSearchParams();\n\n  for (const [key, value] of [...params, ...Object.entries(obj)]) {\n    // Youtube\n    if (key === \"t\") {\n      rez.set(\"start\", parseInt(value));\n    } else {\n      rez.set(key, value);\n    }\n  }\n\n  // Convert to 'foo=1&bar=2&baz=3'\n  rez = rez.toString();\n\n  // Vimeo\n  // https://vimeo.zendesk.com/hc/en-us/articles/360000121668-Starting-playback-at-a-specific-timecode\n  let matches = src.match(/#t=((.*)?\\d+s)/);\n\n  if (matches) {\n    rez += `#t=${matches[1]}`;\n  }\n\n  return rez;\n};\n\nconst defaults = {\n  // General options for any video content (Youtube, Vimeo, HTML5 video)\n  video: {\n    autoplay: true,\n    ratio: 16 / 9,\n  },\n  // Youtube embed parameters\n  youtube: {\n    autohide: 1,\n    fs: 1,\n    rel: 0,\n    hd: 1,\n    wmode: \"transparent\",\n    enablejsapi: 1,\n    html5: 1,\n  },\n  // Vimeo embed parameters\n  vimeo: {\n    hd: 1,\n    show_title: 1,\n    show_byline: 1,\n    show_portrait: 0,\n    fullscreen: 1,\n  },\n  // HTML5 video parameters\n  html5video: {\n    tpl: `<video class=\"fancybox__html5video\" playsinline controls controlsList=\"nodownload\" poster=\"{{poster}}\">\n  <source src=\"{{src}}\" type=\"{{format}}\" />Sorry, your browser doesn't support embedded videos.</video>`,\n    format: \"\",\n  },\n};\n\nexport class Html {\n  constructor(fancybox) {\n    this.fancybox = fancybox;\n\n    for (const methodName of [\n      \"onInit\",\n      \"onReady\",\n\n      \"onCreateSlide\",\n      \"onRemoveSlide\",\n\n      \"onSelectSlide\",\n      \"onUnselectSlide\",\n\n      \"onRefresh\",\n\n      // For communication with iframed video (youtube/vimeo)\n      \"onMessage\",\n    ]) {\n      this[methodName] = this[methodName].bind(this);\n    }\n\n    this.events = {\n      init: this.onInit,\n      ready: this.onReady,\n\n      \"Carousel.createSlide\": this.onCreateSlide,\n      \"Carousel.removeSlide\": this.onRemoveSlide,\n\n      \"Carousel.selectSlide\": this.onSelectSlide,\n      \"Carousel.unselectSlide\": this.onUnselectSlide,\n\n      \"Carousel.refresh\": this.onRefresh,\n    };\n  }\n\n  /**\n   * Check if each gallery item has type when fancybox starts\n   */\n  onInit() {\n    for (const slide of this.fancybox.items) {\n      this.processType(slide);\n    }\n  }\n\n  /**\n   * Set content type for the slide\n   * @param {Object} slide\n   */\n  processType(slide) {\n    // Add support for `new Fancybox({items : [{html : 'smth'}]});`\n    if (slide.html) {\n      slide.src = slide.html;\n      slide.type = \"html\";\n\n      delete slide.html;\n\n      return;\n    }\n\n    const src = slide.src || \"\";\n\n    let type = slide.type || this.fancybox.options.type,\n      rez = null;\n\n    if (src && typeof src !== \"string\") {\n      return;\n    }\n\n    if (\n      (rez = src.match(\n        /(?:youtube\\.com|youtu\\.be|youtube\\-nocookie\\.com)\\/(?:watch\\?(?:.*&)?v=|v\\/|u\\/|embed\\/?)?(videoseries\\?list=(?:.*)|[\\w-]{11}|\\?listType=(?:.*)&list=(?:.*))(?:.*)/i\n      ))\n    ) {\n      const params = buildURLQuery(src, this.fancybox.option(\"Html.youtube\"));\n      const videoId = encodeURIComponent(rez[1]);\n\n      slide.videoId = videoId;\n      slide.src = `https://www.youtube-nocookie.com/embed/${videoId}?${params}`;\n      slide.thumb = slide.thumb || `https://i.ytimg.com/vi/${videoId}/mqdefault.jpg`;\n      slide.vendor = \"youtube\";\n\n      type = \"video\";\n    } else if ((rez = src.match(/^.+vimeo.com\\/(?:\\/)?([\\d]+)(.*)?/))) {\n      const params = buildURLQuery(src, this.fancybox.option(\"Html.vimeo\"));\n      const videoId = encodeURIComponent(rez[1]);\n\n      slide.videoId = videoId;\n      slide.src = `https://player.vimeo.com/video/${videoId}?${params}`;\n      slide.vendor = \"vimeo\";\n\n      type = \"video\";\n    } else if (\n      (rez = src.match(\n        /(?:maps\\.)?google\\.([a-z]{2,3}(?:\\.[a-z]{2})?)\\/(?:(?:(?:maps\\/(?:place\\/(?:.*)\\/)?\\@(.*),(\\d+.?\\d+?)z))|(?:\\?ll=))(.*)?/i\n      ))\n    ) {\n      slide.src = `//maps.google.${rez[1]}/?ll=${(rez[2]\n        ? rez[2] + \"&z=\" + Math.floor(rez[3]) + (rez[4] ? rez[4].replace(/^\\//, \"&\") : \"\")\n        : rez[4] + \"\"\n      ).replace(/\\?/, \"&\")}&output=${rez[4] && rez[4].indexOf(\"layer=c\") > 0 ? \"svembed\" : \"embed\"}`;\n\n      type = \"map\";\n    } else if ((rez = src.match(/(?:maps\\.)?google\\.([a-z]{2,3}(?:\\.[a-z]{2})?)\\/(?:maps\\/search\\/)(.*)/i))) {\n      slide.src = `//maps.google.${rez[1]}/maps?q=${rez[2].replace(\"query=\", \"q=\").replace(\"api=1\", \"\")}&output=embed`;\n\n      type = \"map\";\n    }\n\n    // Guess content type\n    if (!type) {\n      if (src.charAt(0) === \"#\") {\n        type = \"inline\";\n      } else if ((rez = src.match(/\\.(mp4|mov|ogv|webm)((\\?|#).*)?$/i))) {\n        type = \"html5video\";\n\n        slide.format = slide.format || \"video/\" + (rez[1] === \"ogv\" ? \"ogg\" : rez[1]);\n      } else if (src.match(/(^data:image\\/[a-z0-9+\\/=]*,)|(\\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\\?|#).*)?$)/i)) {\n        type = \"image\";\n      } else if (src.match(/\\.(pdf)((\\?|#).*)?$/i)) {\n        type = \"pdf\";\n      }\n    }\n\n    slide.type = type || this.fancybox.option(\"defaultType\", \"image\");\n\n    if (type === \"html5video\" || type === \"video\") {\n      slide.video = extend({}, this.fancybox.option(\"Html.video\"), slide.video);\n\n      if (slide._width && slide._height) {\n        slide.ratio = parseFloat(slide._width) / parseFloat(slide._height);\n      } else {\n        slide.ratio = slide.ratio || slide.video.ratio || defaults.video.ratio;\n      }\n    }\n  }\n\n  /**\n   * Start loading content when Fancybox is ready\n   */\n  onReady() {\n    this.fancybox.Carousel.slides.forEach((slide) => {\n      if (slide.$el) {\n        this.setContent(slide);\n\n        if (slide.index === this.fancybox.getSlide().index) {\n          this.playVideo(slide);\n        }\n      }\n    });\n  }\n\n  /**\n   * Process `Carousel.createSlide` event to create image content\n   * @param {Object} fancybox\n   * @param {Object} carousel\n   * @param {Object} slide\n   */\n  onCreateSlide(fancybox, carousel, slide) {\n    if (this.fancybox.state !== \"ready\") {\n      return;\n    }\n\n    this.setContent(slide);\n  }\n\n  /**\n   * Retrieve and set slide content\n   * @param {Object} slide\n   */\n  loadInlineContent(slide) {\n    let $content;\n\n    if (slide.src instanceof HTMLElement) {\n      $content = slide.src;\n    } else if (typeof slide.src === \"string\") {\n      const tmp = slide.src.split(\"#\", 2);\n      const id = tmp.length === 2 && tmp[0] === \"\" ? tmp[1] : tmp[0];\n\n      $content = document.getElementById(id);\n    }\n\n    if ($content) {\n      if (slide.type === \"clone\" || $content.$placeHolder) {\n        $content = $content.cloneNode(true);\n        let attrId = $content.getAttribute(\"id\");\n\n        attrId = attrId ? `${attrId}--clone` : `clone-${this.fancybox.id}-${slide.index}`;\n\n        $content.setAttribute(\"id\", attrId);\n      } else {\n        const $placeHolder = document.createElement(\"div\");\n        $placeHolder.classList.add(\"fancybox-placeholder\");\n        $content.parentNode.insertBefore($placeHolder, $content);\n        $content.$placeHolder = $placeHolder;\n      }\n\n      this.fancybox.setContent(slide, $content);\n    } else {\n      this.fancybox.setError(slide, \"{{ELEMENT_NOT_FOUND}}\");\n    }\n  }\n\n  /**\n   * Makes AJAX request and sets response as slide content\n   * @param {Object} slide\n   */\n  loadAjaxContent(slide) {\n    const fancybox = this.fancybox;\n    const xhr = new XMLHttpRequest();\n\n    fancybox.showLoading(slide);\n\n    xhr.onreadystatechange = function () {\n      if (xhr.readyState === XMLHttpRequest.DONE) {\n        if (fancybox.state === \"ready\") {\n          fancybox.hideLoading(slide);\n\n          if (xhr.status === 200) {\n            fancybox.setContent(slide, xhr.responseText);\n          } else {\n            fancybox.setError(slide, xhr.status === 404 ? \"{{AJAX_NOT_FOUND}}\" : \"{{AJAX_FORBIDDEN}}\");\n          }\n        }\n      }\n    };\n\n    const data = slide.ajax || null;\n\n    xhr.open(data ? \"POST\" : \"GET\", slide.src);\n    xhr.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n    xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n    xhr.send(data);\n\n    slide.xhr = xhr;\n  }\n\n  /**\n   * Creates iframe as slide content, preloads if needed before displaying\n   * @param {Object} slide\n   */\n  loadIframeContent(slide) {\n    const fancybox = this.fancybox;\n    const $iframe = document.createElement(\"iframe\");\n\n    $iframe.className = \"fancybox__iframe\";\n\n    $iframe.setAttribute(\"id\", `fancybox__iframe_${fancybox.id}_${slide.index}`);\n\n    $iframe.setAttribute(\"allow\", \"autoplay; fullscreen\");\n    $iframe.setAttribute(\"scrolling\", \"auto\");\n\n    slide.$iframe = $iframe;\n\n    if (slide.type !== \"iframe\" || slide.preload === false) {\n      $iframe.setAttribute(\"src\", slide.src);\n\n      this.fancybox.setContent(slide, $iframe);\n\n      this.resizeIframe(slide);\n\n      return;\n    }\n\n    fancybox.showLoading(slide);\n\n    const $content = document.createElement(\"div\");\n    $content.style.visibility = \"hidden\";\n\n    this.fancybox.setContent(slide, $content);\n\n    $content.appendChild($iframe);\n\n    $iframe.onerror = () => {\n      fancybox.setError(slide, \"{{IFRAME_ERROR}}\");\n    };\n\n    $iframe.onload = () => {\n      fancybox.hideLoading(slide);\n\n      let isFirstLoad = false;\n\n      if (!$iframe.isReady) {\n        $iframe.isReady = true;\n        isFirstLoad = true;\n      }\n\n      if (!$iframe.src.length) {\n        return;\n      }\n\n      $iframe.parentNode.style.visibility = \"\";\n\n      this.resizeIframe(slide);\n\n      if (isFirstLoad) {\n        fancybox.revealContent(slide);\n      }\n    };\n\n    $iframe.setAttribute(\"src\", slide.src);\n  }\n\n  /**\n   * Set CSS max/min width/height properties of the content to have the correct aspect ratio\n   * @param {Object} slide\n   */\n  setAspectRatio(slide) {\n    const $content = slide.$content;\n    const ratio = slide.ratio;\n\n    if (!$content) {\n      return;\n    }\n\n    let width = slide._width;\n    let height = slide._height;\n\n    if (ratio || (width && height)) {\n      Object.assign($content.style, {\n        width: width && height ? \"100%\" : \"\",\n        height: width && height ? \"100%\" : \"\",\n        maxWidth: \"\",\n        maxHeight: \"\",\n      });\n\n      let maxWidth = $content.offsetWidth;\n      let maxHeight = $content.offsetHeight;\n\n      width = width || maxWidth;\n      height = height || maxHeight;\n\n      // Resize to fit\n      if (width > maxWidth || height > maxHeight) {\n        let maxRatio = Math.min(maxWidth / width, maxHeight / height);\n\n        width = width * maxRatio;\n        height = height * maxRatio;\n      }\n\n      // Recheck ratio\n      if (Math.abs(width / height - ratio) > 0.01) {\n        if (ratio < width / height) {\n          width = height * ratio;\n        } else {\n          height = width / ratio;\n        }\n      }\n\n      Object.assign($content.style, {\n        width: `${width}px`,\n        height: `${height}px`,\n      });\n    }\n  }\n\n  /**\n   * Adjust the width and height of the iframe according to the content dimensions, or defined sizes\n   * @param {Object} slide\n   */\n  resizeIframe(slide) {\n    const $iframe = slide.$iframe;\n\n    if (!$iframe) {\n      return;\n    }\n\n    let width_ = slide._width || 0;\n    let height_ = slide._height || 0;\n\n    if (width_ && height_) {\n      slide.autoSize = false;\n    }\n\n    const $parent = $iframe.parentNode;\n    const parentStyle = $parent && $parent.style;\n\n    if (slide.preload !== false && slide.autoSize !== false && parentStyle) {\n      try {\n        const compStyles = window.getComputedStyle($parent),\n          paddingX = parseFloat(compStyles.paddingLeft) + parseFloat(compStyles.paddingRight),\n          paddingY = parseFloat(compStyles.paddingTop) + parseFloat(compStyles.paddingBottom);\n\n        const document = $iframe.contentWindow.document,\n          $html = document.getElementsByTagName(\"html\")[0],\n          $body = document.body;\n\n        // Allow content to expand horizontally\n        parentStyle.width = \"\";\n\n        // Get rid of vertical scrollbar\n        $body.style.overflow = \"hidden\";\n\n        width_ = width_ || $html.scrollWidth + paddingX;\n\n        parentStyle.width = `${width_}px`;\n\n        $body.style.overflow = \"\";\n\n        parentStyle.flex = \"0 0 auto\";\n        parentStyle.height = `${$body.scrollHeight}px`;\n\n        height_ = $html.scrollHeight + paddingY;\n      } catch (error) {\n        //\n      }\n    }\n\n    if (width_ || height_) {\n      const newStyle = {\n        flex: \"0 1 auto\",\n      };\n\n      if (width_) {\n        newStyle.width = `${width_}px`;\n      }\n\n      if (height_) {\n        newStyle.height = `${height_}px`;\n      }\n\n      Object.assign(parentStyle, newStyle);\n    }\n  }\n\n  /**\n   * Process `Carousel.onRefresh` event,\n   * trigger iframe autosizing and set content aspect ratio for each slide\n   * @param {Object} fancybox\n   * @param {Object} carousel\n   */\n  onRefresh(fancybox, carousel) {\n    carousel.slides.forEach((slide) => {\n      if (!slide.$el) {\n        return;\n      }\n\n      if (slide.$iframe) {\n        this.resizeIframe(slide);\n      }\n\n      if (slide.ratio) {\n        this.setAspectRatio(slide);\n      }\n    });\n  }\n\n  /**\n   * Process `Carousel.onCreateSlide` event to set content\n   * @param {Object} fancybox\n   * @param {Object} carousel\n   * @param {Object} slide\n   */\n  setContent(slide) {\n    if (!slide || slide.isDom) {\n      return;\n    }\n\n    switch (slide.type) {\n      case \"html\":\n        this.fancybox.setContent(slide, slide.src);\n        break;\n\n      case \"html5video\":\n        this.fancybox.setContent(\n          slide,\n          this.fancybox\n            .option(\"Html.html5video.tpl\")\n            .replace(/\\{\\{src\\}\\}/gi, slide.src)\n            .replace(\"{{format}}\", slide.format || (slide.html5video && slide.html5video.format) || \"\")\n            .replace(\"{{poster}}\", slide.poster || slide.thumb || \"\")\n        );\n\n        break;\n\n      case \"inline\":\n      case \"clone\":\n        this.loadInlineContent(slide);\n        break;\n\n      case \"ajax\":\n        this.loadAjaxContent(slide);\n        break;\n\n      case \"pdf\":\n      case \"video\":\n      case \"map\":\n        slide.preload = false;\n\n      case \"iframe\":\n        this.loadIframeContent(slide);\n\n        break;\n    }\n\n    if (slide.ratio) {\n      this.setAspectRatio(slide);\n    }\n  }\n\n  /**\n   * Process `Carousel.onSelectSlide` event to start video\n   * @param {Object} fancybox\n   * @param {Object} carousel\n   * @param {Object} slide\n   */\n  onSelectSlide(fancybox, carousel, slide) {\n    if (fancybox.state === \"ready\") {\n      this.playVideo(slide);\n    }\n  }\n\n  /**\n   * Attempts to begin playback of the media\n   * @param {Object} slide\n   */\n  playVideo(slide) {\n    if (slide.type === \"html5video\" && slide.video.autoplay) {\n      try {\n        const $video = slide.$el.querySelector(\"video\");\n\n        if ($video) {\n          const promise = $video.play();\n\n          if (promise !== undefined) {\n            promise\n              .then(() => {\n                // Autoplay started\n              })\n              .catch((error) => {\n                // Autoplay was prevented.\n                $video.muted = true;\n                $video.play();\n              });\n          }\n        }\n      } catch (err) {}\n    }\n\n    if (slide.type !== \"video\" || !(slide.$iframe && slide.$iframe.contentWindow)) {\n      return;\n    }\n\n    // This function will be repeatedly called to check\n    // if video iframe has been loaded to send message to start the video\n    const poller = () => {\n      if (slide.state === \"done\" && slide.$iframe && slide.$iframe.contentWindow) {\n        let command;\n\n        if (slide.$iframe.isReady) {\n          if (slide.video && slide.video.autoplay) {\n            if (slide.vendor == \"youtube\") {\n              command = {\n                event: \"command\",\n                func: \"playVideo\",\n              };\n            } else {\n              command = {\n                method: \"play\",\n                value: \"true\",\n              };\n            }\n          }\n\n          if (command) {\n            slide.$iframe.contentWindow.postMessage(JSON.stringify(command), \"*\");\n          }\n\n          return;\n        }\n\n        if (slide.vendor === \"youtube\") {\n          command = {\n            event: \"listening\",\n            id: slide.$iframe.getAttribute(\"id\"),\n          };\n\n          slide.$iframe.contentWindow.postMessage(JSON.stringify(command), \"*\");\n        }\n      }\n\n      slide.poller = setTimeout(poller, 250);\n    };\n\n    poller();\n  }\n\n  /**\n   * Process `Carousel.onUnselectSlide` event to pause video\n   * @param {Object} fancybox\n   * @param {Object} carousel\n   * @param {Object} slide\n   */\n  onUnselectSlide(fancybox, carousel, slide) {\n    if (slide.type === \"html5video\") {\n      try {\n        slide.$el.querySelector(\"video\").pause();\n      } catch (error) {}\n\n      return;\n    }\n\n    let command = false;\n\n    if (slide.vendor == \"vimeo\") {\n      command = {\n        method: \"pause\",\n        value: \"true\",\n      };\n    } else if (slide.vendor === \"youtube\") {\n      command = {\n        event: \"command\",\n        func: \"pauseVideo\",\n      };\n    }\n\n    if (command && slide.$iframe && slide.$iframe.contentWindow) {\n      slide.$iframe.contentWindow.postMessage(JSON.stringify(command), \"*\");\n    }\n\n    clearTimeout(slide.poller);\n  }\n\n  /**\n   * Process `Carousel.onRemoveSlide` event to do clean up\n   * @param {Object} fancybox\n   * @param {Object} carousel\n   * @param {Object} slide\n   */\n  onRemoveSlide(fancybox, carousel, slide) {\n    // Abort ajax request if exists\n    if (slide.xhr) {\n      slide.xhr.abort();\n      slide.xhr = null;\n    }\n\n    // Unload iframe content if exists\n    if (slide.$iframe) {\n      slide.$iframe.onload = slide.$iframe.onerror = null;\n\n      slide.$iframe.src = \"//about:blank\";\n      slide.$iframe = null;\n    }\n\n    // Clear inline content\n    const $content = slide.$content;\n\n    if (slide.type === \"inline\" && $content) {\n      $content.classList.remove(\"fancybox__content\");\n\n      if ($content.style.display !== \"none\") {\n        $content.style.display = \"none\";\n      }\n    }\n\n    if (slide.$closeButton) {\n      slide.$closeButton.remove();\n      slide.$closeButton = null;\n    }\n\n    const $placeHolder = $content && $content.$placeHolder;\n\n    if ($placeHolder) {\n      $placeHolder.parentNode.insertBefore($content, $placeHolder);\n      $placeHolder.remove();\n      $content.$placeHolder = null;\n    }\n  }\n\n  /**\n   * Process `window.message` event to mark video iframe element as `ready`\n   * @param {Object} e - Event\n   */\n  onMessage(e) {\n    try {\n      let data = JSON.parse(e.data);\n\n      if (e.origin === \"https://player.vimeo.com\") {\n        if (data.event === \"ready\") {\n          for (let $iframe of document.getElementsByClassName(\"fancybox__iframe\")) {\n            if ($iframe.contentWindow === e.source) {\n              $iframe.isReady = 1;\n            }\n          }\n        }\n      } else if (e.origin === \"https://www.youtube-nocookie.com\") {\n        if (data.event === \"onReady\") {\n          document.getElementById(data.id).isReady = 1;\n        }\n      }\n    } catch (ex) {}\n  }\n\n  attach() {\n    this.fancybox.on(this.events);\n\n    window.addEventListener(\"message\", this.onMessage, false);\n  }\n\n  detach() {\n    this.fancybox.off(this.events);\n\n    window.removeEventListener(\"message\", this.onMessage, false);\n  }\n}\n\n// Expose defaults\nHtml.defaults = defaults;\n","import { extend } from \"../../../shared/utils/extend.js\";\r\n\r\nimport { Panzoom } from \"../../../Panzoom/Panzoom.js\";\r\n\r\nconst defaults = {\r\n  // Class name for slide element indicating that content can be zoomed in\r\n  canZoomInClass: \"can-zoom_in\",\r\n\r\n  // Class name for slide element indicating that content can be zoomed out\r\n  canZoomOutClass: \"can-zoom_out\",\r\n\r\n  // Do zoom animation from thumbnail image when starting or closing fancybox\r\n  zoom: true,\r\n\r\n  // Animate opacity while zooming\r\n  zoomOpacity: \"auto\", // \"auto\" | true | false,\r\n\r\n  // Zoom animation friction\r\n  zoomFriction: 0.82,\r\n\r\n  // Disable zoom animation if thumbnail is visible only partly\r\n  ignoreCoveredThumbnail: false,\r\n\r\n  // Enable guestures\r\n  touch: true,\r\n\r\n  // Action to be performed when user clicks on the image\r\n  click: \"toggleZoom\", // \"toggleZoom\" | \"next\" | \"close\" | null\r\n\r\n  // Action to be performed when double-click event is detected on the image\r\n  doubleClick: null, // \"toggleZoom\" | null\r\n\r\n  // Action to be performed when user rotates a wheel button on a pointing device\r\n  wheel: \"zoom\", // \"zoom\" | \"slide\" | \"close\" | null\r\n\r\n  // How image should be resized to fit its container\r\n  fit: \"contain\", // \"contain\" | \"contain-w\" | \"cover\"\r\n\r\n  // Should create wrapping element around the image\r\n  wrap: false,\r\n\r\n  // Custom Panzoom options\r\n  Panzoom: {\r\n    ratio: 1,\r\n  },\r\n};\r\n\r\nexport class Image {\r\n  constructor(fancybox) {\r\n    this.fancybox = fancybox;\r\n\r\n    for (const methodName of [\r\n      // Fancybox\r\n      \"onReady\",\r\n      \"onClosing\",\r\n      \"onDone\",\r\n\r\n      // Fancybox.Carousel\r\n      \"onPageChange\",\r\n      \"onCreateSlide\",\r\n      \"onRemoveSlide\",\r\n\r\n      // Image load/error\r\n      \"onImageStatusChange\",\r\n    ]) {\r\n      this[methodName] = this[methodName].bind(this);\r\n    }\r\n\r\n    this.events = {\r\n      ready: this.onReady,\r\n      closing: this.onClosing,\r\n      done: this.onDone,\r\n\r\n      \"Carousel.change\": this.onPageChange,\r\n      \"Carousel.createSlide\": this.onCreateSlide,\r\n      \"Carousel.removeSlide\": this.onRemoveSlide,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Handle `ready` event to start loading content\r\n   */\r\n  onReady() {\r\n    this.fancybox.Carousel.slides.forEach((slide) => {\r\n      if (slide.$el) {\r\n        this.setContent(slide);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Handle `done` event to update cursor\r\n   * @param {Object} fancybox\r\n   * @param {Object} slide\r\n   */\r\n  onDone(fancybox, slide) {\r\n    this.handleCursor(slide);\r\n  }\r\n\r\n  /**\r\n   * Handle `closing` event to clean up all slides and to start zoom-out animation\r\n   * @param {Object} fancybox\r\n   */\r\n  onClosing(fancybox) {\r\n    clearTimeout(this.clickTimer);\r\n    this.clickTimer = null;\r\n\r\n    // Remove events\r\n    fancybox.Carousel.slides.forEach((slide) => {\r\n      if (slide.$image) {\r\n        slide.state = \"destroy\";\r\n      }\r\n\r\n      if (slide.Panzoom) {\r\n        slide.Panzoom.detachEvents();\r\n      }\r\n    });\r\n\r\n    // If possible, start the zoom animation, it will interrupt the default closing process\r\n    if (this.fancybox.state === \"closing\" && this.canZoom(fancybox.getSlide())) {\r\n      this.zoomOut();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Process `Carousel.createSlide` event to create image content\r\n   * @param {Object} fancybox\r\n   * @param {Object} carousel\r\n   * @param {Object} slide\r\n   */\r\n  onCreateSlide(fancybox, carousel, slide) {\r\n    if (this.fancybox.state !== \"ready\") {\r\n      return;\r\n    }\r\n\r\n    this.setContent(slide);\r\n  }\r\n\r\n  /**\r\n   * Handle `Carousel.removeSlide` event to do clean up the slide\r\n   * @param {Object} fancybox\r\n   * @param {Object} carousel\r\n   * @param {Object} slide\r\n   */\r\n  onRemoveSlide(fancybox, carousel, slide) {\r\n    if (slide.$image) {\r\n      slide.$el.classList.remove(fancybox.option(\"Image.canZoomInClass\"));\r\n\r\n      slide.$image.remove();\r\n      slide.$image = null;\r\n    }\r\n\r\n    if (slide.Panzoom) {\r\n      slide.Panzoom.destroy();\r\n      slide.Panzoom = null;\r\n    }\r\n\r\n    if (slide.$el && slide.$el.dataset) {\r\n      delete slide.$el.dataset.imageFit;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Build DOM elements and add event listeners\r\n   * @param {Object} slide\r\n   */\r\n  setContent(slide) {\r\n    // Check if this slide should contain an image\r\n    if (slide.isDom || slide.html || (slide.type && slide.type !== \"image\")) {\r\n      return;\r\n    }\r\n\r\n    if (slide.$image) {\r\n      return;\r\n    }\r\n\r\n    slide.type = \"image\";\r\n    slide.state = \"loading\";\r\n\r\n    // * Build layout\r\n    // Container\r\n    const $content = document.createElement(\"div\");\r\n    $content.style.visibility = \"hidden\";\r\n\r\n    // Image element\r\n    const $image = document.createElement(\"img\");\r\n\r\n    $image.addEventListener(\"load\", (event) => {\r\n      event.stopImmediatePropagation();\r\n\r\n      this.onImageStatusChange(slide);\r\n    });\r\n\r\n    $image.addEventListener(\"error\", () => {\r\n      this.onImageStatusChange(slide);\r\n    });\r\n\r\n    $image.src = slide.src;\r\n    $image.alt = \"\";\r\n    $image.draggable = false;\r\n\r\n    $image.classList.add(\"fancybox__image\");\r\n\r\n    if (slide.srcset) {\r\n      $image.setAttribute(\"srcset\", slide.srcset);\r\n    }\r\n\r\n    if (slide.sizes) {\r\n      $image.setAttribute(\"sizes\", slide.sizes);\r\n    }\r\n\r\n    slide.$image = $image;\r\n\r\n    const shouldWrap = this.fancybox.option(\"Image.wrap\");\r\n\r\n    if (shouldWrap) {\r\n      const $wrap = document.createElement(\"div\");\r\n      $wrap.classList.add(typeof shouldWrap === \"string\" ? shouldWrap : \"fancybox__image-wrap\");\r\n\r\n      $wrap.appendChild($image);\r\n\r\n      $content.appendChild($wrap);\r\n\r\n      slide.$wrap = $wrap;\r\n    } else {\r\n      $content.appendChild($image);\r\n    }\r\n\r\n    // Set data attribute if other that default\r\n    // for example, set `[data-image-fit=\"contain-w\"]`\r\n    slide.$el.dataset.imageFit = this.fancybox.option(\"Image.fit\");\r\n\r\n    // Append content\r\n    this.fancybox.setContent(slide, $content);\r\n\r\n    // Display loading icon\r\n    if ($image.complete || $image.error) {\r\n      this.onImageStatusChange(slide);\r\n    } else {\r\n      this.fancybox.showLoading(slide);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle image state change, display error or start revealing image\r\n   * @param {Object} slide\r\n   */\r\n  onImageStatusChange(slide) {\r\n    const $image = slide.$image;\r\n\r\n    if (!$image || slide.state !== \"loading\") {\r\n      return;\r\n    }\r\n\r\n    if (!($image.complete && $image.naturalWidth && $image.naturalHeight)) {\r\n      this.fancybox.setError(slide, \"{{IMAGE_ERROR}}\");\r\n\r\n      return;\r\n    }\r\n\r\n    this.fancybox.hideLoading(slide);\r\n\r\n    if (this.fancybox.option(\"Image.fit\") === \"contain\") {\r\n      this.initSlidePanzoom(slide);\r\n    }\r\n\r\n    // Add `wheel` and `click` event handler\r\n    slide.$el.addEventListener(\"wheel\", (event) => this.onWheel(slide, event), { passive: false });\r\n    slide.$content.addEventListener(\"click\", (event) => this.onClick(slide, event), { passive: false });\r\n\r\n    this.revealContent(slide);\r\n  }\r\n\r\n  /**\r\n   * Make image zoomable and draggable using Panzoom\r\n   * @param {Object} slide\r\n   */\r\n  initSlidePanzoom(slide) {\r\n    if (slide.Panzoom) {\r\n      return;\r\n    }\r\n\r\n    //* Initialize Panzoom\r\n    slide.Panzoom = new Panzoom(\r\n      slide.$el,\r\n      extend(true, this.fancybox.option(\"Image.Panzoom\", {}), {\r\n        viewport: slide.$wrap,\r\n        content: slide.$image,\r\n\r\n        width: slide._width,\r\n        height: slide._height,\r\n\r\n        wrapInner: false,\r\n\r\n        // Allow to select caption text\r\n        textSelection: true,\r\n\r\n        // Toggle gestures\r\n        touch: this.fancybox.option(\"Image.touch\"),\r\n\r\n        // This will prevent click conflict with fancybox main carousel\r\n        panOnlyZoomed: true,\r\n\r\n        // Disable default click / wheel events as custom event listeners will replace them,\r\n        // because click and wheel events should work without Panzoom\r\n        click: false,\r\n        wheel: false,\r\n      })\r\n    );\r\n\r\n    slide.Panzoom.on(\"startAnimation\", () => {\r\n      this.fancybox.trigger(\"Image.startAnimation\", slide);\r\n    });\r\n\r\n    slide.Panzoom.on(\"endAnimation\", () => {\r\n      if (slide.state === \"zoomIn\") {\r\n        this.fancybox.done(slide);\r\n      }\r\n\r\n      this.handleCursor(slide);\r\n\r\n      this.fancybox.trigger(\"Image.endAnimation\", slide);\r\n    });\r\n\r\n    slide.Panzoom.on(\"afterUpdate\", () => {\r\n      this.handleCursor(slide);\r\n\r\n      this.fancybox.trigger(\"Image.afterUpdate\", slide);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Start zoom-in animation if possible, or simply reveal content\r\n   * @param {Object} slide\r\n   */\r\n  revealContent(slide) {\r\n    // Animate only on first run\r\n    if (\r\n      this.fancybox.Carousel.prevPage === null &&\r\n      slide.index === this.fancybox.options.startIndex &&\r\n      this.canZoom(slide)\r\n    ) {\r\n      this.zoomIn();\r\n    } else {\r\n      this.fancybox.revealContent(slide);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get zoom info for selected slide\r\n   * @param {Object} slide\r\n   */\r\n  getZoomInfo(slide) {\r\n    const $thumb = slide.$thumb,\r\n      thumbRect = $thumb.getBoundingClientRect(),\r\n      thumbWidth = thumbRect.width,\r\n      thumbHeight = thumbRect.height,\r\n      //\r\n      contentRect = slide.$content.getBoundingClientRect(),\r\n      contentWidth = contentRect.width,\r\n      contentHeight = contentRect.height,\r\n      //\r\n      shiftedTop = contentRect.top - thumbRect.top,\r\n      shiftedLeft = contentRect.left - thumbRect.left;\r\n\r\n    // Check if need to update opacity\r\n    let opacity = this.fancybox.option(\"Image.zoomOpacity\");\r\n\r\n    if (opacity === \"auto\") {\r\n      opacity = Math.abs(thumbWidth / thumbHeight - contentWidth / contentHeight) > 0.1;\r\n    }\r\n\r\n    return {\r\n      top: shiftedTop,\r\n      left: shiftedLeft,\r\n      scale: contentWidth && thumbWidth ? thumbWidth / contentWidth : 1,\r\n      opacity: opacity,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Determine if it is possible to do zoom-in animation\r\n   */\r\n  canZoom(slide) {\r\n    const fancybox = this.fancybox,\r\n      $container = fancybox.$container;\r\n\r\n    if (window.visualViewport && window.visualViewport.scale !== 1) {\r\n      return false;\r\n    }\r\n\r\n    if (slide.Panzoom && !slide.Panzoom.content.width) {\r\n      return false;\r\n    }\r\n\r\n    if (!fancybox.option(\"Image.zoom\") || fancybox.option(\"Image.fit\") !== \"contain\") {\r\n      return false;\r\n    }\r\n\r\n    const $thumb = slide.$thumb;\r\n\r\n    if (!$thumb || slide.state === \"loading\") {\r\n      return false;\r\n    }\r\n\r\n    // * Check if thumbnail image is really visible\r\n    $container.classList.add(\"fancybox__no-click\");\r\n\r\n    const rect = $thumb.getBoundingClientRect();\r\n\r\n    let rez;\r\n\r\n    // Check if thumbnail image is actually visible on the screen\r\n    if (this.fancybox.option(\"Image.ignoreCoveredThumbnail\")) {\r\n      const visibleTopLeft = document.elementFromPoint(rect.left + 1, rect.top + 1) === $thumb;\r\n      const visibleBottomRight = document.elementFromPoint(rect.right - 1, rect.bottom - 1) === $thumb;\r\n\r\n      rez = visibleTopLeft && visibleBottomRight;\r\n    } else {\r\n      rez = document.elementFromPoint(rect.left + rect.width * 0.5, rect.top + rect.height * 0.5) === $thumb;\r\n    }\r\n\r\n    $container.classList.remove(\"fancybox__no-click\");\r\n\r\n    return rez;\r\n  }\r\n\r\n  /**\r\n   * Perform zoom-in animation\r\n   */\r\n  zoomIn() {\r\n    const fancybox = this.fancybox,\r\n      slide = fancybox.getSlide(),\r\n      Panzoom = slide.Panzoom;\r\n\r\n    const { top, left, scale, opacity } = this.getZoomInfo(slide);\r\n\r\n    fancybox.trigger(\"reveal\", slide);\r\n\r\n    // Scale and move to start position\r\n    Panzoom.panTo({\r\n      x: left * -1,\r\n      y: top * -1,\r\n      scale: scale,\r\n      friction: 0,\r\n      ignoreBounds: true,\r\n    });\r\n\r\n    slide.$content.style.visibility = \"\";\r\n\r\n    slide.state = \"zoomIn\";\r\n\r\n    if (opacity === true) {\r\n      Panzoom.on(\"afterTransform\", (panzoom) => {\r\n        if (slide.state === \"zoomIn\" || slide.state === \"zoomOut\") {\r\n          panzoom.$content.style.opacity = Math.min(1, 1 - (1 - panzoom.content.scale) / (1 - scale));\r\n        }\r\n      });\r\n    }\r\n\r\n    // Animate back to original position\r\n    Panzoom.panTo({\r\n      x: 0,\r\n      y: 0,\r\n      scale: 1,\r\n      friction: this.fancybox.option(\"Image.zoomFriction\"),\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Perform zoom-out animation\r\n   */\r\n  zoomOut() {\r\n    const fancybox = this.fancybox,\r\n      slide = fancybox.getSlide(),\r\n      Panzoom = slide.Panzoom;\r\n\r\n    if (!Panzoom) {\r\n      return;\r\n    }\r\n\r\n    slide.state = \"zoomOut\";\r\n    fancybox.state = \"customClosing\";\r\n\r\n    if (slide.$caption) {\r\n      slide.$caption.style.visibility = \"hidden\";\r\n    }\r\n\r\n    let friction = this.fancybox.option(\"Image.zoomFriction\");\r\n\r\n    const animatePosition = (event) => {\r\n      const { top, left, scale, opacity } = this.getZoomInfo(slide);\r\n\r\n      // Increase speed on the first run if opacity is not animated\r\n      if (!event && !opacity) {\r\n        friction *= 0.82;\r\n      }\r\n\r\n      Panzoom.panTo({\r\n        x: left * -1,\r\n        y: top * -1,\r\n        scale,\r\n        friction,\r\n        ignoreBounds: true,\r\n      });\r\n\r\n      // Gradually increase speed\r\n      friction *= 0.98;\r\n    };\r\n\r\n    // Page scrolling will cause thumbnail to change position on the display,\r\n    // therefore animation end position has to be recalculated after each page scroll\r\n    window.addEventListener(\"scroll\", animatePosition);\r\n\r\n    Panzoom.once(\"endAnimation\", () => {\r\n      window.removeEventListener(\"scroll\", animatePosition);\r\n      fancybox.destroy();\r\n    });\r\n\r\n    animatePosition();\r\n  }\r\n\r\n  /**\r\n   * Set the type of mouse cursor to indicate if content is zoomable\r\n   * @param {Object} slide\r\n   */\r\n  handleCursor(slide) {\r\n    if (slide.type !== \"image\" || !slide.$el) {\r\n      return;\r\n    }\r\n\r\n    const panzoom = slide.Panzoom;\r\n    const clickAction = this.fancybox.option(\"Image.click\", false, slide);\r\n    const touchIsEnabled = this.fancybox.option(\"Image.touch\");\r\n\r\n    const classList = slide.$el.classList;\r\n\r\n    const zoomInClass = this.fancybox.option(\"Image.canZoomInClass\");\r\n    const zoomOutClass = this.fancybox.option(\"Image.canZoomOutClass\");\r\n\r\n    classList.remove(zoomOutClass);\r\n    classList.remove(zoomInClass);\r\n\r\n    if (panzoom && clickAction === \"toggleZoom\") {\r\n      const canZoomIn =\r\n        panzoom && panzoom.content.scale === 1 && panzoom.option(\"maxScale\") - panzoom.content.scale > 0.01;\r\n\r\n      if (canZoomIn) {\r\n        classList.add(zoomInClass);\r\n      } else if (panzoom.content.scale > 1 && !touchIsEnabled) {\r\n        classList.add(zoomOutClass);\r\n      }\r\n    } else if (clickAction === \"close\") {\r\n      classList.add(zoomOutClass);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle `wheel` event\r\n   * @param {Object} slide\r\n   * @param {Object} event\r\n   */\r\n  onWheel(slide, event) {\r\n    if (this.fancybox.state !== \"ready\") {\r\n      return;\r\n    }\r\n\r\n    if (this.fancybox.trigger(\"Image.wheel\", event) === false) {\r\n      return;\r\n    }\r\n\r\n    switch (this.fancybox.option(\"Image.wheel\")) {\r\n      case \"zoom\":\r\n        if (slide.state === \"done\") {\r\n          slide.Panzoom && slide.Panzoom.zoomWithWheel(event);\r\n        }\r\n\r\n        break;\r\n\r\n      case \"close\":\r\n        this.fancybox.close();\r\n\r\n        break;\r\n\r\n      case \"slide\":\r\n        this.fancybox[event.deltaY < 0 ? \"prev\" : \"next\"]();\r\n\r\n        break;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle `click` and `dblclick` events\r\n   * @param {Object} slide\r\n   * @param {Object} event\r\n   */\r\n  onClick(slide, event) {\r\n    // Check that clicks should be allowed\r\n    if (this.fancybox.state !== \"ready\") {\r\n      return;\r\n    }\r\n\r\n    const panzoom = slide.Panzoom;\r\n\r\n    if (\r\n      panzoom &&\r\n      (panzoom.dragPosition.midPoint ||\r\n        panzoom.dragOffset.x !== 0 ||\r\n        panzoom.dragOffset.y !== 0 ||\r\n        panzoom.dragOffset.scale !== 1)\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    if (this.fancybox.Carousel.Panzoom.lockAxis) {\r\n      return false;\r\n    }\r\n\r\n    const process = (action) => {\r\n      switch (action) {\r\n        case \"toggleZoom\":\r\n          event.stopPropagation();\r\n\r\n          slide.Panzoom && slide.Panzoom.zoomWithClick(event);\r\n\r\n          break;\r\n\r\n        case \"close\":\r\n          this.fancybox.close();\r\n\r\n          break;\r\n\r\n        case \"next\":\r\n          event.stopPropagation();\r\n\r\n          this.fancybox.next();\r\n\r\n          break;\r\n      }\r\n    };\r\n\r\n    const clickAction = this.fancybox.option(\"Image.click\");\r\n    const dblclickAction = this.fancybox.option(\"Image.doubleClick\");\r\n\r\n    if (dblclickAction) {\r\n      if (this.clickTimer) {\r\n        clearTimeout(this.clickTimer);\r\n        this.clickTimer = null;\r\n\r\n        process(dblclickAction);\r\n      } else {\r\n        this.clickTimer = setTimeout(() => {\r\n          this.clickTimer = null;\r\n          process(clickAction);\r\n        }, 300);\r\n      }\r\n    } else {\r\n      process(clickAction);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle `Carousel.change` event to reset zoom level for any zoomed in/out content\r\n   * and to revel content of the current page\r\n   * @param {Object} fancybox\r\n   * @param {Object} carousel\r\n   */\r\n  onPageChange(fancybox, carousel) {\r\n    const currSlide = fancybox.getSlide();\r\n\r\n    carousel.slides.forEach((slide) => {\r\n      if (!slide.Panzoom || slide.state !== \"done\") {\r\n        return;\r\n      }\r\n\r\n      if (slide.index !== currSlide.index) {\r\n        slide.Panzoom.panTo({\r\n          x: 0,\r\n          y: 0,\r\n          scale: 1,\r\n          friction: 0.8,\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  attach() {\r\n    this.fancybox.on(this.events);\r\n  }\r\n\r\n  detach() {\r\n    this.fancybox.off(this.events);\r\n  }\r\n}\r\n\r\n// Expose defaults\r\nImage.defaults = defaults;\r\n","import { canUseDOM } from \"../../../shared/utils/canUseDOM.js\";\n\nexport class Hash {\n  constructor(fancybox) {\n    this.fancybox = fancybox;\n\n    for (const methodName of [\"onChange\", \"onClosing\"]) {\n      this[methodName] = this[methodName].bind(this);\n    }\n\n    this.events = {\n      initCarousel: this.onChange,\n      \"Carousel.change\": this.onChange,\n      closing: this.onClosing,\n    };\n\n    this.hasCreatedHistory = false;\n    this.origHash = \"\";\n    this.timer = null;\n  }\n\n  /**\n   * Process `Carousel.ready` and `Carousel.change` events to update URL hash\n   * @param {Object} fancybox\n   * @param {Object} carousel\n   */\n  onChange(fancybox) {\n    const carousel = fancybox.Carousel;\n\n    if (this.timer) {\n      clearTimeout(this.timer);\n    }\n\n    const firstRun = carousel.prevPage === null;\n    const currentSlide = fancybox.getSlide();\n\n    const currentHash = new URL(document.URL).hash;\n\n    let newHash = false;\n\n    if (currentSlide.slug) {\n      newHash = \"#\" + currentSlide.slug;\n    } else {\n      const dataset = currentSlide.$trigger && currentSlide.$trigger.dataset;\n      const slug = fancybox.option(\"slug\") || (dataset && dataset.fancybox);\n\n      if (slug && slug.length && slug !== \"true\") {\n        newHash = \"#\" + slug + (carousel.slides.length > 1 ? \"-\" + (currentSlide.index + 1) : \"\");\n      }\n    }\n\n    if (firstRun) {\n      this.origHash = currentHash !== newHash ? currentHash : \"\";\n    }\n\n    if (newHash && currentHash !== newHash) {\n      this.timer = setTimeout(() => {\n        try {\n          window.history[firstRun ? \"pushState\" : \"replaceState\"](\n            {},\n            document.title,\n            window.location.pathname + window.location.search + newHash\n          );\n\n          if (firstRun) {\n            this.hasCreatedHistory = true;\n          }\n        } catch (e) {}\n      }, 300);\n    }\n  }\n\n  /**\n   * Process `closing` event to clean up\n   */\n  onClosing() {\n    if (this.timer) {\n      clearTimeout(this.timer);\n    }\n\n    // Skip if closing is triggered by pressing  browser back button or by changing hash manually\n    if (this.hasSilentClose === true) {\n      return;\n    }\n\n    // Restore original url\n    try {\n      window.history.replaceState(\n        {},\n        document.title,\n        window.location.pathname + window.location.search + (this.origHash || \"\")\n      );\n\n      return;\n    } catch (e) {}\n  }\n\n  attach(fancybox) {\n    fancybox.on(this.events);\n  }\n\n  detach(fancybox) {\n    fancybox.off(this.events);\n  }\n\n  /**\n   * Start fancybox from current URL hash,\n   * this will be called on page load OR/AND after changing URL hash\n   * @param {Class} Fancybox\n   */\n  static startFromUrl() {\n    const Fancybox = Hash.Fancybox;\n\n    if (!Fancybox || Fancybox.getInstance() || Fancybox.defaults.Hash === false) {\n      return;\n    }\n\n    const { hash, slug, index } = Hash.getParsedURL();\n\n    if (!slug) {\n      return;\n    }\n\n    // Support custom slug\n    // ===\n    let selectedElem = document.querySelector(`[data-slug=\"${hash}\"]`);\n\n    if (selectedElem) {\n      selectedElem.dispatchEvent(new CustomEvent(\"click\", { bubbles: true, cancelable: true }));\n    }\n\n    if (Fancybox.getInstance()) {\n      return;\n    }\n\n    // If elements are not found by custom slug, use URL hash value as group name\n    // ===\n    const groupElems = document.querySelectorAll(`[data-fancybox=\"${slug}\"]`);\n\n    if (!groupElems.length) {\n      return;\n    }\n\n    if (index === null && groupElems.length === 1) {\n      selectedElem = groupElems[0];\n    } else if (index) {\n      selectedElem = groupElems[index - 1];\n    }\n\n    if (selectedElem) {\n      selectedElem.dispatchEvent(new CustomEvent(\"click\", { bubbles: true, cancelable: true }));\n    }\n  }\n\n  /**\n   * Handle `hash` change, change gallery item to current index or start/close current instance\n   */\n  static onHashChange() {\n    const { slug, index } = Hash.getParsedURL();\n\n    const Fancybox = Hash.Fancybox;\n    const instance = Fancybox && Fancybox.getInstance();\n\n    if (instance && instance.plugins.Hash) {\n      // Check if hash matches currently active gallery\n      if (slug) {\n        const carousel = instance.Carousel;\n\n        /**\n         * Support manually opened gallery\n         */\n        if (slug === instance.option(\"slug\")) {\n          return carousel.slideTo(index - 1);\n        }\n\n        /**\n         * Check if URL hash matches `data-slug` value of active element\n         */\n        for (let slide of carousel.slides) {\n          if (slide.slug && slide.slug === slug) {\n            return carousel.slideTo(slide.index);\n          }\n        }\n\n        /**\n         * Check if URL hash matches `data-fancybox` value of active element\n         */\n        const slide = instance.getSlide();\n        const dataset = slide.$trigger && slide.$trigger.dataset;\n\n        if (dataset && dataset.fancybox === slug) {\n          return carousel.slideTo(index - 1);\n        }\n      }\n\n      /**\n       * Close if no matching element found\n       */\n      instance.plugins.Hash.hasSilentClose = true;\n\n      instance.close();\n    }\n\n    /**\n     * Attempt to start\n     */\n    Hash.startFromUrl();\n  }\n\n  /**\n   * Add event bindings that will start new Fancybox instance based in the current URL\n   */\n  static create(Fancybox) {\n    Hash.Fancybox = Fancybox;\n\n    function proceed() {\n      window.addEventListener(\"hashchange\", Hash.onHashChange, false);\n\n      Hash.startFromUrl();\n    }\n\n    if (canUseDOM) {\n      window.requestAnimationFrame(() => {\n        if (/complete|interactive|loaded/.test(document.readyState)) {\n          proceed();\n        } else {\n          document.addEventListener(\"DOMContentLoaded\", proceed);\n        }\n      });\n    }\n  }\n\n  static destroy() {\n    window.removeEventListener(\"hashchange\", Hash.onHashChange, false);\n  }\n\n  /**\n   * Helper method to split URL hash into useful pieces\n   */\n  static getParsedURL() {\n    const hash = window.location.hash.substr(1),\n      tmp = hash.split(\"-\"),\n      index = tmp.length > 1 && /^\\+?\\d+$/.test(tmp[tmp.length - 1]) ? parseInt(tmp.pop(-1), 10) || null : null,\n      slug = tmp.join(\"-\");\n\n    return {\n      hash,\n      slug,\n      index,\n    };\n  }\n}\n","export const Fullscreen = {\r\n  pageXOffset: 0,\r\n  pageYOffset: 0,\r\n\r\n  element() {\r\n    return document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement;\r\n  },\r\n\r\n  activate(element) {\r\n    Fullscreen.pageXOffset = window.pageXOffset;\r\n    Fullscreen.pageYOffset = window.pageYOffset;\r\n\r\n    if (element.requestFullscreen) {\r\n      element.requestFullscreen(); // W3C spec\r\n    } else if (element.mozRequestFullScreen) {\r\n      element.mozRequestFullScreen(); // Firefox\r\n    } else if (element.webkitRequestFullscreen) {\r\n      element.webkitRequestFullscreen(); // Safari\r\n    } else if (element.msRequestFullscreen) {\r\n      element.msRequestFullscreen(); // IE/Edge\r\n    }\r\n  },\r\n\r\n  deactivate() {\r\n    if (document.exitFullscreen) {\r\n      document.exitFullscreen();\r\n    } else if (document.mozCancelFullScreen) {\r\n      document.mozCancelFullScreen();\r\n    } else if (document.webkitExitFullscreen) {\r\n      document.webkitExitFullscreen();\r\n    }\r\n  },\r\n};\r\n","export class Slideshow {\r\n  constructor(fancybox) {\r\n    this.fancybox = fancybox;\r\n    this.active = false;\r\n\r\n    this.handleVisibilityChange = this.handleVisibilityChange.bind(this);\r\n  }\r\n\r\n  isActive() {\r\n    return this.active;\r\n  }\r\n\r\n  setTimer() {\r\n    if (!this.active || this.timer) {\r\n      return;\r\n    }\r\n\r\n    const delay = this.fancybox.option(\"slideshow.delay\", 3000);\r\n\r\n    this.timer = setTimeout(() => {\r\n      this.timer = null;\r\n\r\n      if (\r\n        !this.fancybox.option(\"infinite\") &&\r\n        this.fancybox.getSlide().index === this.fancybox.Carousel.slides.length - 1\r\n      ) {\r\n        this.fancybox.jumpTo(0, { friction: 0 });\r\n      } else {\r\n        this.fancybox.next();\r\n      }\r\n    }, delay);\r\n\r\n    let $progress = this.$progress;\r\n\r\n    if (!$progress) {\r\n      $progress = document.createElement(\"div\");\r\n      $progress.classList.add(\"fancybox__progress\");\r\n\r\n      this.fancybox.$carousel.parentNode.insertBefore($progress, this.fancybox.$carousel);\r\n\r\n      this.$progress = $progress;\r\n\r\n      $progress.offsetHeight; /* trigger reflow */\r\n    }\r\n\r\n    $progress.style.transitionDuration = `${delay}ms`;\r\n    $progress.style.transform = \"scaleX(1)\";\r\n  }\r\n\r\n  clearTimer() {\r\n    clearTimeout(this.timer);\r\n    this.timer = null;\r\n\r\n    if (this.$progress) {\r\n      this.$progress.style.transitionDuration = \"\";\r\n      this.$progress.style.transform = \"\";\r\n\r\n      this.$progress.offsetHeight; /* trigger reflow */\r\n    }\r\n  }\r\n\r\n  activate() {\r\n    if (this.active) {\r\n      return;\r\n    }\r\n\r\n    this.active = true;\r\n    this.fancybox.$container.classList.add(\"has-slideshow\");\r\n\r\n    if (this.fancybox.getSlide().state === \"done\") {\r\n      this.setTimer();\r\n    }\r\n\r\n    document.addEventListener(\"visibilitychange\", this.handleVisibilityChange, false);\r\n  }\r\n\r\n  handleVisibilityChange() {\r\n    this.deactivate();\r\n  }\r\n\r\n  deactivate() {\r\n    this.active = false;\r\n\r\n    this.clearTimer();\r\n\r\n    this.fancybox.$container.classList.remove(\"has-slideshow\");\r\n\r\n    document.removeEventListener(\"visibilitychange\", this.handleVisibilityChange, false);\r\n  }\r\n\r\n  toggle() {\r\n    if (this.active) {\r\n      this.deactivate();\r\n    } else if (this.fancybox.Carousel.slides.length > 1) {\r\n      this.activate();\r\n    }\r\n  }\r\n}\r\n","import { isPlainObject } from \"../../../shared/utils/isPlainObject.js\";\r\nimport { extend } from \"../../../shared/utils/extend.js\";\r\n\r\nimport { Fullscreen } from \"../../../shared/utils/Fullscreen.js\";\r\nimport { Slideshow } from \"../../../shared/utils/Slideshow.js\";\r\n\r\nconst defaults = {\r\n  // What toolbar items to display\r\n  display: [\r\n    \"counter\",\r\n    //\"prev\",\r\n    //\"next\",\r\n    //\"download\",\r\n    \"zoom\",\r\n    \"slideshow\",\r\n    \"fullscreen\",\r\n    \"thumbs\",\r\n    \"close\",\r\n  ],\r\n\r\n  // Only create a toolbar item if there is at least one image in the group\r\n  autoEnable: true,\r\n\r\n  // Toolbar items; can be links, buttons or `div` elements\r\n  items: {\r\n    counter: {\r\n      position: \"left\",\r\n      type: \"div\",\r\n      class: \"fancybox__counter\",\r\n      html: '<span data-fancybox-index=\"\"></span>&nbsp;/&nbsp;<span data-fancybox-count=\"\"></span>',\r\n      attr: { tabindex: -1 },\r\n    },\r\n    prev: {\r\n      type: \"button\",\r\n      class: \"fancybox__button--prev\",\r\n      label: \"PREV\",\r\n      html: '<svg viewBox=\"0 0 24 24\"><path d=\"M15 4l-8 8 8 8\"/></svg>',\r\n      attr: { \"data-fancybox-prev\": \"\" },\r\n    },\r\n    next: {\r\n      type: \"button\",\r\n      class: \"fancybox__button--next\",\r\n      label: \"NEXT\",\r\n      html: '<svg viewBox=\"0 0 24 24\"><path d=\"M8 4l8 8-8 8\"/></svg>',\r\n      attr: { \"data-fancybox-next\": \"\" },\r\n    },\r\n    fullscreen: {\r\n      type: \"button\",\r\n      class: \"fancybox__button--fullscreen\",\r\n      label: \"TOGGLE_FULLSCREEN\",\r\n      html: `<svg viewBox=\"0 0 24 24\">\r\n                <g><path d=\"M3 8 V3h5\"></path><path d=\"M21 8V3h-5\"></path><path d=\"M8 21H3v-5\"></path><path d=\"M16 21h5v-5\"></path></g>\r\n                <g><path d=\"M7 2v5H2M17 2v5h5M2 17h5v5M22 17h-5v5\"/></g>\r\n            </svg>`,\r\n      click: function (event) {\r\n        event.preventDefault();\r\n\r\n        if (Fullscreen.element()) {\r\n          Fullscreen.deactivate();\r\n        } else {\r\n          Fullscreen.activate(this.fancybox.$container);\r\n        }\r\n      },\r\n    },\r\n    slideshow: {\r\n      type: \"button\",\r\n      class: \"fancybox__button--slideshow\",\r\n      label: \"TOGGLE_SLIDESHOW\",\r\n      html: `<svg viewBox=\"0 0 24 24\">\r\n                <g><path d=\"M6 4v16\"/><path d=\"M20 12L6 20\"/><path d=\"M20 12L6 4\"/></g>\r\n                <g><path d=\"M7 4v15M17 4v15\"/></g>\r\n            </svg>`,\r\n      click: function (event) {\r\n        event.preventDefault();\r\n\r\n        this.Slideshow.toggle();\r\n      },\r\n    },\r\n    zoom: {\r\n      type: \"button\",\r\n      class: \"fancybox__button--zoom\",\r\n      label: \"TOGGLE_ZOOM\",\r\n      html: '<svg viewBox=\"0 0 24 24\"><circle cx=\"10\" cy=\"10\" r=\"7\"></circle><path d=\"M16 16 L21 21\"></svg>',\r\n      click: function (event) {\r\n        event.preventDefault();\r\n\r\n        const panzoom = this.fancybox.getSlide().Panzoom;\r\n\r\n        if (panzoom) {\r\n          panzoom.toggleZoom();\r\n        }\r\n      },\r\n    },\r\n    download: {\r\n      type: \"link\",\r\n      label: \"DOWNLOAD\",\r\n      class: \"fancybox__button--download\",\r\n      html: '<svg viewBox=\"0 0 24 24\"><path d=\"M12 15V3m0 12l-4-4m4 4l4-4M2 17l.62 2.48A2 2 0 004.56 21h14.88a2 2 0 001.94-1.51L22 17\"/></svg>',\r\n      click: function (event) {\r\n        event.stopPropagation();\r\n      },\r\n    },\r\n    thumbs: {\r\n      type: \"button\",\r\n      label: \"TOGGLE_THUMBS\",\r\n      class: \"fancybox__button--thumbs\",\r\n      html: '<svg viewBox=\"0 0 24 24\"><circle cx=\"4\" cy=\"4\" r=\"1\" /><circle cx=\"12\" cy=\"4\" r=\"1\" transform=\"rotate(90 12 4)\"/><circle cx=\"20\" cy=\"4\" r=\"1\" transform=\"rotate(90 20 4)\"/><circle cx=\"4\" cy=\"12\" r=\"1\" transform=\"rotate(90 4 12)\"/><circle cx=\"12\" cy=\"12\" r=\"1\" transform=\"rotate(90 12 12)\"/><circle cx=\"20\" cy=\"12\" r=\"1\" transform=\"rotate(90 20 12)\"/><circle cx=\"4\" cy=\"20\" r=\"1\" transform=\"rotate(90 4 20)\"/><circle cx=\"12\" cy=\"20\" r=\"1\" transform=\"rotate(90 12 20)\"/><circle cx=\"20\" cy=\"20\" r=\"1\" transform=\"rotate(90 20 20)\"/></svg>',\r\n      click: function (event) {\r\n        event.stopPropagation();\r\n\r\n        const thumbs = this.fancybox.plugins.Thumbs;\r\n\r\n        if (thumbs) {\r\n          thumbs.toggle();\r\n        }\r\n      },\r\n    },\r\n    close: {\r\n      type: \"button\",\r\n      label: \"CLOSE\",\r\n      class: \"fancybox__button--close\",\r\n      html: '<svg viewBox=\"0 0 24 24\"><path d=\"M20 20L4 4m16 0L4 20\"></path></svg>',\r\n      attr: { \"data-fancybox-close\": \"\", tabindex: 0 },\r\n    },\r\n  },\r\n};\r\n\r\nexport class Toolbar {\r\n  constructor(fancybox) {\r\n    this.fancybox = fancybox;\r\n\r\n    this.$container = null;\r\n    this.state = \"init\";\r\n\r\n    for (const methodName of [\r\n      \"onInit\",\r\n      \"onPrepare\",\r\n      \"onDone\",\r\n      \"onKeydown\",\r\n      \"onClosing\",\r\n      \"onChange\",\r\n      \"onSettle\",\r\n      \"onRefresh\",\r\n    ]) {\r\n      this[methodName] = this[methodName].bind(this);\r\n    }\r\n\r\n    this.events = {\r\n      init: this.onInit,\r\n      prepare: this.onPrepare,\r\n      done: this.onDone,\r\n      keydown: this.onKeydown,\r\n      closing: this.onClosing,\r\n\r\n      // Clear Slideshow when user strts to change current slide\r\n      \"Carousel.change\": this.onChange,\r\n\r\n      // Set timer after carousel changes current slide; deactive if last slide is reached\r\n      \"Carousel.settle\": this.onSettle,\r\n\r\n      // Deactivate Slideshow on user interaction\r\n      \"Carousel.Panzoom.touchStart\": () => this.onRefresh(),\r\n\r\n      \"Image.startAnimation\": (fancybox, slide) => this.onRefresh(slide),\r\n      \"Image.afterUpdate\": (fancybox, slide) => this.onRefresh(slide),\r\n    };\r\n  }\r\n\r\n  onInit() {\r\n    // Disable self if current group does not contain at least one image\r\n    if (this.fancybox.option(\"Toolbar.autoEnable\")) {\r\n      let hasImage = false;\r\n\r\n      for (const item of this.fancybox.items) {\r\n        if (item.type === \"image\") {\r\n          hasImage = true;\r\n          break;\r\n        }\r\n      }\r\n\r\n      if (!hasImage) {\r\n        this.state = \"disabled\";\r\n        return;\r\n      }\r\n    }\r\n\r\n    // Disable the creation of a close button, if one exists in the toolbar\r\n    for (const key of this.fancybox.option(\"Toolbar.display\")) {\r\n      const id = isPlainObject(key) ? key.id : key;\r\n\r\n      if (id === \"close\") {\r\n        this.fancybox.options.closeButton = false;\r\n\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  onPrepare() {\r\n    const fancybox = this.fancybox;\r\n    // Skip if disabled\r\n    if (this.state !== \"init\") {\r\n      return;\r\n    }\r\n\r\n    this.build();\r\n\r\n    this.update();\r\n\r\n    this.Slideshow = new Slideshow(fancybox);\r\n\r\n    if (!fancybox.Carousel.prevPage) {\r\n      if (fancybox.option(\"slideshow.autoStart\")) {\r\n        this.Slideshow.activate();\r\n      }\r\n\r\n      if (fancybox.option(\"fullscreen.autoStart\") && !Fullscreen.element()) {\r\n        try {\r\n          Fullscreen.activate(fancybox.$container);\r\n        } catch (error) {}\r\n      }\r\n    }\r\n  }\r\n\r\n  onFsChange() {\r\n    window.scrollTo(Fullscreen.pageXOffset, Fullscreen.pageYOffset);\r\n  }\r\n\r\n  onSettle() {\r\n    const fancybox = this.fancybox;\r\n    const slideshow = this.Slideshow;\r\n\r\n    if (slideshow && slideshow.isActive()) {\r\n      if (fancybox.getSlide().index === fancybox.Carousel.slides.length - 1 && !fancybox.option(\"infinite\")) {\r\n        slideshow.deactivate();\r\n      } else if (fancybox.getSlide().state === \"done\") {\r\n        slideshow.setTimer();\r\n      }\r\n    }\r\n  }\r\n\r\n  onChange() {\r\n    this.update();\r\n\r\n    if (this.Slideshow && this.Slideshow.isActive()) {\r\n      this.Slideshow.clearTimer();\r\n    }\r\n  }\r\n\r\n  onDone(fancybox, slide) {\r\n    const slideshow = this.Slideshow;\r\n\r\n    if (slide.index === fancybox.getSlide().index) {\r\n      this.update();\r\n\r\n      if (slideshow && slideshow.isActive()) {\r\n        if (!fancybox.option(\"infinite\") && slide.index === fancybox.Carousel.slides.length - 1) {\r\n          slideshow.deactivate();\r\n        } else {\r\n          slideshow.setTimer();\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  onRefresh(slide) {\r\n    if (!slide || slide.index === this.fancybox.getSlide().index) {\r\n      this.update();\r\n\r\n      if (this.Slideshow && this.Slideshow.isActive() && (!slide || slide.state === \"done\")) {\r\n        this.Slideshow.deactivate();\r\n      }\r\n    }\r\n  }\r\n\r\n  onKeydown(fancybox, key, event) {\r\n    if (key === \" \" && this.Slideshow) {\r\n      this.Slideshow.toggle();\r\n\r\n      event.preventDefault();\r\n    }\r\n  }\r\n\r\n  onClosing() {\r\n    if (this.Slideshow) {\r\n      this.Slideshow.deactivate();\r\n    }\r\n\r\n    document.removeEventListener(\"fullscreenchange\", this.onFsChange);\r\n  }\r\n\r\n  /**\r\n   * Create link, button or `div` element for the toolbar\r\n   * @param {Object} obj\r\n   * @returns HTMLElement\r\n   */\r\n  createElement(obj) {\r\n    let $el;\r\n\r\n    if (obj.type === \"div\") {\r\n      $el = document.createElement(\"div\");\r\n    } else {\r\n      $el = document.createElement(obj.type === \"link\" ? \"a\" : \"button\");\r\n      $el.classList.add(\"carousel__button\");\r\n    }\r\n\r\n    $el.innerHTML = obj.html;\r\n\r\n    $el.setAttribute(\"tabindex\", obj.tabindex || 0);\r\n\r\n    if (obj.class) {\r\n      $el.classList.add(...obj.class.split(\" \"));\r\n    }\r\n\r\n    for (const prop in obj.attr) {\r\n      $el.setAttribute(prop, obj.attr[prop]);\r\n    }\r\n\r\n    if (obj.label) {\r\n      $el.setAttribute(\"title\", this.fancybox.localize(`{{${obj.label}}}`));\r\n    }\r\n\r\n    if (obj.click) {\r\n      $el.addEventListener(\"click\", obj.click.bind(this));\r\n    }\r\n\r\n    if (obj.id === \"prev\") {\r\n      $el.setAttribute(\"data-fancybox-prev\", \"\");\r\n    }\r\n\r\n    if (obj.id === \"next\") {\r\n      $el.setAttribute(\"data-fancybox-next\", \"\");\r\n    }\r\n\r\n    const $svg = $el.querySelector(\"svg\");\r\n\r\n    if ($svg) {\r\n      $svg.setAttribute(\"role\", \"img\");\r\n      $svg.setAttribute(\"tabindex\", \"-1\");\r\n      $svg.setAttribute(\"xmlns\", \"http://www.w3.org/2000/svg\");\r\n    }\r\n\r\n    return $el;\r\n  }\r\n\r\n  /**\r\n   * Create all DOM elements\r\n   */\r\n  build() {\r\n    this.cleanup();\r\n\r\n    const all_items = this.fancybox.option(\"Toolbar.items\");\r\n    const all_groups = [\r\n      {\r\n        position: \"left\",\r\n        items: [],\r\n      },\r\n      {\r\n        position: \"center\",\r\n        items: [],\r\n      },\r\n      {\r\n        position: \"right\",\r\n        items: [],\r\n      },\r\n    ];\r\n\r\n    const thumbs = this.fancybox.plugins.Thumbs;\r\n\r\n    // 1st step - group toolbar elements by position\r\n    for (const key of this.fancybox.option(\"Toolbar.display\")) {\r\n      let id, item;\r\n\r\n      if (isPlainObject(key)) {\r\n        id = key.id;\r\n        item = extend({}, all_items[id], key);\r\n      } else {\r\n        id = key;\r\n        item = all_items[id];\r\n      }\r\n\r\n      if ([\"counter\", \"next\", \"prev\", \"slideshow\"].includes(id) && this.fancybox.items.length < 2) {\r\n        continue;\r\n      }\r\n\r\n      if (id === \"fullscreen\") {\r\n        if (!document.fullscreenEnabled || window.fullScreen) {\r\n          continue;\r\n        }\r\n\r\n        document.addEventListener(\"fullscreenchange\", this.onFsChange);\r\n      }\r\n\r\n      if (id === \"thumbs\" && (!thumbs || thumbs.state === \"disabled\")) {\r\n        continue;\r\n      }\r\n\r\n      if (!item) {\r\n        continue;\r\n      }\r\n\r\n      let position = item.position || \"right\";\r\n\r\n      let group = all_groups.find((obj) => obj.position === position);\r\n\r\n      if (group) {\r\n        group.items.push(item);\r\n      }\r\n    }\r\n\r\n    // 2st step - create DOM elements\r\n    const $container = document.createElement(\"div\");\r\n    $container.classList.add(\"fancybox__toolbar\");\r\n\r\n    for (const group of all_groups) {\r\n      if (group.items.length) {\r\n        const $wrap = document.createElement(\"div\");\r\n        $wrap.classList.add(\"fancybox__toolbar__items\");\r\n        $wrap.classList.add(`fancybox__toolbar__items--${group.position}`);\r\n\r\n        for (const obj of group.items) {\r\n          $wrap.appendChild(this.createElement(obj));\r\n        }\r\n\r\n        $container.appendChild($wrap);\r\n      }\r\n    }\r\n\r\n    // Add toolbar container to DOM\r\n    this.fancybox.$carousel.parentNode.insertBefore($container, this.fancybox.$carousel);\r\n\r\n    this.$container = $container;\r\n  }\r\n\r\n  /**\r\n   * Update element state depending on index of current slide\r\n   */\r\n  update() {\r\n    const slide = this.fancybox.getSlide();\r\n    const idx = slide.index;\r\n    const cnt = this.fancybox.items.length;\r\n\r\n    // Download links\r\n    // ====\r\n    const src = slide.downloadSrc || (slide.type === \"image\" && !slide.error ? slide.src : null);\r\n\r\n    for (const $el of this.fancybox.$container.querySelectorAll(\"a.fancybox__button--download\")) {\r\n      if (src) {\r\n        $el.removeAttribute(\"disabled\");\r\n        $el.removeAttribute(\"tabindex\");\r\n\r\n        $el.setAttribute(\"href\", src);\r\n        $el.setAttribute(\"download\", src);\r\n        $el.setAttribute(\"target\", \"_blank\");\r\n      } else {\r\n        $el.setAttribute(\"disabled\", \"\");\r\n        $el.setAttribute(\"tabindex\", -1);\r\n\r\n        $el.removeAttribute(\"href\");\r\n        $el.removeAttribute(\"download\");\r\n      }\r\n    }\r\n\r\n    // Zoom button\r\n    // ===\r\n    const panzoom = slide.Panzoom;\r\n    const canZoom = panzoom && panzoom.option(\"maxScale\") > panzoom.option(\"baseScale\");\r\n\r\n    for (const $el of this.fancybox.$container.querySelectorAll(\".fancybox__button--zoom\")) {\r\n      if (canZoom) {\r\n        $el.removeAttribute(\"disabled\");\r\n      } else {\r\n        $el.setAttribute(\"disabled\", \"\");\r\n      }\r\n    }\r\n\r\n    // Counter\r\n    // ====\r\n    for (const $el of this.fancybox.$container.querySelectorAll(\"[data-fancybox-index]\")) {\r\n      $el.innerHTML = slide.index + 1;\r\n    }\r\n\r\n    for (const $el of this.fancybox.$container.querySelectorAll(\"[data-fancybox-count]\")) {\r\n      $el.innerHTML = cnt;\r\n    }\r\n\r\n    // Disable previous/next links if gallery is not infinite and has reached start/end\r\n    // ===\r\n    if (!this.fancybox.option(\"infinite\")) {\r\n      for (const $el of this.fancybox.$container.querySelectorAll(\"[data-fancybox-prev]\")) {\r\n        if (idx === 0) {\r\n          $el.setAttribute(\"disabled\", \"\");\r\n        } else {\r\n          $el.removeAttribute(\"disabled\");\r\n        }\r\n      }\r\n\r\n      for (const $el of this.fancybox.$container.querySelectorAll(\"[data-fancybox-next]\")) {\r\n        if (idx === cnt - 1) {\r\n          $el.setAttribute(\"disabled\", \"\");\r\n        } else {\r\n          $el.removeAttribute(\"disabled\");\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  cleanup() {\r\n    if (this.Slideshow && this.Slideshow.isActive()) {\r\n      this.Slideshow.clearTimer();\r\n    }\r\n\r\n    if (this.$container) {\r\n      this.$container.remove();\r\n    }\r\n\r\n    this.$container = null;\r\n  }\r\n\r\n  attach() {\r\n    this.fancybox.on(this.events);\r\n  }\r\n\r\n  detach() {\r\n    this.fancybox.off(this.events);\r\n\r\n    this.cleanup();\r\n  }\r\n}\r\n\r\n// Expose defaults\r\nToolbar.defaults = defaults;\r\n","import { ScrollLock } from \"./ScrollLock/ScrollLock.js\";\nimport { Thumbs } from \"./Thumbs/Thumbs.js\";\nimport { Html } from \"./Html/Html.js\";\nimport { Image } from \"./Image/Image.js\";\nimport { Hash } from \"./Hash/Hash.js\";\nimport { Toolbar } from \"./Toolbar/Toolbar.js\";\n\nexport const Plugins = {\n  ScrollLock,\n  Thumbs,\n  Html,\n  Toolbar,\n  Image,\n  Hash,\n};\n","export default {\r\n  CLOSE: \"Close\",\r\n  NEXT: \"Next\",\r\n  PREV: \"Previous\",\r\n  MODAL: \"You can close this modal content with the ESC key\",\r\n  ERROR: \"Something Went Wrong, Please Try Again Later\",\r\n  IMAGE_ERROR: \"Image Not Found\",\r\n  ELEMENT_NOT_FOUND: \"HTML Element Not Found\",\r\n  AJAX_NOT_FOUND: \"Error Loading AJAX : Not Found\",\r\n  AJAX_FORBIDDEN: \"Error Loading AJAX : Forbidden\",\r\n  IFRAME_ERROR: \"Error Loading Page\",\r\n  TOGGLE_ZOOM: \"Toggle zoom level\",\r\n  TOGGLE_THUMBS: \"Toggle thumbnails\",\r\n  TOGGLE_SLIDESHOW: \"Toggle slideshow\",\r\n  TOGGLE_FULLSCREEN: \"Toggle full-screen mode\",\r\n  DOWNLOAD: \"Download\",\r\n};\r\n","import { Fancybox } from '@fancyapps/ui/src/Fancybox/Fancybox.js';\n\nexport const fancybox = Fancybox.bind('[data-fancybox=\"gallery\"]', {\n  Thumbs: false,\n  Toolbar: false,\n\n  Image: {\n    zoom: false,\n    click: false,\n    wheel: 'slide',\n  },\n});\n"],"names":["Object","defineProperty","module","exports","value","default","self","ReferenceError","object","property","prototype","hasOwnProperty","call","$1b88cb4cd4b28de3$var$_getPrototypeOf","obj","parcelRequire","__esModule","$b9926a5835d271e3$var$getPrototypeOf","o1","setPrototypeOf","getPrototypeOf","o","__proto__","$c1b1a34fae3d3c27$var$setPrototypeOf","p1","p","arr","Array","isArray","iter","Symbol","iterator","from","TypeError","minLen","$7a2c4c4c44c69707$var$_arrayLikeToArray","n","toString","slice","constructor","name","test","len","length","i","arr2","$f215c72f040a88cf$var$_arrayLikeToArray","Reflect","construct","sham","Proxy","Boolean","valueOf","e","$e17dad4ea3dafe1a$var$_typeOf","$e17dad4ea3dafe1a$var$_assertThisInitialized","$e17dad4ea3dafe1a$var$_interopRequireDefault","key","enumerable","configurable","writable","$7e6792c6b3826ba4$var$ref","$7e6792c6b3826ba4$var$ref1","$33c85d34ef3974f0$var$ref","$33c85d34ef3974f0$var$ref1","$28e87b1ff6534a73$export$21666b427502ea6d","mobMenu","document","querySelector","openMenuBtn","closeMenuBtn","aboutUsLinkHeader","abotUsLinkMobMenu","portfolioLinkHeader","portfolioLinkMobMenu","contactsLinkHeader","contactsLinkMobMenu","heroSection","propertiesSection","aboutSection","contactsSection","portfolioSection","footer","$7e6792c6b3826ba4$export$ac262bcf0e49db26","ref2","classList","toggle","addEventListener","$da80c6d36853ac29$var$ref","$da80c6d36853ac29$var$ref1","$33c85d34ef3974f0$export$743531d17054bdf7","ref8","ref3","ref4","ref5","ref6","ref7","remove","add","$ea95c8898e40095e$var$ref","$ea95c8898e40095e$var$ref1","$da80c6d36853ac29$export$87e8210b13494669","$ea95c8898e40095e$export$fcdbdf26053c5451","ref9","contains","$ds8z5","$665014edacbfe17b$exports","instance","Constructor","$74e7f8130373505f$var$_defineProperties","target","props","descriptor","$74e7f8130373505f$exports","protoProps","staticProps","$e08672c9889dd930$exports","receiver","$e08672c9889dd930$var$get","$e08672c9889dd930$var$_superPropBase","target1","property1","receiver1","get","base","desc","getOwnPropertyDescriptor","$ae7f60fd48750bb9$exports","subClass","superClass","create","$ae7f60fd48750bb9$var$_setPrototypeOf","$ae7f60fd48750bb9$var$_interopRequireDefault","$111a013c31e2261e$exports","$111a013c31e2261e$var$_arrayWithHoles","$111a013c31e2261e$var$_iterableToArray","$111a013c31e2261e$var$_unsupportedIterableToArray","$111a013c31e2261e$var$_nonIterableRest","$111a013c31e2261e$var$_interopRequireDefault","$6195f07b5409ba15$exports","$6195f07b5409ba15$var$_arrayWithoutHoles","$6195f07b5409ba15$var$_iterableToArray","$6195f07b5409ba15$var$_unsupportedIterableToArray","$6195f07b5409ba15$var$_nonIterableSpread","$6195f07b5409ba15$var$_interopRequireDefault","$2059300b4b5a348b$exports","Derived","hasNativeReflectConstruct","$2059300b4b5a348b$var$_isNativeReflectConstruct","result","Super","$2059300b4b5a348b$var$_getPrototypeOf","NewTarget","this","arguments","apply","$2059300b4b5a348b$var$_possibleConstructorReturn","$2059300b4b5a348b$var$_interopRequireDefault","$4969aabecc8e913c$export$53b83ca8eaab0383","$30dbac9bac16a6ce$export$8b58be045bf06082","args","_len","_key","deep","shift","Error","extenders","extender","$99942eeb4ed0c122$export$71594e8a50f746f4","window","createElement","$1409cefbe8e4ff9a$var$preventScrollSupported","$1409cefbe8e4ff9a$export$6a59c51278cd7bb1","$1409cefbe8e4ff9a$export$5a51bc2ba3a0d25","node","focus","preventScroll","setActive","scrollTop","pageXOffset","body","scrollLeft","pageYOffset","scrollTo","top","left","behavior","$589bba3dfc690272$export$f7ad0328861e2f03","path","split","reduce","prev","curr","$305027b9563ad80d$export$ef88aa0d34c34520","Base","options","plugins","events","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_iteratorNormalCompletion1","_didIteratorError1","_iteratorError1","_step","_iterator","next","done","type","_step1","_iterator1","entries","$parcel$interopDefault","err","return","fallback","rest","_value","String","concat","str","params","replace","match","subkey","rez","_this","option","toLowerCase","substring","index","join","callback","on","forEach","item","listeners","indexOf","push","once","listener","details","_callback","_this1","off","_","splice","_listener","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_listener1","listener1","err1","newPlugins","Plugin","defaults","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_value1","attach","err2","assign","plugin","detach","$9eddae5a012cde57$exports","source","ownKeys","keys","getOwnPropertySymbols","filter","sym","$9eddae5a012cde57$var$_defineProperty","$9eddae5a012cde57$var$_interopRequireDefault","$0685be5dd89c51a0$export$2077e0241d6afd3c","precision","parseFloat","Math","round","Number","EPSILON","$2d4c2ff31975a123$export$2bb74740c4e19def","Element","__Panzoom","overflowY","getComputedStyle","overflowX","vertical","abs","scrollHeight","clientHeight","horizontal","scrollWidth","clientWidth","$2d4c2ff31975a123$export$988b38dbf6859d61","parentNode","$17ba1ee9c7329a88$export$9caf76241ca21a11","ResizeObserver","observables","boundCheck","check","bind","el","some","observable","newObservable","size","height","width","changedEntries","currentHeight","currentWidth","map","requestAnimationFrame","$1f6f04d79f95d607$var$Pointer","Pointer","nativePointer","id","Touch","identifier","pageX","pageY","clientX","clientY","$1f6f04d79f95d607$export$79376507b09a66f","a","b","sqrt","pow","$1f6f04d79f95d607$export$b820caf342892892","$1f6f04d79f95d607$var$isTouchEvent","event","$1f6f04d79f95d607$export$602faa26dc074936","PointerTracker","_element","ref","_start","start","_move","move","_end","end","startPointers","currentPointers","_pointerStart","buttons","button","pointer","_triggerPointerStart","_pointerEnd","_touchStart","changedTouches","touch","previousPointers","changedPointers","t","trackedChangedPointers","findIndex","_loop","_moveCallback","_triggerPointerEnd","_endCallback","removeEventListener","passive","_touchEnd","_startCallback","$86a715b3f49a0d8f$export$5a4c7d2802d310f9","element","x","y","nodes","childNodes","range","createRange","nodeType","Node","TEXT_NODE","selectNodeContents","rect","getBoundingClientRect","right","bottom","$560de9e653829d1e$export$36c2abee46ce2f83","elem","max","naturalHeight","baseVal","offsetHeight","$560de9e653829d1e$export$26b8a639408dbbb6","srcWidth","srcHeight","maxWidth","maxHeight","ratio","min","$744142444a52f869$var$defaults","zoom","pinchToZoom","panOnlyZoomed","lockAxis","friction","decelFriction","zoomFriction","bounceForce","baseScale","minScale","maxScale","step","textSelection","click","wheel","wheelFactor","wheelLimit","draggableClass","draggingClass","$744142444a52f869$export$b704d075ddd20210","Base1","Panzoom","$container","state","methodName","initLayout","resetValues","attachPlugins","Plugins","trigger","updateMetrics","attachEvents","panTo","HTMLElement","$content","_$viewport","$viewport","append","appendChild","updateRate","navigator","userAgent","container","viewport","content","origWidth","origHeight","scale","transform","resetDragPosition","defaultPrevented","activeElement","closest","getSelection","hasAttribute","getClientRects","dragPosition","midPoint","dragStart","preventDefault","stopPropagation","zoomWithClick","zoomWithWheel","changedDelta","delta","deltaY","deltaX","wheelDelta","detail","newScale","zoomTo","toggleZoom","onLoad","onWheel","onClick","initObserver","pointerTracker","velocity","composedPath","nodeName","time","Date","now","prevMidpoint","newMidpoint","panX","panY","prevDistance","newDistance","scaleDiff","dragOffset","axisToLock","angle","atan2","PI","stopImmediatePropagation","startPoint","xPos","yPos","getZoomDelta","setDragResistance","startAnimation","_dragOffset","recalculateTransform","last","resizeObserver","updateTimer","setTimeout","isAnimating","endAnimation","observe","_content","silently","contentIsImage","HTMLImageElement","contentIsZoomable","shouldResizeParent","naturalWidth","offsetWidth","style","contentRect","viewportRect","containerRect","viewportWidth","viewportHeight","viewportStyles","paddingLeft","paddingRight","paddingTop","paddingBottom","fitWidth","fitHeight","isZoomable","_x","_y","currentScale","ref1","percentXInCurrentBox","percentYInCurrentBox","nextWidth","nextHeight","_friction","_ignoreBounds","ignoreBounds","getBounds","boundX","boundY","to","rAF","cancelAnimationFrame","animate","setEdgeForce","setDragForce","setTransform","pastLeft","pastRight","pastTop","pastBottom","force","restX","force1","restY","bound","distance","bound2","distance2","final","handleCursor","stop","disconnect","clearTimeout","detachEvents","detachPlugins","version","$b80c0c11bc4bab93$export$de363e709c412c8a","func","limit","lastCall","getTime","$3511199fd763fdcd$export$b8a61e5c71402559","Navigation","carousel","$prev","$next","onRefresh","_classList","$btn","setAttribute","localize","toUpperCase","classNames","innerHTML","createButton","pageCount","pages","elemDimWidth","wrapDimWidth","isInteger","cleanup","build","removeAttribute","page","prevTpl","nextTpl","main","$3a0b0f3b5aeaac20$export$8da50d3722682be0","Dots","$list","change","onChange","refresh","dataset","parseInt","slideTo","removeChild","listExists","pagesCount","removeList","buildList","dotCount","children","lastChild","$dot","$el","code","nextSibling","previousSibling","setActiveDot","$activeDot","rebuildDots","$e46899e7753047fb$export$2ae15352e0a80063","Sync","selectedIndex","onNavReady","onNavClick","onNavCreateSlide","onTargetChange","nav","initialSlide","initialPage","panzoom","clickedNavSlide","selectedNavIndex","selectedSyncPage","findPageForSlide","markSelectedSlide","slide","targetIndex","indexes","selectedNavPage","slides","slide1","sync","addAsNavFor","addAsTargetFor","$f8d3c761d7a592dd$export$c203ca0aafe4939a","$fc6e0e06ef43712d$var$defaults","preload","slidesPerPage","center","infinite","fill","dragFree","prefix","track","slideSelected","l10n","NEXT","PREV","GOTO","$fc6e0e06ef43712d$export$144901db2ea8e967","Carousel","slideNext","slidePrev","init","__Carousel","pageIndex","prevPage","prevPageIndex","initSlides","$track","manageSlideVisiblity","initPanzoom","_classList1","_$track","querySelectorAll","isDom","lastSlideWidth","contentWidth","slideWidth","getSlideMetrics","i1","currentPage","shouldFill","sum","shouldCenter","page2","page1","_classList2","firstSlide","isTestEl","visibility","customClass","prepend","currentStyle","marginLeft","marginRight","page3","find","setPage","destroy","centerOnStart","afterUpdate","updatePage","beforeTransform","onBeforeTransform","onTouchEnd","currentX","getPropertyValue","leftBoundary","rightBoundary","hasDiff","insideCurrentInterval","insidePrevInterval","insideNextInterval","createSlideEl","removeSlideEl","nextIndex","updatedX","nextPos","slide2","_classList3","div","allElelements","goal","refSlide","refIndex","insertBefore","curentIndex","srcset","lazySrcset","lazySrc","src","backgroundImage","lazySrc1","selectedClass","attr","manageInfiniteTrack","isFlipped","nextPageIndex","getPageFromPosition","slideToClosest","interval","floor","slide3","toClosest","$e18bb8e1411dfe2a$export$43c4ad2b7f26555a","ScrollLock","fancybox","pendingUpdate","visualViewport","startY","onResize","updateViewport","onTouchstart","onTouchmove","offsetLeft","offsetTop","touches","screenY","innerWidth","documentElement","cancelable","curY","isAtTop","isAtBottom","onReady","$410670c071f8b9be$export$73e055b807a6709","Thumbs","prepare","onPrepare","closing","onClosing","keydown","onKeydown","getSlides","$carousel","items","thumb","html","hide","show","display","minSlideCount","minScreenHeight","autoStart","tpl","$85275c2a868d849c$var$buildURLQuery","url","URL","URLSearchParams","search","set","matches","$85275c2a868d849c$var$defaults","video","autoplay","youtube","autohide","fs","rel","hd","wmode","enablejsapi","html5","vimeo","show_title","show_byline","show_portrait","fullscreen","html5video","format","$85275c2a868d849c$export$13f9d3c4397c4713","Html","onInit","ready","onCreateSlide","onRemoveSlide","onSelectSlide","onUnselectSlide","processType","videoId","encodeURIComponent","vendor","params1","videoId1","charAt","_width","_height","setContent","getSlide","playVideo","tmp","getElementById","$placeHolder","attrId","cloneNode","getAttribute","setError","xhr","XMLHttpRequest","showLoading","onreadystatechange","readyState","DONE","hideLoading","status","responseText","data","ajax","open","setRequestHeader","send","$iframe","className","resizeIframe","onerror","onload","isFirstLoad","isReady","revealContent","maxRatio","width_","height_","autoSize","$parent","parentStyle","compStyles","paddingX","paddingY","contentWindow","$html","getElementsByTagName","$body","overflow","flex","error","newStyle","setAspectRatio","poster","loadInlineContent","loadAjaxContent","loadIframeContent","$video","promise","play","then","catch","muted","poller","command","method","postMessage","JSON","stringify","pause","abort","$closeButton","parse","origin","getElementsByClassName","ex","onMessage","$f1aeafa239a54181$export$3e431a229df88919","Image","onDone","onPageChange","clickTimer","$image","imageFit","onImageStatusChange","alt","sizes","shouldWrap","$wrap","complete","initSlidePanzoom","wrapInner","startIndex","canZoom","zoomIn","thumbRect","$thumb","thumbWidth","thumbHeight","contentHeight","opacity","shiftedTop","shiftedLeft","visibleBottomRight","elementFromPoint","visibleTopLeft","Panzoom1","getZoomInfo","Panzoom2","$caption","animatePosition","zoomOutClass","zoomInClass","clickAction","touchIsEnabled","action","canZoomInClass","canZoomOutClass","zoomOpacity","ignoreCoveredThumbnail","doubleClick","fit","wrap","$895a265f7114e00c$export$ab85ecd77ce6a5cd","Hash","initCarousel","hasCreatedHistory","origHash","timer","firstRun","currentSlide","currentHash","hash","newHash","slug","$trigger","history","title","location","pathname","hasSilentClose","replaceState","Fancybox","getInstance","getParsedURL","selectedElem","dispatchEvent","CustomEvent","bubbles","groupElems","close","startFromUrl","proceed","onHashChange","substr","pop","$3721e3f19e52ed61$export$159cd03be7087f39","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","activate","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","deactivate","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","$09af8253c6f2ada2$export$9e844f8a53211d5","Slideshow","active","handleVisibilityChange","delay","jumpTo","$progress","transitionDuration","setTimer","clearTimer","$bdae6449d7c736db$var$defaults","autoEnable","counter","position","class","tabindex","label","slideshow","download","thumbs","$bdae6449d7c736db$export$4c260019440d418f","Toolbar","onSettle","hasImage","closeButton","update","isActive","onFsChange","prop","$svg","all_items","_step4","includes","fullscreenEnabled","fullScreen","group","all_groups","group1","downloadSrc","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","$el1","_iterator4","_step5","err3","_iterator5","_didIteratorError5","_iteratorError5","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","cnt","err4","_iterator6","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","$el4","_iterator7","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","$el5","err5","_iterator8","$0d9e57886e160ac9$export$c203ca0aafe4939a","$7d3fd52a23382f7c$var$defaults","showClass","hideClass","animated","hideScrollbar","parentEl","mainClass","autoFocus","trapFocus","placeFocusBack","dragToClose","keyboard","Escape","Delete","Backspace","PageUp","PageDown","ArrowUp","ArrowDown","ArrowRight","ArrowLeft","template","spinner","CLOSE","MODAL","ERROR","IMAGE_ERROR","ELEMENT_NOT_FOUND","AJAX_NOT_FOUND","AJAX_FORBIDDEN","IFRAME_ERROR","TOGGLE_ZOOM","TOGGLE_THUMBS","TOGGLE_SLIDESHOW","TOGGLE_FULLSCREEN","DOWNLOAD","$7d3fd52a23382f7c$var$instances","Map","$7d3fd52a23382f7c$var$called","$7d3fd52a23382f7c$export$cb45b08d97cdc4fd","bindHandlers","setItems","_instance","$fVNic","onMousedown","onFocus","_$container","$root","mainTemplate","insertAdjacentHTML","onscroll","role","tabIndex","$backdrop","currentSrc","origTarget","caption","infiniteX","infiniteY","createSlide","settle","touchMove","onTouchMove","afterTransform","onTransform","touchEnd","isTopmost","eventTarget","blur","distanceY","setProperty","key1","ctrlKey","altKey","shiftKey","isUIElement","isContentEditable","ignoreFocusChange","$currentSlide","$firstEl","allFocusableElems","enabledElems","isNodeVisible","offsetParent","isNodeInsideCurrentSlide","isNodeOutsideCarousel","origTabindex","lastFocus","scrollbarWidth","$style","_className","opts","$fragment","createContextualFragment","suffix","manageCloseButton","firstChild","animateCSS","$element","handleAnimationEnd","currentTarget","message","clearContent","$spinner","_Carousel","isClosing","delete","nextInstance","revealScrollbar","metaKey","triggerGroupName","matchingOpener","triggerTarget","fancyboxTrigger","triggerItems","triggerIndex","fancyboxIndex","openers","reverse","opener","found","fromOpener","options1","mapCallback","falseValues","trueValues","_value2","key2","groupAll","groupAttr","groupValue","root","getRootNode","currentInstance","selector","attachClickEvent","fromEvent","fb","values","all","_iteratorNormalCompletion5","instance2","$7d3fd52a23382f7c$var$_iteratorNormalCompletion","$7d3fd52a23382f7c$var$_didIteratorError","$7d3fd52a23382f7c$var$_iteratorError","$7d3fd52a23382f7c$var$_step","$7d3fd52a23382f7c$var$_iterator","$7d3fd52a23382f7c$var$_value","$7d3fd52a23382f7c$var$Plugin"],"version":3,"file":"index.af338c2e.js.map"}