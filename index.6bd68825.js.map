{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_assert_this_initialized.js","node_modules/@swc/helpers/lib/_super_prop_base.js","node_modules/@swc/helpers/lib/_get_prototype_of.js","node_modules/@swc/helpers/lib/_set_prototype_of.js","node_modules/@swc/helpers/lib/_array_with_holes.js","node_modules/@swc/helpers/lib/_iterable_to_array.js","node_modules/@swc/helpers/lib/_non_iterable_rest.js","node_modules/@swc/helpers/lib/_unsupported_iterable_to_array.js","node_modules/@swc/helpers/lib/_array_like_to_array.js","node_modules/@swc/helpers/lib/_array_without_holes.js","node_modules/@swc/helpers/lib/_non_iterable_spread.js","node_modules/@swc/helpers/lib/_is_native_reflect_construct.js","node_modules/@swc/helpers/lib/_possible_constructor_return.js","node_modules/@swc/helpers/lib/_type_of.js","node_modules/@swc/helpers/lib/_define_property.js","node_modules/@fancyapps/ui/src/Fancybox/Fancybox.js","node_modules/@swc/helpers/lib/_class_call_check.js","node_modules/@swc/helpers/lib/_create_class.js","node_modules/@swc/helpers/lib/_get.js","node_modules/@swc/helpers/lib/_inherits.js","node_modules/@swc/helpers/lib/_sliced_to_array.js","node_modules/@swc/helpers/lib/_to_consumable_array.js","node_modules/@swc/helpers/lib/_create_super.js","node_modules/@fancyapps/ui/src/shared/utils/isPlainObject.js","node_modules/@fancyapps/ui/src/shared/utils/extend.js","node_modules/@fancyapps/ui/src/shared/utils/canUseDOM.js","node_modules/@fancyapps/ui/src/shared/utils/setFocusOn.js","node_modules/@fancyapps/ui/src/shared/utils/resolve.js","node_modules/@fancyapps/ui/src/shared/Base/Base.js","<<jsx-config-pragma.js>>","node_modules/@fancyapps/ui/src/Carousel/Carousel.js","node_modules/@swc/helpers/lib/_object_spread.js","node_modules/@fancyapps/ui/src/Panzoom/Panzoom.js","node_modules/@fancyapps/ui/src/shared/utils/round.js","node_modules/@fancyapps/ui/src/shared/utils/isScrollable.js","node_modules/@fancyapps/ui/src/shared/utils/ResizeObserver.js","node_modules/@fancyapps/ui/src/shared/utils/PointerTracker.js","node_modules/@fancyapps/ui/src/shared/utils/getTextNodeFromPoint.js","node_modules/@fancyapps/ui/src/shared/utils/getDimensions.js","node_modules/@fancyapps/ui/src/Panzoom/plugins/index.js","node_modules/@fancyapps/ui/src/shared/utils/throttle.js","node_modules/@fancyapps/ui/src/Carousel/plugins/Navigation/Navigation.js","node_modules/@fancyapps/ui/src/Carousel/plugins/Dots/Dots.js","node_modules/@fancyapps/ui/src/Carousel/plugins/Sync/Sync.js","node_modules/@fancyapps/ui/src/Carousel/plugins/index.js","node_modules/@fancyapps/ui/src/Carousel/l10n/en.js","node_modules/@fancyapps/ui/src/Fancybox/plugins/ScrollLock/ScrollLock.js","node_modules/@fancyapps/ui/src/Fancybox/plugins/Thumbs/Thumbs.js","node_modules/@fancyapps/ui/src/Fancybox/plugins/Html/Html.js","node_modules/@fancyapps/ui/src/Fancybox/plugins/Image/Image.js","node_modules/@fancyapps/ui/src/Fancybox/plugins/Hash/Hash.js","node_modules/@fancyapps/ui/src/shared/utils/Fullscreen.js","node_modules/@fancyapps/ui/src/shared/utils/Slideshow.js","node_modules/@fancyapps/ui/src/Fancybox/plugins/Toolbar/Toolbar.js","node_modules/@fancyapps/ui/src/Fancybox/plugins/index.js","node_modules/@fancyapps/ui/src/Fancybox/l10n/en.js","src/js/fancybox.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _assertThisInitialized;\nfunction _assertThisInitialized(self) {\n    if (self === void 0) {\n        throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n    return self;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _superPropBase;\nvar _getPrototypeOf = _interopRequireDefault(require(\"./_get_prototype_of\"));\nfunction _superPropBase(object, property) {\n    while(!Object.prototype.hasOwnProperty.call(object, property)){\n        object = (0, _getPrototypeOf).default(object);\n        if (object === null) break;\n    }\n    return object;\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _getPrototypeOf;\nfunction _getPrototypeOf(o) {\n    return getPrototypeOf(o);\n}\nfunction getPrototypeOf(o1) {\n    getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function getPrototypeOf(o) {\n        return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return getPrototypeOf(o1);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _setPrototypeOf;\nfunction _setPrototypeOf(o, p) {\n    return setPrototypeOf(o, p);\n}\nfunction setPrototypeOf(o1, p1) {\n    setPrototypeOf = Object.setPrototypeOf || function setPrototypeOf(o, p) {\n        o.__proto__ = p;\n        return o;\n    };\n    return setPrototypeOf(o1, p1);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _arrayWithHoles;\nfunction _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _iterableToArray;\nfunction _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _nonIterableRest;\nfunction _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _unsupportedIterableToArray;\nvar _arrayLikeToArray = _interopRequireDefault(require(\"./_array_like_to_array\"));\nfunction _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return (0, _arrayLikeToArray).default(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return (0, _arrayLikeToArray).default(o, minLen);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _arrayLikeToArray;\nfunction _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _arrayWithoutHoles;\nvar _arrayLikeToArray = _interopRequireDefault(require(\"./_array_like_to_array\"));\nfunction _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return (0, _arrayLikeToArray).default(arr);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _nonIterableSpread;\nfunction _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _isNativeReflectConstruct;\nfunction _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n    try {\n        Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));\n        return true;\n    } catch (e) {\n        return false;\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _possibleConstructorReturn;\nvar _assertThisInitialized = _interopRequireDefault(require(\"./_assert_this_initialized\"));\nvar _typeOf = _interopRequireDefault(require(\"./_type_of\"));\nfunction _possibleConstructorReturn(self, call) {\n    if (call && ((0, _typeOf).default(call) === \"object\" || typeof call === \"function\")) {\n        return call;\n    }\n    return (0, _assertThisInitialized).default(self);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _typeof;\nfunction _typeof(obj) {\n    \"@swc/helpers - typeof\";\n    return obj && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n}\n;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _defineProperty;\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\n","import { extend } from \"../shared/utils/extend.js\";\nimport { canUseDOM } from \"../shared/utils/canUseDOM.js\";\nimport { FOCUSABLE_ELEMENTS, setFocusOn } from \"../shared/utils/setFocusOn.js\";\n\nimport { Base } from \"../shared/Base/Base.js\";\n\nimport { Carousel } from \"../Carousel/Carousel.js\";\n\nimport { Plugins } from \"./plugins/index.js\";\n\n// Default language\nimport en from \"./l10n/en.js\";\n\n// Default settings\nconst defaults = {\n  // Index of active slide on the start\n  startIndex: 0,\n\n  // Number of slides to preload before and after active slide\n  preload: 1,\n\n  // Should navigation be infinite\n  infinite: true,\n\n  // Class name to be applied to the content to reveal it\n  showClass: \"fancybox-zoomInUp\", // \"fancybox-fadeIn\" | \"fancybox-zoomInUp\" | false\n\n  // Class name to be applied to the content to hide it\n  hideClass: \"fancybox-fadeOut\", // \"fancybox-fadeOut\" | \"fancybox-zoomOutDown\" | false\n\n  // Should backdrop and UI elements fade in/out on start/close\n  animated: true,\n\n  // If browser scrollbar should be hidden\n  hideScrollbar: true,\n\n  // Element containing main structure\n  parentEl: null,\n\n  // Custom class name or multiple space-separated class names for the container\n  mainClass: null,\n\n  // Set focus on first focusable element after displaying content\n  autoFocus: true,\n\n  // Trap focus inside Fancybox\n  trapFocus: true,\n\n  // Set focus back to trigger element after closing Fancybox\n  placeFocusBack: true,\n\n  // Action to take when the user clicks on the backdrop\n  click: \"close\", // \"close\" | \"next\" | null\n\n  // Position of the close button - over the content or at top right corner of viewport\n  closeButton: \"inside\", // \"inside\" | \"outside\"\n\n  // Allow user to drag content up/down to close instance\n  dragToClose: true,\n\n  // Enable keyboard navigation\n  keyboard: {\n    Escape: \"close\",\n    Delete: \"close\",\n    Backspace: \"close\",\n    PageUp: \"next\",\n    PageDown: \"prev\",\n    ArrowUp: \"next\",\n    ArrowDown: \"prev\",\n    ArrowRight: \"next\",\n    ArrowLeft: \"prev\",\n  },\n\n  // HTML templates for various elements\n  template: {\n    // Close button icon\n    closeButton:\n      '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" tabindex=\"-1\"><path d=\"M20 20L4 4m16 0L4 20\"/></svg>',\n    // Loading indicator icon\n    spinner:\n      '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" viewBox=\"25 25 50 50\" tabindex=\"-1\"><circle cx=\"50\" cy=\"50\" r=\"20\"/></svg>',\n\n    // Main container element\n    main: null,\n  },\n\n  /* Note: If the `template.main` option is not provided, the structure is generated as follows by default:\n  <div class=\"fancybox__container\" role=\"dialog\" aria-modal=\"true\" aria-hidden=\"true\" aria-label=\"{{MODAL}}\" tabindex=\"-1\">\n    <div class=\"fancybox__backdrop\"></div>\n    <div class=\"fancybox__carousel\"></div>\n  </div>\n  */\n\n  // Localization of strings\n  l10n: en,\n};\n\n// Object that contains all active instances of Fancybox\nconst instances = new Map();\n\n// Number of Fancybox instances created, it is used to generate new instance \"id\"\nlet called = 0;\n\nclass Fancybox extends Base {\n  /**\n   * Fancybox constructor\n   * @constructs Fancybox\n   * @param {Object} [options] - Options for Fancybox\n   */\n  constructor(items, options = {}) {\n    // Quick hack to fix variable naming collision\n    items = items.map((item) => {\n      if (item.width) item._width = item.width;\n      if (item.height) item._height = item.height;\n\n      return item;\n    });\n\n    super(extend(true, {}, defaults, options));\n\n    this.bindHandlers();\n\n    this.state = \"init\";\n\n    this.setItems(items);\n\n    this.attachPlugins(Fancybox.Plugins);\n\n    // \"init\" event marks the start of initialization and is available to plugins\n    this.trigger(\"init\");\n\n    if (this.option(\"hideScrollbar\") === true) {\n      this.hideScrollbar();\n    }\n\n    this.initLayout();\n\n    this.initCarousel();\n\n    this.attachEvents();\n\n    instances.set(this.id, this);\n\n    // \"prepare\" event will trigger the creation of additional layout elements, such as thumbnails and toolbar\n    this.trigger(\"prepare\");\n\n    this.state = \"ready\";\n\n    // \"ready\" event will trigger the content to load\n    this.trigger(\"ready\");\n\n    // Reveal container\n    this.$container.setAttribute(\"aria-hidden\", \"false\");\n\n    // Set focus on the first focusable element inside this instance\n    if (this.option(\"trapFocus\")) {\n      this.focus();\n    }\n  }\n\n  /**\n   * Override `option` method to get value from the current slide\n   * @param {String} name option name\n   * @param  {...any} rest optional extra parameters\n   * @returns {any}\n   */\n  option(name, ...rest) {\n    const slide = this.getSlide();\n\n    let value = slide ? slide[name] : undefined;\n\n    if (value !== undefined) {\n      if (typeof value === \"function\") {\n        value = value.call(this, this, ...rest);\n      }\n\n      return value;\n    }\n\n    return super.option(name, ...rest);\n  }\n\n  /**\n   * Bind event handlers for referencability\n   */\n  bindHandlers() {\n    for (const methodName of [\n      \"onMousedown\",\n      \"onKeydown\",\n      \"onClick\",\n\n      \"onFocus\",\n\n      \"onCreateSlide\",\n      \"onSettle\",\n\n      \"onTouchMove\",\n      \"onTouchEnd\",\n\n      \"onTransform\",\n    ]) {\n      this[methodName] = this[methodName].bind(this);\n    }\n  }\n\n  /**\n   * Set up a functions that will be called whenever the specified event is delivered\n   */\n  attachEvents() {\n    document.addEventListener(\"mousedown\", this.onMousedown);\n    document.addEventListener(\"keydown\", this.onKeydown, true);\n\n    // Trap keyboard focus inside of the modal\n    if (this.option(\"trapFocus\")) {\n      document.addEventListener(\"focus\", this.onFocus, true);\n    }\n\n    this.$container.addEventListener(\"click\", this.onClick);\n  }\n\n  /**\n   * Removes previously registered event listeners\n   */\n  detachEvents() {\n    document.removeEventListener(\"mousedown\", this.onMousedown);\n    document.removeEventListener(\"keydown\", this.onKeydown, true);\n\n    document.removeEventListener(\"focus\", this.onFocus, true);\n\n    this.$container.removeEventListener(\"click\", this.onClick);\n  }\n\n  /**\n   * Initialize layout; create main container, backdrop nd layout for main carousel\n   */\n  initLayout() {\n    this.$root = this.option(\"parentEl\") || document.body;\n\n    // Container\n    let mainTemplate = this.option(\"template.main\");\n\n    if (mainTemplate) {\n      this.$root.insertAdjacentHTML(\"beforeend\", this.localize(mainTemplate));\n\n      this.$container = this.$root.querySelector(\".fancybox__container\");\n    }\n\n    if (!this.$container) {\n      this.$container = document.createElement(\"div\");\n      this.$root.appendChild(this.$container);\n    }\n\n    // Normally we would not need this, but Safari does not support `preventScroll:false` option for `focus` method\n    // and that causes layout issues\n    this.$container.onscroll = () => {\n      this.$container.scrollLeft = 0;\n      return false;\n    };\n\n    Object.entries({\n      class: \"fancybox__container\",\n      role: \"dialog\",\n      tabIndex: \"-1\",\n      \"aria-modal\": \"true\",\n      \"aria-hidden\": \"true\",\n      \"aria-label\": this.localize(\"{{MODAL}}\"),\n    }).forEach((args) => this.$container.setAttribute(...args));\n\n    if (this.option(\"animated\")) {\n      this.$container.classList.add(\"is-animated\");\n    }\n\n    // Backdrop\n    this.$backdrop = this.$container.querySelector(\".fancybox__backdrop\");\n\n    if (!this.$backdrop) {\n      this.$backdrop = document.createElement(\"div\");\n      this.$backdrop.classList.add(\"fancybox__backdrop\");\n\n      this.$container.appendChild(this.$backdrop);\n    }\n\n    // Carousel\n    this.$carousel = this.$container.querySelector(\".fancybox__carousel\");\n\n    if (!this.$carousel) {\n      this.$carousel = document.createElement(\"div\");\n      this.$carousel.classList.add(\"fancybox__carousel\");\n\n      this.$container.appendChild(this.$carousel);\n    }\n\n    // Make instance reference accessible\n    this.$container.Fancybox = this;\n\n    // Make sure the container has an ID\n    this.id = this.$container.getAttribute(\"id\");\n\n    if (!this.id) {\n      this.id = this.options.id || ++called;\n      this.$container.setAttribute(\"id\", \"fancybox-\" + this.id);\n    }\n\n    // Add custom class name to main element\n    const mainClass = this.option(\"mainClass\");\n\n    if (mainClass) {\n      this.$container.classList.add(...mainClass.split(\" \"));\n    }\n\n    // Add class name for <html> element\n    document.documentElement.classList.add(\"with-fancybox\");\n\n    this.trigger(\"initLayout\");\n\n    return this;\n  }\n\n  /**\n   * Prepares slides for the corousel\n   * @returns {Array} Slides\n   */\n  setItems(items) {\n    const slides = [];\n\n    for (const slide of items) {\n      const $trigger = slide.$trigger;\n\n      if ($trigger) {\n        const dataset = $trigger.dataset || {};\n\n        slide.src = dataset.src || $trigger.getAttribute(\"href\") || slide.src;\n        slide.type = dataset.type || slide.type;\n\n        // Support items without `src`, e.g., when `data-fancybox` attribute added directly to `<img>` element\n        if (!slide.src && $trigger instanceof HTMLImageElement) {\n          slide.src = $trigger.currentSrc || slide.$trigger.src;\n        }\n      }\n\n      // Check for thumbnail element\n      let $thumb = slide.$thumb;\n\n      if (!$thumb) {\n        let origTarget = slide.$trigger && slide.$trigger.origTarget;\n\n        if (origTarget) {\n          if (origTarget instanceof HTMLImageElement) {\n            $thumb = origTarget;\n          } else {\n            $thumb = origTarget.querySelector(\"img:not([aria-hidden])\");\n          }\n        }\n\n        if (!$thumb && slide.$trigger) {\n          $thumb =\n            slide.$trigger instanceof HTMLImageElement\n              ? slide.$trigger\n              : slide.$trigger.querySelector(\"img:not([aria-hidden])\");\n        }\n      }\n\n      slide.$thumb = $thumb || null;\n\n      // Get thumbnail image source\n      let thumb = slide.thumb;\n\n      if (!thumb && $thumb) {\n        thumb = $thumb.currentSrc || $thumb.src;\n\n        if (!thumb && $thumb.dataset) {\n          thumb = $thumb.dataset.lazySrc || $thumb.dataset.src;\n        }\n      }\n\n      // Assume we have image, then use it as thumbnail\n      if (!thumb && slide.type === \"image\") {\n        thumb = slide.src;\n      }\n\n      slide.thumb = thumb || null;\n\n      // Add empty caption to make things simpler\n      slide.caption = slide.caption || \"\";\n\n      slides.push(slide);\n    }\n\n    this.items = slides;\n  }\n\n  /**\n   * Initialize main Carousel that will be used to display the content\n   * @param {Array} slides\n   */\n  initCarousel() {\n    this.Carousel = new Carousel(\n      this.$carousel,\n      extend(\n        true,\n        {},\n        {\n          prefix: \"\",\n\n          classNames: {\n            viewport: \"fancybox__viewport\",\n            track: \"fancybox__track\",\n            slide: \"fancybox__slide\",\n          },\n\n          textSelection: true,\n          preload: this.option(\"preload\"),\n\n          friction: 0.88,\n\n          slides: this.items,\n          initialPage: this.options.startIndex,\n          slidesPerPage: 1,\n\n          infiniteX: this.option(\"infinite\"),\n          infiniteY: true,\n\n          l10n: this.option(\"l10n\"),\n\n          Dots: false,\n          Navigation: {\n            classNames: {\n              main: \"fancybox__nav\",\n              button: \"carousel__button\",\n\n              next: \"is-next\",\n              prev: \"is-prev\",\n            },\n          },\n\n          Panzoom: {\n            textSelection: true,\n\n            panOnlyZoomed: () => {\n              return (\n                this.Carousel && this.Carousel.pages && this.Carousel.pages.length < 2 && !this.option(\"dragToClose\")\n              );\n            },\n\n            lockAxis: () => {\n              if (this.Carousel) {\n                let rez = \"x\";\n\n                if (this.option(\"dragToClose\")) {\n                  rez += \"y\";\n                }\n\n                return rez;\n              }\n            },\n          },\n\n          on: {\n            \"*\": (name, ...details) => this.trigger(`Carousel.${name}`, ...details),\n            init: (carousel) => (this.Carousel = carousel),\n            createSlide: this.onCreateSlide,\n            settle: this.onSettle,\n          },\n        },\n\n        this.option(\"Carousel\")\n      )\n    );\n\n    if (this.option(\"dragToClose\")) {\n      this.Carousel.Panzoom.on({\n        // Stop further touch event handling if content is scaled\n        touchMove: this.onTouchMove,\n\n        // Update backdrop opacity depending on vertical distance\n        afterTransform: this.onTransform,\n\n        // Close instance if drag distance exceeds limit\n        touchEnd: this.onTouchEnd,\n      });\n    }\n\n    this.trigger(\"initCarousel\");\n\n    return this;\n  }\n\n  /**\n   * Process `createSlide` event to create caption element inside new slide\n   */\n  onCreateSlide(carousel, slide) {\n    let caption = slide.caption || \"\";\n\n    if (typeof this.options.caption === \"function\") {\n      caption = this.options.caption.call(this, this, this.Carousel, slide);\n    }\n\n    if (typeof caption === \"string\" && caption.length) {\n      const $caption = document.createElement(\"div\");\n      const id = `fancybox__caption_${this.id}_${slide.index}`;\n\n      $caption.className = \"fancybox__caption\";\n      $caption.innerHTML = caption;\n      $caption.setAttribute(\"id\", id);\n\n      slide.$caption = slide.$el.appendChild($caption);\n\n      slide.$el.classList.add(\"has-caption\");\n      slide.$el.setAttribute(\"aria-labelledby\", id);\n    }\n  }\n\n  /**\n   * Handle Carousel `settle` event\n   */\n  onSettle() {\n    if (this.option(\"autoFocus\")) {\n      this.focus();\n    }\n  }\n\n  /**\n   * Handle focus event\n   * @param {Event} event - Focus event\n   */\n  onFocus(event) {\n    if (!this.isTopmost()) {\n      return;\n    }\n\n    this.focus(event);\n  }\n\n  /**\n   * Handle click event on the container\n   * @param {Event} event - Click event\n   */\n  onClick(event) {\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    let eventTarget = event.composedPath()[0];\n\n    if (eventTarget.matches(\"[data-fancybox-close]\")) {\n      event.preventDefault();\n      Fancybox.close(false, event);\n\n      return;\n    }\n\n    if (eventTarget.matches(\"[data-fancybox-next]\")) {\n      event.preventDefault();\n      Fancybox.next();\n\n      return;\n    }\n\n    if (eventTarget.matches(\"[data-fancybox-prev]\")) {\n      event.preventDefault();\n      Fancybox.prev();\n\n      return;\n    }\n\n    const activeElement = document.activeElement;\n\n    if (activeElement) {\n      if (activeElement.closest(\"[contenteditable]\")) {\n        return;\n      }\n\n      if (!eventTarget.matches(FOCUSABLE_ELEMENTS)) {\n        activeElement.blur();\n      }\n    }\n\n    // Skip if clicked inside content area\n    if (eventTarget.closest(\".fancybox__content\")) {\n      return;\n    }\n\n    // Skip if text is selected\n    if (getSelection().toString().length) {\n      return;\n    }\n\n    if (this.trigger(\"click\", event) === false) {\n      return;\n    }\n\n    const action = this.option(\"click\");\n\n    switch (action) {\n      case \"close\":\n        this.close();\n        break;\n      case \"next\":\n        this.next();\n        break;\n    }\n  }\n\n  /**\n   * Handle panzoom `touchMove` event; Disable dragging if content of current slide is scaled\n   */\n  onTouchMove() {\n    const panzoom = this.getSlide().Panzoom;\n\n    return panzoom && panzoom.content.scale !== 1 ? false : true;\n  }\n\n  /**\n   * Handle panzoom `touchEnd` event; close when quick flick up/down is detected\n   * @param {Object} panzoom - Panzoom instance\n   */\n  onTouchEnd(panzoom) {\n    const distanceY = panzoom.dragOffset.y;\n\n    if (Math.abs(distanceY) >= 150 || (Math.abs(distanceY) >= 35 && panzoom.dragOffset.time < 350)) {\n      if (this.option(\"hideClass\")) {\n        this.getSlide().hideClass = `fancybox-throwOut${panzoom.content.y < 0 ? \"Up\" : \"Down\"}`;\n      }\n\n      this.close();\n    } else if (panzoom.lockAxis === \"y\") {\n      panzoom.panTo({ y: 0 });\n    }\n  }\n\n  /**\n   * Handle `afterTransform` event; change backdrop opacity based on current y position of panzoom\n   * @param {Object} panzoom - Panzoom instance\n   */\n  onTransform(panzoom) {\n    const $backdrop = this.$backdrop;\n\n    if ($backdrop) {\n      const yPos = Math.abs(panzoom.content.y);\n      const opacity = yPos < 1 ? \"\" : Math.max(0.33, Math.min(1, 1 - (yPos / panzoom.content.fitHeight) * 1.5));\n\n      this.$container.style.setProperty(\"--fancybox-ts\", opacity ? \"0s\" : \"\");\n      this.$container.style.setProperty(\"--fancybox-opacity\", opacity);\n    }\n  }\n\n  /**\n   * Handle `mousedown` event to mark that the mouse is in use\n   */\n  onMousedown() {\n    if (this.state === \"ready\") {\n      document.body.classList.add(\"is-using-mouse\");\n    }\n  }\n\n  /**\n   * Handle `keydown` event; trap focus\n   * @param {Event} event Keydown event\n   */\n  onKeydown(event) {\n    if (!this.isTopmost()) {\n      return;\n    }\n\n    document.body.classList.remove(\"is-using-mouse\");\n\n    const key = event.key;\n    const keyboard = this.option(\"keyboard\");\n\n    if (!keyboard || event.ctrlKey || event.altKey || event.shiftKey) {\n      return;\n    }\n\n    const target = event.composedPath()[0];\n\n    const classList = document.activeElement && document.activeElement.classList;\n    const isUIElement = classList && classList.contains(\"carousel__button\");\n\n    // Allow to close using Escape button\n    if (key !== \"Escape\" && !isUIElement) {\n      let ignoreElements =\n        event.target.isContentEditable ||\n        [\"BUTTON\", \"TEXTAREA\", \"OPTION\", \"INPUT\", \"SELECT\", \"VIDEO\"].indexOf(target.nodeName) !== -1;\n\n      if (ignoreElements) {\n        return;\n      }\n    }\n\n    if (this.trigger(\"keydown\", key, event) === false) {\n      return;\n    }\n\n    const action = keyboard[key];\n\n    if (typeof this[action] === \"function\") {\n      this[action]();\n    }\n  }\n\n  /**\n   * Get the active slide. This will be the first slide from the current page of the main carousel.\n   */\n  getSlide() {\n    const carousel = this.Carousel;\n\n    if (!carousel) return null;\n\n    const page = carousel.page === null ? carousel.option(\"initialPage\") : carousel.page;\n    const pages = carousel.pages || [];\n\n    if (pages.length && pages[page]) {\n      return pages[page].slides[0];\n    }\n\n    return null;\n  }\n\n  /**\n   * Place focus on the first focusable element inside current slide\n   * @param {Event} [event] - Focus event\n   */\n  focus(event) {\n    if (Fancybox.ignoreFocusChange) {\n      return;\n    }\n\n    if ([\"init\", \"closing\", \"customClosing\", \"destroy\"].indexOf(this.state) > -1) {\n      return;\n    }\n\n    const $container = this.$container;\n    const currentSlide = this.getSlide();\n    const $currentSlide = currentSlide.state === \"done\" ? currentSlide.$el : null;\n\n    // Skip if the DOM element that is currently in focus is already inside the current slide\n    if ($currentSlide && $currentSlide.contains(document.activeElement)) {\n      return;\n    }\n\n    if (event) {\n      event.preventDefault();\n    }\n\n    Fancybox.ignoreFocusChange = true;\n\n    const allFocusableElems = Array.from($container.querySelectorAll(FOCUSABLE_ELEMENTS));\n\n    let enabledElems = [];\n    let $firstEl;\n\n    for (let node of allFocusableElems) {\n      // Enable element if it's visible and\n      // is inside the current slide or is outside main carousel (for example, inside the toolbar)\n      const isNodeVisible = node.offsetParent;\n      const isNodeInsideCurrentSlide = $currentSlide && $currentSlide.contains(node);\n      const isNodeOutsideCarousel = !this.Carousel.$viewport.contains(node);\n\n      if (isNodeVisible && (isNodeInsideCurrentSlide || isNodeOutsideCarousel)) {\n        enabledElems.push(node);\n\n        if (node.dataset.origTabindex !== undefined) {\n          node.tabIndex = node.dataset.origTabindex;\n          node.removeAttribute(\"data-orig-tabindex\");\n        }\n\n        if (\n          node.hasAttribute(\"autoFocus\") ||\n          (!$firstEl && isNodeInsideCurrentSlide && !node.classList.contains(\"carousel__button\"))\n        ) {\n          $firstEl = node;\n        }\n      } else {\n        // Element is either hidden or is inside preloaded slide (e.g., not inside current slide, but next/prev)\n        node.dataset.origTabindex =\n          node.dataset.origTabindex === undefined ? node.getAttribute(\"tabindex\") : node.dataset.origTabindex;\n\n        node.tabIndex = -1;\n      }\n    }\n\n    if (!event) {\n      if (this.option(\"autoFocus\") && $firstEl) {\n        setFocusOn($firstEl);\n      } else if (enabledElems.indexOf(document.activeElement) < 0) {\n        setFocusOn($container);\n      }\n    } else {\n      if (enabledElems.indexOf(event.target) > -1) {\n        this.lastFocus = event.target;\n      } else {\n        if (this.lastFocus === $container) {\n          setFocusOn(enabledElems[enabledElems.length - 1]);\n        } else {\n          setFocusOn($container);\n        }\n      }\n    }\n\n    this.lastFocus = document.activeElement;\n\n    Fancybox.ignoreFocusChange = false;\n  }\n\n  /**\n   * Hide vertical page scrollbar and adjust right padding value of `body` element to prevent content from shifting\n   * (otherwise the `body` element may become wider and the content may expand horizontally).\n   */\n  hideScrollbar() {\n    if (!canUseDOM) {\n      return;\n    }\n\n    const scrollbarWidth = window.innerWidth - document.documentElement.getBoundingClientRect().width;\n    const id = \"fancybox-style-noscroll\";\n\n    let $style = document.getElementById(id);\n\n    if ($style) {\n      return;\n    }\n\n    if (scrollbarWidth > 0) {\n      $style = document.createElement(\"style\");\n\n      $style.id = id;\n      $style.type = \"text/css\";\n      $style.innerHTML = `.compensate-for-scrollbar {padding-right: ${scrollbarWidth}px;}`;\n\n      document.getElementsByTagName(\"head\")[0].appendChild($style);\n\n      document.body.classList.add(\"compensate-for-scrollbar\");\n    }\n  }\n\n  /**\n   * Stop hiding vertical page scrollbar\n   */\n  revealScrollbar() {\n    document.body.classList.remove(\"compensate-for-scrollbar\");\n\n    const el = document.getElementById(\"fancybox-style-noscroll\");\n\n    if (el) {\n      el.remove();\n    }\n  }\n\n  /**\n   * Remove content for given slide\n   * @param {Object} slide - Carousel slide\n   */\n  clearContent(slide) {\n    // * Clear previously added content and class name\n    this.Carousel.trigger(\"removeSlide\", slide);\n\n    if (slide.$content) {\n      slide.$content.remove();\n      slide.$content = null;\n    }\n\n    if (slide.$closeButton) {\n      slide.$closeButton.remove();\n      slide.$closeButton = null;\n    }\n\n    if (slide._className) {\n      slide.$el.classList.remove(slide._className);\n    }\n  }\n\n  /**\n   * Set new content for given slide\n   * @param {Object} slide - Carousel slide\n   * @param {HTMLElement|String} html - HTML element or string containing HTML code\n   * @param {Object} [opts] - Options\n   */\n  setContent(slide, html, opts = {}) {\n    let $content;\n\n    const $el = slide.$el;\n\n    if (html instanceof HTMLElement) {\n      if ([\"img\", \"iframe\", \"video\", \"audio\"].indexOf(html.nodeName.toLowerCase()) > -1) {\n        $content = document.createElement(\"div\");\n        $content.appendChild(html);\n      } else {\n        $content = html;\n      }\n    } else {\n      const $fragment = document.createRange().createContextualFragment(html);\n\n      $content = document.createElement(\"div\");\n      $content.appendChild($fragment);\n    }\n\n    if (slide.filter && !slide.error) {\n      $content = $content.querySelector(slide.filter);\n    }\n\n    if (!($content instanceof Element)) {\n      this.setError(slide, \"{{ELEMENT_NOT_FOUND}}\");\n\n      return;\n    }\n\n    // * Add class name indicating content type, for example `has-image`\n    slide._className = `has-${opts.suffix || slide.type || \"unknown\"}`;\n\n    $el.classList.add(slide._className);\n\n    // * Set content\n    $content.classList.add(\"fancybox__content\");\n\n    // Make sure that content is not hidden and will be visible\n    if ($content.style.display === \"none\" || getComputedStyle($content).getPropertyValue(\"display\") === \"none\") {\n      $content.style.display = slide.display || this.option(\"defaultDisplay\") || \"flex\";\n    }\n\n    if (slide.id) {\n      $content.setAttribute(\"id\", slide.id);\n    }\n\n    slide.$content = $content;\n\n    $el.prepend($content);\n\n    this.manageCloseButton(slide);\n\n    if (slide.state !== \"loading\") {\n      this.revealContent(slide);\n    }\n\n    return $content;\n  }\n\n  /**\n   * Create close button if needed\n   * @param {Object} slide\n   */\n  manageCloseButton(slide) {\n    const position = slide.closeButton === undefined ? this.option(\"closeButton\") : slide.closeButton;\n\n    if (!position || (position === \"top\" && this.$closeButton)) {\n      return;\n    }\n\n    const $btn = document.createElement(\"button\");\n\n    $btn.classList.add(\"carousel__button\", \"is-close\");\n    $btn.setAttribute(\"title\", this.options.l10n.CLOSE);\n    $btn.innerHTML = this.option(\"template.closeButton\");\n\n    $btn.addEventListener(\"click\", (e) => this.close(e));\n\n    if (position === \"inside\") {\n      // Remove existing one to avoid scope issues\n      if (slide.$closeButton) {\n        slide.$closeButton.remove();\n      }\n\n      slide.$closeButton = slide.$content.appendChild($btn);\n    } else {\n      this.$closeButton = this.$container.insertBefore($btn, this.$container.firstChild);\n    }\n  }\n\n  /**\n   * Make content visible for given slide and optionally start CSS animation\n   * @param {Object} slide - Carousel slide\n   */\n  revealContent(slide) {\n    this.trigger(\"reveal\", slide);\n\n    slide.$content.style.visibility = \"\";\n\n    // Add CSS class name that reveals content (default animation is \"fadeIn\")\n    let showClass = false;\n\n    if (\n      !(\n        slide.error ||\n        slide.state === \"loading\" ||\n        this.Carousel.prevPage !== null ||\n        slide.index !== this.options.startIndex\n      )\n    ) {\n      showClass = slide.showClass === undefined ? this.option(\"showClass\") : slide.showClass;\n    }\n\n    if (!showClass) {\n      this.done(slide);\n\n      return;\n    }\n\n    slide.state = \"animating\";\n\n    this.animateCSS(slide.$content, showClass, () => {\n      this.done(slide);\n    });\n  }\n\n  /**\n   * Add class name to given HTML element and wait for `animationend` event to execute callback\n   * @param {HTMLElement} $el\n   * @param {String} className\n   * @param {Function} callback - A callback to run\n   */\n  animateCSS($element, className, callback) {\n    if ($element) {\n      $element.dispatchEvent(new CustomEvent(\"animationend\", { bubbles: true, cancelable: true }));\n    }\n\n    if (!$element || !className) {\n      if (typeof callback === \"function\") {\n        callback();\n      }\n\n      return;\n    }\n\n    const handleAnimationEnd = function (event) {\n      if (event.currentTarget === this) {\n        $element.removeEventListener(\"animationend\", handleAnimationEnd);\n\n        if (callback) {\n          callback();\n        }\n\n        $element.classList.remove(className);\n      }\n    };\n\n    $element.addEventListener(\"animationend\", handleAnimationEnd);\n    $element.classList.add(className);\n  }\n\n  /**\n   * Mark given slide as `done`, e.g., content is loaded and displayed completely\n   * @param {Object} slide - Carousel slide\n   */\n  done(slide) {\n    slide.state = \"done\";\n\n    this.trigger(\"done\", slide);\n\n    // Trigger focus for current slide (and ignore preloaded slides)\n    const currentSlide = this.getSlide();\n\n    if (currentSlide && slide.index === currentSlide.index && this.option(\"autoFocus\")) {\n      this.focus();\n    }\n  }\n\n  /**\n   * Set error message as slide content\n   * @param {Object} slide - Carousel slide\n   * @param {String} message - Error message, can contain HTML code and template variables\n   */\n  setError(slide, message) {\n    slide.error = message;\n\n    this.hideLoading(slide);\n    this.clearContent(slide);\n\n    // Create new content\n    const div = document.createElement(\"div\");\n    div.classList.add(\"fancybox-error\");\n    div.innerHTML = this.localize(message || \"<p>{{ERROR}}</p>\");\n\n    this.setContent(slide, div, { suffix: \"error\" });\n  }\n\n  /**\n   * Create loading indicator inside given slide\n   * @param {Object} slide - Carousel slide\n   */\n  showLoading(slide) {\n    slide.state = \"loading\";\n\n    slide.$el.classList.add(\"is-loading\");\n\n    let $spinner = slide.$el.querySelector(\".fancybox__spinner\");\n\n    if ($spinner) {\n      return;\n    }\n\n    $spinner = document.createElement(\"div\");\n\n    $spinner.classList.add(\"fancybox__spinner\");\n    $spinner.innerHTML = this.option(\"template.spinner\");\n\n    $spinner.addEventListener(\"click\", () => {\n      if (!this.Carousel.Panzoom.velocity) this.close();\n    });\n\n    slide.$el.prepend($spinner);\n  }\n\n  /**\n   * Remove loading indicator from given slide\n   * @param {Object} slide - Carousel slide\n   */\n  hideLoading(slide) {\n    const $spinner = slide.$el && slide.$el.querySelector(\".fancybox__spinner\");\n\n    if ($spinner) {\n      $spinner.remove();\n\n      slide.$el.classList.remove(\"is-loading\");\n    }\n\n    if (slide.state === \"loading\") {\n      this.trigger(\"load\", slide);\n\n      slide.state = \"ready\";\n    }\n  }\n\n  /**\n   * Slide carousel to next page\n   */\n  next() {\n    const carousel = this.Carousel;\n\n    if (carousel && carousel.pages.length > 1) {\n      carousel.slideNext();\n    }\n  }\n\n  /**\n   * Slide carousel to previous page\n   */\n  prev() {\n    const carousel = this.Carousel;\n\n    if (carousel && carousel.pages.length > 1) {\n      carousel.slidePrev();\n    }\n  }\n\n  /**\n   * Slide carousel to selected page with optional parameters\n   * Examples:\n   *    Fancybox.getInstance().jumpTo(2);\n   *    Fancybox.getInstance().jumpTo(3, {friction: 0})\n   * @param  {...any} args - Arguments for Carousel `slideTo` method\n   */\n  jumpTo(...args) {\n    if (this.Carousel) this.Carousel.slideTo(...args);\n  }\n\n  /**\n   * Check if current instance is trying to close or is already closed\n   * @returns {Boolean}\n   */\n  isClosing() {\n    return [\"closing\", \"customClosing\", \"destroy\"].includes(this.state);\n  }\n\n  /**\n   * Check if the current instance is not blocked by another instance\n   * @returns {Boolean}\n   */\n  isTopmost() {\n    return Fancybox.getInstance().id == this.id;\n  }\n\n  /**\n   * Start closing the current instance\n   * @param {Event} [event] - Optional click event\n   */\n  close(event) {\n    if (event) event.preventDefault();\n\n    // First, stop further execution if this instance is already closing\n    // (this can happen if, for example, user clicks close button multiple times really fast)\n    if (this.isClosing()) {\n      return;\n    }\n\n    // Allow callbacks and/or plugins to prevent closing\n    if (this.trigger(\"shouldClose\", event) === false) {\n      return;\n    }\n\n    this.state = \"closing\";\n\n    this.Carousel.Panzoom.destroy();\n\n    this.detachEvents();\n\n    this.trigger(\"closing\", event);\n\n    if (this.state === \"destroy\") {\n      return;\n    }\n\n    // Trigger default CSS closing animation for backdrop and interface elements\n    this.$container.setAttribute(\"aria-hidden\", \"true\");\n\n    this.$container.classList.add(\"is-closing\");\n\n    // Clear inactive slides\n    const currentSlide = this.getSlide();\n\n    this.Carousel.slides.forEach((slide) => {\n      if (slide.$content && slide.index !== currentSlide.index) {\n        this.Carousel.trigger(\"removeSlide\", slide);\n      }\n    });\n\n    // Start default closing animation\n    if (this.state === \"closing\") {\n      const hideClass = currentSlide.hideClass === undefined ? this.option(\"hideClass\") : currentSlide.hideClass;\n\n      this.animateCSS(\n        currentSlide.$content,\n        hideClass,\n        () => {\n          this.destroy();\n        },\n        true\n      );\n    }\n  }\n\n  /**\n   * Clean up after closing fancybox\n   */\n  destroy() {\n    if (this.state === \"destroy\") {\n      return;\n    }\n\n    this.state = \"destroy\";\n\n    this.trigger(\"destroy\");\n\n    const $trigger = this.option(\"placeFocusBack\") ? this.option(\"triggerTarget\", this.getSlide().$trigger) : null;\n\n    // Destroy Carousel and then detach plugins;\n    // * Note: this order allows plugins to receive `removeSlide` event\n    this.Carousel.destroy();\n\n    this.detachPlugins();\n\n    this.Carousel = null;\n\n    this.options = {};\n    this.events = {};\n\n    this.$container.remove();\n\n    this.$container = this.$backdrop = this.$carousel = null;\n\n    if ($trigger) {\n      setFocusOn($trigger);\n    }\n\n    instances.delete(this.id);\n\n    const nextInstance = Fancybox.getInstance();\n\n    if (nextInstance) {\n      nextInstance.focus();\n      return;\n    }\n\n    document.documentElement.classList.remove(\"with-fancybox\");\n    document.body.classList.remove(\"is-using-mouse\");\n\n    this.revealScrollbar();\n  }\n\n  /**\n   * Create new Fancybox instance with provided options\n   * Example:\n   *   Fancybox.show([{ src : 'https://lipsum.app/id/1/300x225' }]);\n   * @param {Array} items - Gallery items\n   * @param {Object} [options] - Optional custom options\n   * @returns {Object} Fancybox instance\n   */\n  static show(items, options = {}) {\n    return new Fancybox(items, options);\n  }\n\n  /**\n   * Starts Fancybox if event target matches any opener or target is `trigger element`\n   * @param {Event} event - Click event\n   * @param {Object} [options] - Optional custom options\n   */\n  static fromEvent(event, options = {}) {\n    //  Allow other scripts to prevent starting fancybox on click\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    // Don't run if right-click\n    if (event.button && event.button !== 0) {\n      return;\n    }\n\n    // Ignore command/control + click\n    if (event.ctrlKey || event.metaKey || event.shiftKey) {\n      return;\n    }\n\n    const origTarget = event.composedPath()[0];\n    let eventTarget = origTarget;\n\n    // Support `trigger` element, e.g., start fancybox from different DOM element, for example,\n    // to have one preview image for hidden image gallery\n    let triggerGroupName;\n\n    if (\n      eventTarget.matches(\"[data-fancybox-trigger]\") ||\n      (eventTarget = eventTarget.closest(\"[data-fancybox-trigger]\"))\n    ) {\n      options.triggerTarget = eventTarget;\n      triggerGroupName = eventTarget && eventTarget.dataset && eventTarget.dataset.fancyboxTrigger;\n    }\n\n    if (triggerGroupName) {\n      const triggerItems = document.querySelectorAll(`[data-fancybox=\"${triggerGroupName}\"]`);\n      const triggerIndex = parseInt(eventTarget.dataset.fancyboxIndex, 10) || 0;\n\n      eventTarget = triggerItems.length ? triggerItems[triggerIndex] : eventTarget;\n    }\n\n    // * Try to find matching openener\n    let matchingOpener;\n    let target;\n\n    Array.from(Fancybox.openers.keys())\n      .reverse()\n      .some((opener) => {\n        target = eventTarget || origTarget;\n\n        let found = false;\n\n        try {\n          if (target instanceof Element && (typeof opener === \"string\" || opener instanceof String)) {\n            // Chain closest() to event.target to find and return the parent element,\n            // regardless if clicking on the child elements (icon, label, etc)\n            found = target.matches(opener) || (target = target.closest(opener));\n          }\n        } catch (error) {}\n\n        if (found) {\n          event.preventDefault();\n          matchingOpener = opener;\n          return true;\n        }\n\n        return false;\n      });\n\n    let rez = false;\n\n    if (matchingOpener) {\n      options.event = event;\n      options.target = target;\n\n      target.origTarget = origTarget;\n\n      rez = Fancybox.fromOpener(matchingOpener, options);\n\n      // Check if the mouse is being used\n      // Waiting for better browser support for `:focus-visible` -\n      // https://drafts.csswg.org/selectors-4/#the-focus-visible-pseudo\n      const nextInstance = Fancybox.getInstance();\n\n      if (nextInstance && nextInstance.state === \"ready\" && event.detail) {\n        document.body.classList.add(\"is-using-mouse\");\n      }\n    }\n\n    return rez;\n  }\n\n  /**\n   * Starts Fancybox using selector\n   * @param {String} opener - Valid CSS selector string\n   * @param {Object} [options] - Optional custom options\n   */\n  static fromOpener(opener, options = {}) {\n    // Callback function called once for each group element that\n    // 1) converts data attributes to boolean or JSON\n    // 2) removes values that could cause issues\n    const mapCallback = function (el) {\n      const falseValues = [\"false\", \"0\", \"no\", \"null\", \"undefined\"];\n      const trueValues = [\"true\", \"1\", \"yes\"];\n\n      const dataset = Object.assign({}, el.dataset);\n      const options = {};\n\n      for (let [key, value] of Object.entries(dataset)) {\n        if (key === \"fancybox\") {\n          continue;\n        }\n\n        if (key === \"width\" || key === \"height\") {\n          options[`_${key}`] = value;\n        } else if (typeof value === \"string\" || value instanceof String) {\n          if (falseValues.indexOf(value) > -1) {\n            options[key] = false;\n          } else if (trueValues.indexOf(options[key]) > -1) {\n            options[key] = true;\n          } else {\n            try {\n              options[key] = JSON.parse(value);\n            } catch (e) {\n              options[key] = value;\n            }\n          }\n        } else {\n          options[key] = value;\n        }\n      }\n\n      if (el instanceof Element) {\n        options.$trigger = el;\n      }\n\n      return options;\n    };\n\n    let items = [],\n      index = options.startIndex || 0,\n      target = options.target || null;\n\n    // Get options\n    // ===\n    options = extend({}, options, Fancybox.openers.get(opener));\n\n    // Get matching nodes\n    // ===\n    const groupAll = options.groupAll === undefined ? false : options.groupAll;\n\n    const groupAttr = options.groupAttr === undefined ? \"data-fancybox\" : options.groupAttr;\n    const groupValue = groupAttr && target ? target.getAttribute(`${groupAttr}`) : \"\";\n\n    if (!target || groupValue || groupAll) {\n      const $root = options.root || (target ? target.getRootNode() : document.body);\n\n      items = [].slice.call($root.querySelectorAll(opener));\n    }\n\n    if (target && !groupAll) {\n      if (groupValue) {\n        items = items.filter((el) => el.getAttribute(`${groupAttr}`) === groupValue);\n      } else {\n        items = [target];\n      }\n    }\n\n    if (!items.length) {\n      return false;\n    }\n\n    // Exit if current instance is triggered from the same element\n    // ===\n    const currentInstance = Fancybox.getInstance();\n\n    if (currentInstance && items.indexOf(currentInstance.options.$trigger) > -1) {\n      return false;\n    }\n\n    // Start Fancybox\n    // ===\n\n    // Get index of current item in the gallery\n    index = target ? items.indexOf(target) : index;\n\n    // Convert items in a format supported by fancybox\n    items = items.map(mapCallback);\n\n    // * Create new fancybox instance\n    return new Fancybox(\n      items,\n      extend({}, options, {\n        startIndex: index,\n        $trigger: target,\n      })\n    );\n  }\n\n  /**\n   * Attach a click handler function that starts Fancybox to the selected items, as well as to all future matching elements.\n   * @param {String} selector - Selector that should match trigger elements\n   * @param {Object} [options] - Custom options\n   */\n  static bind(selector, options = {}) {\n    function attachClickEvent() {\n      document.body.addEventListener(\"click\", Fancybox.fromEvent, false);\n    }\n\n    if (!canUseDOM) {\n      return;\n    }\n\n    if (!Fancybox.openers.size) {\n      if (/complete|interactive|loaded/.test(document.readyState)) {\n        attachClickEvent();\n      } else {\n        document.addEventListener(\"DOMContentLoaded\", attachClickEvent);\n      }\n    }\n\n    Fancybox.openers.set(selector, options);\n  }\n\n  /**\n   * Remove the click handler that was attached with `bind()`\n   * @param {String} selector - A selector which should match the one originally passed to .bind()\n   */\n  static unbind(selector) {\n    Fancybox.openers.delete(selector);\n\n    if (!Fancybox.openers.size) {\n      Fancybox.destroy();\n    }\n  }\n\n  /**\n   * Immediately destroy all instances (without closing animation) and clean up all bindings..\n   */\n  static destroy() {\n    let fb;\n\n    while ((fb = Fancybox.getInstance())) {\n      fb.destroy();\n    }\n\n    Fancybox.openers = new Map();\n\n    document.body.removeEventListener(\"click\", Fancybox.fromEvent, false);\n  }\n\n  /**\n   * Retrieve instance by identifier or the top most instance, if identifier is not provided\n   * @param {String|Numeric} [id] - Optional instance identifier\n   */\n  static getInstance(id) {\n    if (id) {\n      return instances.get(id);\n    }\n\n    const instance = Array.from(instances.values())\n      .reverse()\n      .find((instance) => {\n        if (!instance.isClosing()) {\n          return instance;\n        }\n\n        return false;\n      });\n\n    return instance || null;\n  }\n\n  /**\n   * Close all or topmost currently active instance.\n   * @param {boolean} [all] - All or only topmost active instance\n   * @param {any} [arguments] - Optional data\n   */\n  static close(all = true, args) {\n    if (all) {\n      for (const instance of instances.values()) {\n        instance.close(args);\n      }\n    } else {\n      const instance = Fancybox.getInstance();\n\n      if (instance) {\n        instance.close(args);\n      }\n    }\n  }\n\n  /**\n   * Slide topmost currently active instance to next page\n   */\n  static next() {\n    const instance = Fancybox.getInstance();\n\n    if (instance) {\n      instance.next();\n    }\n  }\n\n  /**\n   * Slide topmost currently active instance to previous page\n   */\n  static prev() {\n    const instance = Fancybox.getInstance();\n\n    if (instance) {\n      instance.prev();\n    }\n  }\n}\n\n// Expose version\nFancybox.version = \"__VERSION__\";\n\n// Expose defaults\nFancybox.defaults = defaults;\n\n// Expose openers\nFancybox.openers = new Map();\n\n// Add default plugins\nFancybox.Plugins = Plugins;\n\n// Auto init with default options\nFancybox.bind(\"[data-fancybox]\");\n\n// Prepare plugins\nfor (const [key, Plugin] of Object.entries(Fancybox.Plugins || {})) {\n  if (typeof Plugin.create === \"function\") {\n    Plugin.create(Fancybox);\n  }\n}\n\nexport { Fancybox };\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classCallCheck;\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _createClass;\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _get;\nvar _superPropBase = _interopRequireDefault(require(\"./_super_prop_base\"));\nfunction _get(target, property, receiver) {\n    return get(target, property, receiver);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\nfunction get(target1, property1, receiver1) {\n    if (typeof Reflect !== \"undefined\" && Reflect.get) {\n        get = Reflect.get;\n    } else {\n        get = function get(target, property, receiver) {\n            var base = (0, _superPropBase).default(target, property);\n            if (!base) return;\n            var desc = Object.getOwnPropertyDescriptor(base, property);\n            if (desc.get) {\n                return desc.get.call(receiver || target);\n            }\n            return desc.value;\n        };\n    }\n    return get(target1, property1, receiver1);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _inherits;\nvar _setPrototypeOf = _interopRequireDefault(require(\"./_set_prototype_of\"));\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n        throw new TypeError(\"Super expression must either be null or a function\");\n    }\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n        constructor: {\n            value: subClass,\n            writable: true,\n            configurable: true\n        }\n    });\n    if (superClass) (0, _setPrototypeOf).default(subClass, superClass);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _slicedToArray;\nvar _arrayWithHoles = _interopRequireDefault(require(\"./_array_with_holes\"));\nvar _iterableToArray = _interopRequireDefault(require(\"./_iterable_to_array\"));\nvar _nonIterableRest = _interopRequireDefault(require(\"./_non_iterable_rest\"));\nvar _unsupportedIterableToArray = _interopRequireDefault(require(\"./_unsupported_iterable_to_array\"));\nfunction _slicedToArray(arr, i) {\n    return (0, _arrayWithHoles).default(arr) || (0, _iterableToArray).default(arr, i) || (0, _unsupportedIterableToArray).default(arr, i) || (0, _nonIterableRest).default();\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _toConsumableArray;\nvar _arrayWithoutHoles = _interopRequireDefault(require(\"./_array_without_holes\"));\nvar _iterableToArray = _interopRequireDefault(require(\"./_iterable_to_array\"));\nvar _nonIterableSpread = _interopRequireDefault(require(\"./_non_iterable_spread\"));\nvar _unsupportedIterableToArray = _interopRequireDefault(require(\"./_unsupported_iterable_to_array\"));\nfunction _toConsumableArray(arr) {\n    return (0, _arrayWithoutHoles).default(arr) || (0, _iterableToArray).default(arr) || (0, _unsupportedIterableToArray).default(arr) || (0, _nonIterableSpread).default();\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _createSuper;\nvar _isNativeReflectConstruct = _interopRequireDefault(require(\"./_is_native_reflect_construct\"));\nvar _getPrototypeOf = _interopRequireDefault(require(\"./_get_prototype_of\"));\nvar _possibleConstructorReturn = _interopRequireDefault(require(\"./_possible_constructor_return\"));\nfunction _createSuper(Derived) {\n    var hasNativeReflectConstruct = (0, _isNativeReflectConstruct).default();\n    return function _createSuperInternal() {\n        var Super = (0, _getPrototypeOf).default(Derived), result;\n        if (hasNativeReflectConstruct) {\n            var NewTarget = (0, _getPrototypeOf).default(this).constructor;\n            result = Reflect.construct(Super, arguments, NewTarget);\n        } else {\n            result = Super.apply(this, arguments);\n        }\n        return (0, _possibleConstructorReturn).default(this, result);\n    };\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","/**\n * Check to see if an object is a plain object (created using \"{}\" or \"new Object\").\n * @param {*} obj Variable of any type\n * @returns {Boolean}\n */\nexport const isPlainObject = (obj) => {\n  return (\n    // separate from primitives\n    typeof obj === \"object\" &&\n    // is obvious\n    obj !== null &&\n    // separate instances (Array, DOM, ...)\n    obj.constructor === Object &&\n    // separate build-in like Math\n    Object.prototype.toString.call(obj) === \"[object Object]\"\n  );\n};\n","import { isPlainObject } from \"./isPlainObject.js\";\n\n/**\n * Merge the contents of two or more objects together into the first object.\n * If passing \"true\" for first argument, the merge becomes recursive (aka. deep copy).\n * @param  {...any} args\n * @returns {Object}\n */\nexport const extend = (...args) => {\n  let deep = false;\n\n  if (typeof args[0] == \"boolean\") {\n    deep = args.shift();\n  }\n\n  let result = args[0];\n\n  if (!result || typeof result !== \"object\") {\n    throw new Error(\"extendee must be an object\");\n  }\n\n  const extenders = args.slice(1);\n  const len = extenders.length;\n\n  for (let i = 0; i < len; i++) {\n    const extender = extenders[i];\n\n    for (let key in extender) {\n      if (extender.hasOwnProperty(key)) {\n        const value = extender[key];\n\n        if (deep && (Array.isArray(value) || isPlainObject(value))) {\n          const base = Array.isArray(value) ? [] : {};\n\n          result[key] = extend(true, result.hasOwnProperty(key) ? result[key] : base, value);\n        } else {\n          result[key] = value;\n        }\n      }\n    }\n  }\n\n  return result;\n};\n","/**\r\n * Detect if rendering from the client or the server\r\n */\r\nexport const canUseDOM = !!(typeof window !== \"undefined\" && window.document && window.document.createElement);\r\n","import { canUseDOM } from \"./canUseDOM.js\";\r\n\r\nlet preventScrollSupported = null;\r\n\r\nexport const FOCUSABLE_ELEMENTS = [\r\n  \"a[href]\",\r\n  \"area[href]\",\r\n  'input:not([disabled]):not([type=\"hidden\"]):not([aria-hidden])',\r\n  \"select:not([disabled]):not([aria-hidden])\",\r\n  \"textarea:not([disabled]):not([aria-hidden])\",\r\n  \"button:not([disabled]):not([aria-hidden])\",\r\n  \"iframe\",\r\n  \"object\",\r\n  \"embed\",\r\n  \"video\",\r\n  \"audio\",\r\n  \"[contenteditable]\",\r\n  '[tabindex]:not([tabindex^=\"-\"]):not([disabled]):not([aria-hidden])',\r\n];\r\n\r\nexport const setFocusOn = (node) => {\r\n  if (!node || !canUseDOM) {\r\n    return;\r\n  }\r\n\r\n  if (preventScrollSupported === null) {\r\n    document.createElement(\"div\").focus({\r\n      get preventScroll() {\r\n        preventScrollSupported = true;\r\n\r\n        return false;\r\n      },\r\n    });\r\n  }\r\n\r\n  try {\r\n    if (node.setActive) {\r\n      // IE/Edge\r\n      node.setActive();\r\n    } else if (preventScrollSupported) {\r\n      // Modern browsers\r\n      node.focus({ preventScroll: true });\r\n    } else {\r\n      // Safari does not support `preventScroll` option\r\n      // https://bugs.webkit.org/show_bug.cgi?id=178583\r\n\r\n      // Save position\r\n      const scrollTop = window.pageXOffset || document.body.scrollTop;\r\n      const scrollLeft = window.pageYOffset || document.body.scrollLeft;\r\n\r\n      node.focus();\r\n\r\n      document.body.scrollTo({\r\n        top: scrollTop,\r\n        left: scrollLeft,\r\n        behavior: \"auto\",\r\n      });\r\n    }\r\n  } catch (e) {}\r\n};\r\n","/**\n * Access nested JavaScript objects by string path.\n * Example: `resolve(\"a.b.c\", {a:{b:{c:\"d\"}})` would return `d`\n * @param {String} path\n * @param {Object} obj\n * @returns {*}\n */\nexport const resolve = function (path, obj) {\n  return path.split(\".\").reduce(function (prev, curr) {\n    return prev && prev[curr];\n  }, obj);\n};\n","import { extend } from \"../utils/extend.js\";\nimport { resolve } from \"../utils/resolve.js\";\nimport { isPlainObject } from \"../utils/isPlainObject.js\";\n\n/**\n * Base class, all components inherit from this class\n */\nexport class Base {\n  /**\n   * Base constructor\n   * @param {Object} [options] - Options as `key: value` pairs\n   */\n  constructor(options = {}) {\n    this.options = extend(true, {}, options);\n\n    this.plugins = [];\n    this.events = {};\n\n    // * Prefill with initial events\n    for (const type of [\"on\", \"once\"]) {\n      for (const args of Object.entries(this.options[type] || {})) {\n        this[type](...args);\n      }\n    }\n  }\n\n  /**\n   * Retrieve option value by key, supports subkeys\n   * @param {String} key Option name\n   * @param {*} [fallback] Fallback value for non-existing key\n   * @returns {*}\n   */\n  option(key, fallback, ...rest) {\n    // Make sure it is string\n    key = String(key);\n\n    let value = resolve(key, this.options);\n\n    // Allow to have functions as options\n    if (typeof value === \"function\") {\n      value = value.call(this, this, ...rest);\n    }\n\n    return value === undefined ? fallback : value;\n  }\n\n  /**\n   * Simple l10n support - replaces object keys\n   * found in template with corresponding values\n   * @param {String} str String containing values to localize\n   * @param {Array} params Substitute parameters\n   * @returns {String}\n   */\n  localize(str, params = []) {\n    str = String(str).replace(/\\{\\{(\\w+).?(\\w+)?\\}\\}/g, (match, key, subkey) => {\n      let rez = \"\";\n\n      // Plugins have `Plugin.l10n.KEY`\n      if (subkey) {\n        rez = this.option(`${key[0] + key.toLowerCase().substring(1)}.l10n.${subkey}`);\n      } else if (key) {\n        rez = this.option(`l10n.${key}`);\n      }\n\n      if (!rez) {\n        rez = match;\n      }\n\n      for (let index = 0; index < params.length; index++) {\n        rez = rez.split(params[index][0]).join(params[index][1]);\n      }\n\n      return rez;\n    });\n\n    str = str.replace(/\\{\\{(.*)\\}\\}/, (match, key) => {\n      return key;\n    });\n\n    return str;\n  }\n\n  /**\n   * Subscribe to an event\n   * @param {String} name\n   * @param {Function} callback\n   * @returns {Object}\n   */\n  on(name, callback) {\n    if (isPlainObject(name)) {\n      for (const args of Object.entries(name)) {\n        this.on(...args);\n      }\n\n      return this;\n    }\n\n    String(name)\n      .split(\" \")\n      .forEach((item) => {\n        const listeners = (this.events[item] = this.events[item] || []);\n\n        if (listeners.indexOf(callback) == -1) {\n          listeners.push(callback);\n        }\n      });\n\n    return this;\n  }\n\n  /**\n   * Subscribe to an event only once\n   * @param {String} name\n   * @param {Function} callback\n   * @returns {Object}\n   */\n  once(name, callback) {\n    if (isPlainObject(name)) {\n      for (const args of Object.entries(name)) {\n        this.once(...args);\n      }\n\n      return this;\n    }\n\n    String(name)\n      .split(\" \")\n      .forEach((item) => {\n        const listener = (...details) => {\n          this.off(item, listener);\n          callback.call(this, this, ...details);\n        };\n\n        listener._ = callback;\n\n        this.on(item, listener);\n      });\n\n    return this;\n  }\n\n  /**\n   * Unsubscribe event with name and callback\n   * @param {String} name\n   * @param {Function} callback\n   * @returns {Object}\n   */\n  off(name, callback) {\n    if (isPlainObject(name)) {\n      for (const args of Object.entries(name)) {\n        this.off(...args);\n      }\n\n      return;\n    }\n\n    name.split(\" \").forEach((item) => {\n      const listeners = this.events[item];\n\n      if (!listeners || !listeners.length) {\n        return this;\n      }\n\n      let index = -1;\n\n      for (let i = 0, len = listeners.length; i < len; i++) {\n        const listener = listeners[i];\n\n        if (listener && (listener === callback || listener._ === callback)) {\n          index = i;\n          break;\n        }\n      }\n\n      if (index != -1) {\n        listeners.splice(index, 1);\n      }\n    });\n\n    return this;\n  }\n\n  /**\n   * Emit an event.\n   * If present, `\"*\"` handlers are invoked after name-matched handlers.\n   * @param {String} name\n   * @param  {...any} details\n   * @returns {Boolean}\n   */\n  trigger(name, ...details) {\n    for (const listener of [...(this.events[name] || [])].slice()) {\n      if (listener && listener.call(this, this, ...details) === false) {\n        return false;\n      }\n    }\n\n    // A wildcard \"*\" event type\n    for (const listener of [...(this.events[\"*\"] || [])].slice()) {\n      if (listener && listener.call(this, name, this, ...details) === false) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  /**\n   * Add given plugins to this instance,\n   * this will end up calling `attach` method of each plugin\n   * @param {Object} Plugins\n   * @returns {Object}\n   */\n  attachPlugins(plugins) {\n    const newPlugins = {};\n\n    for (const [key, Plugin] of Object.entries(plugins || {})) {\n      // Check if this plugin is not disabled by option\n      if (this.options[key] !== false && !this.plugins[key]) {\n        // Populate options with defaults from the plugin\n        this.options[key] = extend({}, Plugin.defaults || {}, this.options[key]);\n\n        // Initialise plugin\n        newPlugins[key] = new Plugin(this);\n      }\n    }\n\n    for (const [key, plugin] of Object.entries(newPlugins)) {\n      plugin.attach(this);\n    }\n\n    this.plugins = Object.assign({}, this.plugins, newPlugins);\n\n    return this;\n  }\n\n  /**\n   * Remove all plugin instances from this instance,\n   * this will end up calling `detach` method of each plugin\n   * @returns {Object}\n   */\n  detachPlugins() {\n    for (const key in this.plugins) {\n      let plugin;\n\n      if ((plugin = this.plugins[key]) && typeof plugin.detach === \"function\") {\n        plugin.detach(this);\n      }\n    }\n\n    this.plugins = {};\n\n    return this;\n  }\n}\n",null,"import { Base } from \"../shared/Base/Base.js\";\r\nimport { Panzoom } from \"../Panzoom/Panzoom.js\";\r\n\r\nimport { extend } from \"../shared/utils/extend.js\";\r\nimport { round } from \"../shared/utils/round.js\";\r\nimport { throttle } from \"../shared/utils/throttle.js\";\r\n\r\nimport { Plugins } from \"./plugins/index.js\";\r\n\r\n// Default language\r\nimport en from \"./l10n/en.js\";\r\n\r\nconst defaults = {\r\n  // Virtual slides. Each object should have at least `html` property that will be used to set content,\r\n  // example: `slides: [{html: 'First slide'}, {html: 'Second slide'}]`\r\n  slides: [],\r\n\r\n  // Number of slides to preload before/after visible slides\r\n  preload: 0,\r\n\r\n  // Number of slides to group into the page,\r\n  // if `auto` - group all slides that fit into the viewport\r\n  slidesPerPage: \"auto\",\r\n\r\n  // Index of initial page\r\n  initialPage: null,\r\n\r\n  // Index of initial slide\r\n  initialSlide: null,\r\n\r\n  // Panzoom friction while changing page\r\n  friction: 0.92,\r\n\r\n  // Should center active page\r\n  center: true,\r\n\r\n  // Should carousel scroll infinitely\r\n  infinite: true,\r\n\r\n  // Should the gap be filled before first and after last slide if `infinite: false`\r\n  fill: true,\r\n\r\n  // Should Carousel settle at any position after a swipe.\r\n  dragFree: false,\r\n\r\n  // Prefix for CSS classes, must be the same as the  SCSS `$carousel-prefix` variable\r\n  prefix: \"\",\r\n\r\n  // Class names for DOM elements (without prefix)\r\n  classNames: {\r\n    viewport: \"carousel__viewport\",\r\n    track: \"carousel__track\",\r\n    slide: \"carousel__slide\",\r\n\r\n    // Classname toggled for slides inside current page\r\n    slideSelected: \"is-selected\",\r\n  },\r\n\r\n  // Localization of strings\r\n  l10n: en,\r\n};\r\n\r\nexport class Carousel extends Base {\r\n  /**\r\n   * Carousel constructor\r\n   * @constructs Carousel\r\n   * @param {HTMLElement} $container - Carousel container\r\n   * @param {Object} [options] - Options for Carousel\r\n   */\r\n  constructor($container, options = {}) {\r\n    options = extend(true, {}, defaults, options);\r\n\r\n    super(options);\r\n\r\n    this.state = \"init\";\r\n\r\n    this.$container = $container;\r\n\r\n    if (!(this.$container instanceof HTMLElement)) {\r\n      throw new Error(\"No root element provided\");\r\n    }\r\n\r\n    this.slideNext = throttle(this.slideNext.bind(this), 250, true);\r\n    this.slidePrev = throttle(this.slidePrev.bind(this), 250, true);\r\n\r\n    this.init();\r\n\r\n    $container.__Carousel = this;\r\n  }\r\n\r\n  /**\r\n   * Perform initialization\r\n   */\r\n  init() {\r\n    this.pages = [];\r\n    this.page = this.pageIndex = null;\r\n    this.prevPage = this.prevPageIndex = null;\r\n\r\n    this.attachPlugins(Carousel.Plugins);\r\n\r\n    this.trigger(\"init\");\r\n\r\n    this.initLayout();\r\n\r\n    this.initSlides();\r\n\r\n    this.updateMetrics();\r\n\r\n    if (this.$track && this.pages.length) {\r\n      this.$track.style.transform = `translate3d(${this.pages[this.page].left * -1}px, 0px, 0) scale(1)`;\r\n    }\r\n\r\n    this.manageSlideVisiblity();\r\n\r\n    this.initPanzoom();\r\n\r\n    this.state = \"ready\";\r\n\r\n    this.trigger(\"ready\");\r\n  }\r\n\r\n  /**\r\n   * Initialize layout; create necessary elements\r\n   */\r\n  initLayout() {\r\n    const prefix = this.option(\"prefix\");\r\n    const classNames = this.option(\"classNames\");\r\n\r\n    this.$viewport = this.option(\"viewport\") || this.$container.querySelector(`.${prefix}${classNames.viewport}`);\r\n\r\n    if (!this.$viewport) {\r\n      this.$viewport = document.createElement(\"div\");\r\n      this.$viewport.classList.add(...(prefix + classNames.viewport).split(\" \"));\r\n\r\n      this.$viewport.append(...this.$container.childNodes);\r\n\r\n      this.$container.appendChild(this.$viewport);\r\n    }\r\n\r\n    this.$track = this.option(\"track\") || this.$container.querySelector(`.${prefix}${classNames.track}`);\r\n\r\n    if (!this.$track) {\r\n      this.$track = document.createElement(\"div\");\r\n      this.$track.classList.add(...(prefix + classNames.track).split(\" \"));\r\n\r\n      this.$track.append(...this.$viewport.childNodes);\r\n\r\n      this.$viewport.appendChild(this.$track);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Fill `slides` array with objects from existing nodes and/or `slides` option\r\n   */\r\n  initSlides() {\r\n    this.slides = [];\r\n\r\n    // Get existing slides from the DOM\r\n    const elems = this.$viewport.querySelectorAll(`.${this.option(\"prefix\")}${this.option(\"classNames.slide\")}`);\r\n\r\n    elems.forEach((el) => {\r\n      const slide = {\r\n        $el: el,\r\n        isDom: true,\r\n      };\r\n\r\n      this.slides.push(slide);\r\n\r\n      this.trigger(\"createSlide\", slide, this.slides.length);\r\n    });\r\n\r\n    // Add virtual slides, but do not create DOM elements yet,\r\n    // because they will be created dynamically based on current carousel position\r\n    if (Array.isArray(this.options.slides)) {\r\n      this.slides = extend(true, [...this.slides], this.options.slides);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Do all calculations related to slide size and paging\r\n   */\r\n  updateMetrics() {\r\n    // Calculate content width, viewport width\r\n    // ===\r\n    let contentWidth = 0;\r\n    let indexes = [];\r\n    let lastSlideWidth;\r\n\r\n    this.slides.forEach((slide, index) => {\r\n      const $el = slide.$el;\r\n      const slideWidth = slide.isDom || !lastSlideWidth ? this.getSlideMetrics($el) : lastSlideWidth;\r\n\r\n      slide.index = index;\r\n      slide.width = slideWidth;\r\n      slide.left = contentWidth;\r\n\r\n      lastSlideWidth = slideWidth;\r\n      contentWidth += slideWidth;\r\n\r\n      indexes.push(index);\r\n    });\r\n\r\n    let viewportWidth = Math.max(this.$track.offsetWidth, round(this.$track.getBoundingClientRect().width));\r\n\r\n    let viewportStyles = getComputedStyle(this.$track);\r\n    viewportWidth = viewportWidth - (parseFloat(viewportStyles.paddingLeft) + parseFloat(viewportStyles.paddingRight));\r\n\r\n    this.contentWidth = contentWidth;\r\n    this.viewportWidth = viewportWidth;\r\n\r\n    // Split slides into pages\r\n    // ===\r\n    const pages = [];\r\n    const slidesPerPage = this.option(\"slidesPerPage\");\r\n\r\n    if (Number.isInteger(slidesPerPage) && contentWidth > viewportWidth) {\r\n      // Fixed number of slides in the page\r\n      for (let i = 0; i < this.slides.length; i += slidesPerPage) {\r\n        pages.push({\r\n          indexes: indexes.slice(i, i + slidesPerPage),\r\n          slides: this.slides.slice(i, i + slidesPerPage),\r\n        });\r\n      }\r\n    } else {\r\n      // Slides that fit inside viewport\r\n      let currentPage = 0;\r\n      let currentWidth = 0;\r\n\r\n      for (let i = 0; i < this.slides.length; i += 1) {\r\n        let slide = this.slides[i];\r\n\r\n        // Add next page\r\n        if (!pages.length || currentWidth + slide.width > viewportWidth) {\r\n          pages.push({\r\n            indexes: [],\r\n            slides: [],\r\n          });\r\n\r\n          currentPage = pages.length - 1;\r\n          currentWidth = 0;\r\n        }\r\n\r\n        currentWidth += slide.width;\r\n\r\n        pages[currentPage].indexes.push(i);\r\n        pages[currentPage].slides.push(slide);\r\n      }\r\n    }\r\n\r\n    const shouldCenter = this.option(\"center\");\r\n    const shouldFill = this.option(\"fill\");\r\n\r\n    // Calculate width and start position for each page\r\n    // ===\r\n    pages.forEach((page, index) => {\r\n      page.index = index;\r\n      page.width = page.slides.reduce((sum, slide) => sum + slide.width, 0);\r\n\r\n      page.left = page.slides[0].left;\r\n\r\n      if (shouldCenter) {\r\n        page.left += (viewportWidth - page.width) * 0.5 * -1;\r\n      }\r\n\r\n      if (shouldFill && !this.option(\"infiniteX\", this.option(\"infinite\")) && contentWidth > viewportWidth) {\r\n        page.left = Math.max(page.left, 0);\r\n        page.left = Math.min(page.left, contentWidth - viewportWidth);\r\n      }\r\n    });\r\n\r\n    // Merge pages\r\n    // ===\r\n    const rez = [];\r\n    let prevPage;\r\n\r\n    pages.forEach((page2) => {\r\n      const page = { ...page2 };\r\n\r\n      if (prevPage && page.left === prevPage.left) {\r\n        prevPage.width += page.width;\r\n\r\n        prevPage.slides = [...prevPage.slides, ...page.slides];\r\n        prevPage.indexes = [...prevPage.indexes, ...page.indexes];\r\n      } else {\r\n        page.index = rez.length;\r\n\r\n        prevPage = page;\r\n\r\n        rez.push(page);\r\n      }\r\n    });\r\n\r\n    this.pages = rez;\r\n\r\n    let page = this.page;\r\n\r\n    if (page === null) {\r\n      const initialSlide = this.option(\"initialSlide\");\r\n\r\n      if (initialSlide !== null) {\r\n        page = this.findPageForSlide(initialSlide);\r\n      } else {\r\n        page = parseInt(this.option(\"initialPage\", 0), 10) || 0;\r\n      }\r\n\r\n      if (!rez[page]) {\r\n        page = rez.length && page > rez.length ? rez[rez.length - 1].index : 0;\r\n      }\r\n\r\n      this.page = page;\r\n      this.pageIndex = page;\r\n    }\r\n\r\n    this.updatePanzoom();\r\n\r\n    this.trigger(\"refresh\");\r\n  }\r\n\r\n  /**\r\n   * Calculate slide element width (including left, right margins)\r\n   * @param {Object} node\r\n   * @returns {Number} Width in px\r\n   */\r\n  getSlideMetrics(node) {\r\n    if (!node) {\r\n      const firstSlide = this.slides[0];\r\n\r\n      node = document.createElement(\"div\");\r\n\r\n      node.dataset.isTestEl = 1;\r\n      node.style.visibility = \"hidden\";\r\n      node.classList.add(...(this.option(\"prefix\") + this.option(\"classNames.slide\")).split(\" \"));\r\n\r\n      // Assume all slides have the same custom class, if any\r\n      if (firstSlide.customClass) {\r\n        node.classList.add(...firstSlide.customClass.split(\" \"));\r\n      }\r\n\r\n      this.$track.prepend(node);\r\n    }\r\n\r\n    let width = Math.max(node.offsetWidth, round(node.getBoundingClientRect().width));\r\n\r\n    // Add left/right margin\r\n    const style = node.currentStyle || window.getComputedStyle(node);\r\n    width = width + (parseFloat(style.marginLeft) || 0) + (parseFloat(style.marginRight) || 0);\r\n\r\n    if (node.dataset.isTestEl) {\r\n      node.remove();\r\n    }\r\n\r\n    return width;\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {Integer} index Index of the slide\r\n   * @returns {Integer|null} Index of the page if found, or null\r\n   */\r\n  findPageForSlide(index) {\r\n    index = parseInt(index, 10) || 0;\r\n\r\n    const page = this.pages.find((page) => {\r\n      return page.indexes.indexOf(index) > -1;\r\n    });\r\n\r\n    return page ? page.index : null;\r\n  }\r\n\r\n  /**\r\n   * Slide to next page, if possible\r\n   */\r\n  slideNext() {\r\n    this.slideTo(this.pageIndex + 1);\r\n  }\r\n\r\n  /**\r\n   * Slide to previous page, if possible\r\n   */\r\n  slidePrev() {\r\n    this.slideTo(this.pageIndex - 1);\r\n  }\r\n\r\n  /**\r\n   * Slides carousel to given page\r\n   * @param {Number} page - New index of active page\r\n   * @param {Object} [params] - Additional options\r\n   */\r\n  slideTo(page, params = {}) {\r\n    const { x = this.setPage(page, true) * -1, y = 0, friction = this.option(\"friction\") } = params;\r\n\r\n    if (this.Panzoom.content.x === x && !this.Panzoom.velocity.x && friction) {\r\n      return;\r\n    }\r\n\r\n    this.Panzoom.panTo({\r\n      x,\r\n      y,\r\n      friction,\r\n      ignoreBounds: true,\r\n    });\r\n\r\n    if (this.state === \"ready\" && this.Panzoom.state === \"ready\") {\r\n      this.trigger(\"settle\");\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Initialise main Panzoom instance\r\n   */\r\n  initPanzoom() {\r\n    if (this.Panzoom) {\r\n      this.Panzoom.destroy();\r\n    }\r\n\r\n    // Create fresh object containing options for Pazoom instance\r\n    const options = extend(\r\n      true,\r\n      {},\r\n      {\r\n        // Track element will be set as Panzoom $content\r\n        content: this.$track,\r\n        wrapInner: false,\r\n        resizeParent: false,\r\n\r\n        // Disable any user interaction\r\n        zoom: false,\r\n        click: false,\r\n\r\n        // Right now, only horizontal navigation is supported\r\n        lockAxis: \"x\",\r\n\r\n        x: this.pages.length ? this.pages[this.page].left * -1 : 0,\r\n        centerOnStart: false,\r\n\r\n        // Make `textSelection` option more easy to customize\r\n        textSelection: () => this.option(\"textSelection\", false),\r\n\r\n        // Disable dragging if content (e.g. all slides) fits inside viewport\r\n        panOnlyZoomed: function () {\r\n          return this.content.width <= this.viewport.width;\r\n        },\r\n      },\r\n      this.option(\"Panzoom\")\r\n    );\r\n\r\n    // Create new Panzoom instance\r\n    this.Panzoom = new Panzoom(this.$container, options);\r\n\r\n    this.Panzoom.on({\r\n      // Bubble events\r\n      \"*\": (name, ...details) => this.trigger(`Panzoom.${name}`, ...details),\r\n      // The rest of events to be processed\r\n      afterUpdate: () => {\r\n        this.updatePage();\r\n      },\r\n      beforeTransform: this.onBeforeTransform.bind(this),\r\n      touchEnd: this.onTouchEnd.bind(this),\r\n      endAnimation: () => {\r\n        this.trigger(\"settle\");\r\n      },\r\n    });\r\n\r\n    // The contents of the slides may cause the page scroll bar to appear, so the carousel width may change\r\n    // and slides have to be repositioned\r\n    this.updateMetrics();\r\n    this.manageSlideVisiblity();\r\n  }\r\n\r\n  updatePanzoom() {\r\n    if (!this.Panzoom) {\r\n      return;\r\n    }\r\n\r\n    this.Panzoom.content = {\r\n      ...this.Panzoom.content,\r\n      fitWidth: this.contentWidth,\r\n      origWidth: this.contentWidth,\r\n      width: this.contentWidth,\r\n    };\r\n\r\n    if (this.pages.length > 1 && this.option(\"infiniteX\", this.option(\"infinite\"))) {\r\n      this.Panzoom.boundX = null;\r\n    } else if (this.pages.length) {\r\n      this.Panzoom.boundX = {\r\n        from: this.pages[this.pages.length - 1].left * -1,\r\n        to: this.pages[0].left * -1,\r\n      };\r\n    }\r\n\r\n    if (this.option(\"infiniteY\", this.option(\"infinite\"))) {\r\n      this.Panzoom.boundY = null;\r\n    } else {\r\n      this.Panzoom.boundY = {\r\n        from: 0,\r\n        to: 0,\r\n      };\r\n    }\r\n\r\n    this.Panzoom.handleCursor();\r\n  }\r\n\r\n  manageSlideVisiblity() {\r\n    const contentWidth = this.contentWidth;\r\n    const viewportWidth = this.viewportWidth;\r\n\r\n    let currentX = this.Panzoom ? this.Panzoom.content.x * -1 : this.pages.length ? this.pages[this.page].left : 0;\r\n\r\n    const preload = this.option(\"preload\");\r\n    const infinite = this.option(\"infiniteX\", this.option(\"infinite\"));\r\n\r\n    const paddingLeft = parseFloat(getComputedStyle(this.$viewport, null).getPropertyValue(\"padding-left\"));\r\n    const paddingRight = parseFloat(getComputedStyle(this.$viewport, null).getPropertyValue(\"padding-right\"));\r\n\r\n    // Check visibility of each slide\r\n    this.slides.forEach((slide) => {\r\n      let leftBoundary, rightBoundary;\r\n\r\n      let hasDiff = 0;\r\n\r\n      // #1 - slides in current viewport; this does not include infinite items\r\n      leftBoundary = currentX - paddingLeft;\r\n      rightBoundary = currentX + viewportWidth + paddingRight;\r\n\r\n      leftBoundary -= preload * (viewportWidth + paddingLeft + paddingRight);\r\n      rightBoundary += preload * (viewportWidth + paddingLeft + paddingRight);\r\n\r\n      const insideCurrentInterval = slide.left + slide.width > leftBoundary && slide.left < rightBoundary;\r\n\r\n      // #2 - infinite items inside current viewport; from previous interval\r\n      leftBoundary = currentX + contentWidth - paddingLeft;\r\n      rightBoundary = currentX + contentWidth + viewportWidth + paddingRight;\r\n\r\n      // Include slides that have to be preloaded\r\n      leftBoundary -= preload * (viewportWidth + paddingLeft + paddingRight);\r\n\r\n      const insidePrevInterval = infinite && slide.left + slide.width > leftBoundary && slide.left < rightBoundary;\r\n\r\n      // #2 - infinite items inside current viewport; from next interval\r\n      leftBoundary = currentX - contentWidth - paddingLeft;\r\n      rightBoundary = currentX - contentWidth + viewportWidth + paddingRight;\r\n\r\n      // Include slides that have to be preloaded\r\n      leftBoundary -= preload * (viewportWidth + paddingLeft + paddingRight);\r\n\r\n      const insideNextInterval = infinite && slide.left + slide.width > leftBoundary && slide.left < rightBoundary;\r\n\r\n      // Create virtual slides that should be visible or preloaded, remove others\r\n      if (insidePrevInterval || insideCurrentInterval || insideNextInterval) {\r\n        this.createSlideEl(slide);\r\n\r\n        if (insideCurrentInterval) {\r\n          hasDiff = 0;\r\n        }\r\n\r\n        if (insidePrevInterval) {\r\n          hasDiff = -1;\r\n        }\r\n\r\n        if (insideNextInterval) {\r\n          hasDiff = 1;\r\n        }\r\n\r\n        // Bring preloaded slides back to viewport, if needed\r\n        if (slide.left + slide.width > currentX && slide.left <= currentX + viewportWidth + paddingRight) {\r\n          hasDiff = 0;\r\n        }\r\n      } else {\r\n        this.removeSlideEl(slide);\r\n      }\r\n\r\n      slide.hasDiff = hasDiff;\r\n    });\r\n\r\n    // Reposition slides for continuity\r\n    let nextIndex = 0;\r\n    let nextPos = 0;\r\n\r\n    this.slides.forEach((slide, index) => {\r\n      let updatedX = 0;\r\n\r\n      if (slide.$el) {\r\n        if (index !== nextIndex || slide.hasDiff) {\r\n          updatedX = nextPos + slide.hasDiff * contentWidth;\r\n        } else {\r\n          nextPos = 0;\r\n        }\r\n\r\n        slide.$el.style.left = Math.abs(updatedX) > 0.1 ? `${nextPos + slide.hasDiff * contentWidth}px` : \"\";\r\n\r\n        nextIndex++;\r\n      } else {\r\n        nextPos += slide.width;\r\n      }\r\n    });\r\n\r\n    this.markSelectedSlides();\r\n  }\r\n\r\n  /**\r\n   * Creates main DOM element for virtual slides,\r\n   * lazy loads images inside regular slides\r\n   * @param {Object} slide\r\n   */\r\n  createSlideEl(slide) {\r\n    if (!slide) {\r\n      return;\r\n    }\r\n\r\n    if (slide.$el) {\r\n      let curentIndex = slide.$el.dataset.index;\r\n\r\n      if (!curentIndex || parseInt(curentIndex, 10) !== slide.index) {\r\n        slide.$el.dataset.index = slide.index;\r\n\r\n        // Lazy load images\r\n        // ===\r\n        slide.$el.querySelectorAll(\"[data-lazy-srcset]\").forEach((node) => {\r\n          node.srcset = node.dataset.lazySrcset;\r\n        });\r\n\r\n        slide.$el.querySelectorAll(\"[data-lazy-src]\").forEach((node) => {\r\n          let lazySrc = node.dataset.lazySrc;\r\n\r\n          if (node instanceof HTMLImageElement) {\r\n            node.src = lazySrc;\r\n          } else {\r\n            node.style.backgroundImage = `url('${lazySrc}')`;\r\n          }\r\n        });\r\n\r\n        // Lazy load slide background image\r\n        // ===\r\n        let lazySrc;\r\n\r\n        if ((lazySrc = slide.$el.dataset.lazySrc)) {\r\n          slide.$el.style.backgroundImage = `url('${lazySrc}')`;\r\n        }\r\n\r\n        slide.state = \"ready\";\r\n      }\r\n\r\n      return;\r\n    }\r\n\r\n    const div = document.createElement(\"div\");\r\n\r\n    div.dataset.index = slide.index;\r\n    div.classList.add(...(this.option(\"prefix\") + this.option(\"classNames.slide\")).split(\" \"));\r\n\r\n    if (slide.customClass) {\r\n      div.classList.add(...slide.customClass.split(\" \"));\r\n    }\r\n\r\n    if (slide.html) {\r\n      div.innerHTML = slide.html;\r\n    }\r\n\r\n    const allElelements = [];\r\n\r\n    this.slides.forEach((slide, index) => {\r\n      if (slide.$el) {\r\n        allElelements.push(index);\r\n      }\r\n    });\r\n\r\n    // Find a place in DOM to insert an element\r\n    const goal = slide.index;\r\n    let refSlide = null;\r\n\r\n    if (allElelements.length) {\r\n      let refIndex = allElelements.reduce((prev, curr) =>\r\n        Math.abs(curr - goal) < Math.abs(prev - goal) ? curr : prev\r\n      );\r\n      refSlide = this.slides[refIndex];\r\n    }\r\n\r\n    this.$track.insertBefore(\r\n      div,\r\n      refSlide && refSlide.$el ? (refSlide.index < slide.index ? refSlide.$el.nextSibling : refSlide.$el) : null\r\n    );\r\n\r\n    slide.$el = div;\r\n\r\n    this.trigger(\"createSlide\", slide, goal);\r\n\r\n    return slide;\r\n  }\r\n\r\n  /**\r\n   * Removes main DOM element of given slide\r\n   * @param {Object} slide\r\n   */\r\n  removeSlideEl(slide) {\r\n    if (slide.$el && !slide.isDom) {\r\n      this.trigger(\"removeSlide\", slide);\r\n\r\n      slide.$el.remove();\r\n      slide.$el = null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Toggles selected class name and aria-hidden attribute for slides based on visibility\r\n   */\r\n  markSelectedSlides() {\r\n    const selectedClass = this.option(\"classNames.slideSelected\");\r\n    const attr = \"aria-hidden\";\r\n\r\n    this.slides.forEach((slide, index) => {\r\n      const $el = slide.$el;\r\n\r\n      if (!$el) {\r\n        return;\r\n      }\r\n\r\n      const page = this.pages[this.page];\r\n\r\n      if (page && page.indexes && page.indexes.indexOf(index) > -1) {\r\n        if (selectedClass && !$el.classList.contains(selectedClass)) {\r\n          $el.classList.add(selectedClass);\r\n          this.trigger(\"selectSlide\", slide);\r\n        }\r\n\r\n        $el.removeAttribute(attr);\r\n      } else {\r\n        if (selectedClass && $el.classList.contains(selectedClass)) {\r\n          $el.classList.remove(selectedClass);\r\n          this.trigger(\"unselectSlide\", slide);\r\n        }\r\n\r\n        $el.setAttribute(attr, true);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Perform all calculations and center current page\r\n   */\r\n  updatePage() {\r\n    this.updateMetrics();\r\n\r\n    this.slideTo(this.page, { friction: 0 });\r\n  }\r\n\r\n  /**\r\n   * Process `Panzoom.beforeTransform` event to remove slides moved out of viewport and\r\n   * to create necessary ones\r\n   */\r\n  onBeforeTransform() {\r\n    if (this.option(\"infiniteX\", this.option(\"infinite\"))) {\r\n      this.manageInfiniteTrack();\r\n    }\r\n\r\n    this.manageSlideVisiblity();\r\n  }\r\n\r\n  /**\r\n   * Seamlessly flip position of infinite carousel, if needed; this way x position stays low\r\n   */\r\n  manageInfiniteTrack() {\r\n    const contentWidth = this.contentWidth;\r\n    const viewportWidth = this.viewportWidth;\r\n\r\n    if (!this.option(\"infiniteX\", this.option(\"infinite\")) || this.pages.length < 2 || contentWidth < viewportWidth) {\r\n      return;\r\n    }\r\n\r\n    const panzoom = this.Panzoom;\r\n\r\n    let isFlipped = false;\r\n\r\n    if (panzoom.content.x < (contentWidth - viewportWidth) * -1) {\r\n      panzoom.content.x += contentWidth;\r\n\r\n      this.pageIndex = this.pageIndex - this.pages.length;\r\n\r\n      isFlipped = true;\r\n    }\r\n\r\n    if (panzoom.content.x > viewportWidth) {\r\n      panzoom.content.x -= contentWidth;\r\n\r\n      this.pageIndex = this.pageIndex + this.pages.length;\r\n\r\n      isFlipped = true;\r\n    }\r\n\r\n    if (isFlipped && panzoom.state === \"pointerdown\") {\r\n      panzoom.resetDragPosition();\r\n    }\r\n\r\n    return isFlipped;\r\n  }\r\n\r\n  /**\r\n   * Process `Panzoom.touchEnd` event; slide to next/prev page if needed\r\n   * @param {object} panzoom\r\n   */\r\n  onTouchEnd(panzoom, event) {\r\n    const dragFree = this.option(\"dragFree\");\r\n\r\n    // If this is a quick horizontal flick, slide to next/prev slide\r\n    if (\r\n      !dragFree &&\r\n      this.pages.length > 1 &&\r\n      panzoom.dragOffset.time < 350 &&\r\n      Math.abs(panzoom.dragOffset.y) < 1 &&\r\n      Math.abs(panzoom.dragOffset.x) > 5\r\n    ) {\r\n      this[panzoom.dragOffset.x < 0 ? \"slideNext\" : \"slidePrev\"]();\r\n      return;\r\n    }\r\n\r\n    // Set the slide at the end of the animation as the current one,\r\n    // or slide to closest page\r\n    if (dragFree) {\r\n      const [, nextPageIndex] = this.getPageFromPosition(panzoom.transform.x * -1);\r\n      this.setPage(nextPageIndex);\r\n    } else {\r\n      this.slideToClosest();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Slides to the closest page (useful, if carousel is changed manually)\r\n   * @param {Object} [params] - Object containing additional options\r\n   */\r\n  slideToClosest(params = {}) {\r\n    let [, nextPageIndex] = this.getPageFromPosition(this.Panzoom.content.x * -1);\r\n\r\n    this.slideTo(nextPageIndex, params);\r\n  }\r\n\r\n  /**\r\n   * Returns index of closest page to given x position\r\n   * @param {Number} xPos\r\n   */\r\n  getPageFromPosition(xPos) {\r\n    const pageCount = this.pages.length;\r\n    const center = this.option(\"center\");\r\n\r\n    if (center) {\r\n      xPos += this.viewportWidth * 0.5;\r\n    }\r\n\r\n    const interval = Math.floor(xPos / this.contentWidth);\r\n\r\n    xPos -= interval * this.contentWidth;\r\n\r\n    let slide = this.slides.find((slide) => slide.left <= xPos && slide.left + slide.width > xPos);\r\n\r\n    if (slide) {\r\n      let pageIndex = this.findPageForSlide(slide.index);\r\n\r\n      return [pageIndex, pageIndex + interval * pageCount];\r\n    }\r\n\r\n    return [0, 0];\r\n  }\r\n\r\n  /**\r\n   * Changes active page\r\n   * @param {Number} page - New index of active page\r\n   * @param {Boolean} toClosest - to closest page based on scroll distance (for infinite navigation)\r\n   */\r\n  setPage(page, toClosest) {\r\n    let nextPosition = 0;\r\n    let pageIndex = parseInt(page, 10) || 0;\r\n\r\n    const prevPage = this.page,\r\n      prevPageIndex = this.pageIndex,\r\n      pageCount = this.pages.length;\r\n\r\n    const contentWidth = this.contentWidth;\r\n    const viewportWidth = this.viewportWidth;\r\n\r\n    page = ((pageIndex % pageCount) + pageCount) % pageCount;\r\n\r\n    if (this.option(\"infiniteX\", this.option(\"infinite\")) && contentWidth > viewportWidth) {\r\n      const nextInterval = Math.floor(pageIndex / pageCount) || 0,\r\n        elemDimWidth = contentWidth;\r\n\r\n      nextPosition = this.pages[page].left + nextInterval * elemDimWidth;\r\n\r\n      if (toClosest === true && pageCount > 2) {\r\n        let currPosition = this.Panzoom.content.x * -1;\r\n\r\n        // * Find closest interval\r\n        const decreasedPosition = nextPosition - elemDimWidth,\r\n          increasedPosition = nextPosition + elemDimWidth,\r\n          diff1 = Math.abs(currPosition - nextPosition),\r\n          diff2 = Math.abs(currPosition - decreasedPosition),\r\n          diff3 = Math.abs(currPosition - increasedPosition);\r\n\r\n        if (diff3 < diff1 && diff3 <= diff2) {\r\n          nextPosition = increasedPosition;\r\n          pageIndex += pageCount;\r\n        } else if (diff2 < diff1 && diff2 < diff3) {\r\n          nextPosition = decreasedPosition;\r\n          pageIndex -= pageCount;\r\n        }\r\n      }\r\n    } else {\r\n      page = pageIndex = Math.max(0, Math.min(pageIndex, pageCount - 1));\r\n\r\n      nextPosition = this.pages.length ? this.pages[page].left : 0;\r\n    }\r\n\r\n    this.page = page;\r\n    this.pageIndex = pageIndex;\r\n\r\n    if (prevPage !== null && page !== prevPage) {\r\n      this.prevPage = prevPage;\r\n      this.prevPageIndex = prevPageIndex;\r\n\r\n      this.trigger(\"change\", page, prevPage);\r\n    }\r\n\r\n    return nextPosition;\r\n  }\r\n\r\n  /**\r\n   * Clean up\r\n   */\r\n  destroy() {\r\n    this.state = \"destroy\";\r\n\r\n    this.slides.forEach((slide) => {\r\n      this.removeSlideEl(slide);\r\n    });\r\n\r\n    this.slides = [];\r\n\r\n    this.Panzoom.destroy();\r\n\r\n    this.detachPlugins();\r\n  }\r\n}\r\n\r\n// Expose version\r\nCarousel.version = \"__VERSION__\";\r\n\r\n// Static properties are a recent addition that dont work in all browsers yet\r\nCarousel.Plugins = Plugins;\r\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _objectSpread;\nvar _defineProperty = _interopRequireDefault(require(\"./_define_property\"));\nfunction _objectSpread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === 'function') {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n        }\n        ownKeys.forEach(function(key) {\n            (0, _defineProperty).default(target, key, source[key]);\n        });\n    }\n    return target;\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","import { extend } from \"../shared/utils/extend.js\";\nimport { round } from \"../shared/utils/round.js\";\nimport { isScrollable } from \"../shared/utils/isScrollable.js\";\n\nimport { ResizeObserver } from \"../shared/utils/ResizeObserver.js\";\nimport { PointerTracker, getMidpoint, getDistance } from \"../shared/utils/PointerTracker.js\";\n\nimport { getTextNodeFromPoint } from \"../shared/utils/getTextNodeFromPoint.js\";\n\nimport { getFullWidth, getFullHeight, calculateAspectRatioFit } from \"../shared/utils/getDimensions.js\";\n\nimport { Base } from \"../shared/Base/Base.js\";\n\nimport { Plugins } from \"./plugins/index.js\";\n\nconst defaults = {\n  // Enable touch guestures\n  touch: true,\n\n  // Enable zooming\n  zoom: true,\n\n  // Enable pinch gesture to zoom in/out using two fingers\n  pinchToZoom: true,\n\n  // Disable dragging if scale level is equal to value of `baseScale` option\n  panOnlyZoomed: false,\n\n  // Lock axis while dragging,\n  // possible values: false | \"x\" | \"y\" | \"xy\"\n  lockAxis: false,\n\n  // * All friction values are inside [0, 1) interval,\n  // * where 0 would change instantly, but 0.99 would update extremely slowly\n\n  // Friction while panning/dragging\n  friction: 0.64,\n\n  // Friction while decelerating after drag end\n  decelFriction: 0.88,\n\n  // Friction while scaling\n  zoomFriction: 0.74,\n\n  // Bounciness after hitting the edge\n  bounceForce: 0.2,\n\n  // Initial scale level\n  baseScale: 1,\n\n  // Minimum scale level\n  minScale: 1,\n\n  // Maximum scale level\n  maxScale: 2,\n\n  // Default scale step while zooming\n  step: 0.5,\n\n  // Allow to select text,\n  // if enabled, dragging will be disabled when text selection is detected\n  textSelection: false,\n\n  // Add `click` event listener,\n  // possible values: true | false | function | \"toggleZoom\"\n  click: \"toggleZoom\",\n\n  // Add `wheel` event listener,\n  // possible values: true | false | function |  \"zoom\"\n  wheel: \"zoom\",\n\n  // Value for zoom on mouse wheel\n  wheelFactor: 42,\n\n  // Number of wheel events after which it should stop preventing default behaviour of mouse wheel\n  wheelLimit: 5,\n\n  // Class name added to `$viewport` element to indicate if content is draggable\n  draggableClass: \"is-draggable\",\n\n  // Class name added to `$viewport` element to indicate that user is currently dragging\n  draggingClass: \"is-dragging\",\n\n  // Content will be scaled by this number,\n  // this can also be a function which should return a number, for example:\n  // ratio: function() { return 1 / (window.devicePixelRatio || 1) }\n  ratio: 1,\n};\n\nexport class Panzoom extends Base {\n  /**\n   * Panzoom constructor\n   * @constructs Panzoom\n   * @param {HTMLElement} $viewport Panzoom container\n   * @param {Object} [options] Options for Panzoom\n   */\n  constructor($container, options = {}) {\n    super(extend(true, {}, defaults, options));\n\n    this.state = \"init\";\n\n    this.$container = $container;\n\n    // Bind event handlers for referencability\n    for (const methodName of [\"onLoad\", \"onWheel\", \"onClick\"]) {\n      this[methodName] = this[methodName].bind(this);\n    }\n\n    this.initLayout();\n\n    this.resetValues();\n\n    this.attachPlugins(Panzoom.Plugins);\n\n    this.trigger(\"init\");\n\n    this.updateMetrics();\n\n    this.attachEvents();\n\n    this.trigger(\"ready\");\n\n    if (this.option(\"centerOnStart\") === false) {\n      this.state = \"ready\";\n    } else {\n      this.panTo({\n        friction: 0,\n      });\n    }\n\n    $container.__Panzoom = this;\n  }\n\n  /**\n   * Create references to container, viewport and content elements\n   */\n  initLayout() {\n    const $container = this.$container;\n\n    // Make sure content element exists\n    if (!($container instanceof HTMLElement)) {\n      throw new Error(\"Panzoom: Container not found\");\n    }\n\n    const $content = this.option(\"content\") || $container.querySelector(\".panzoom__content\");\n\n    // Make sure content element exists\n    if (!$content) {\n      throw new Error(\"Panzoom: Content not found\");\n    }\n\n    this.$content = $content;\n\n    let $viewport = this.option(\"viewport\") || $container.querySelector(\".panzoom__viewport\");\n\n    if (!$viewport && this.option(\"wrapInner\") !== false) {\n      $viewport = document.createElement(\"div\");\n      $viewport.classList.add(\"panzoom__viewport\");\n\n      $viewport.append(...$container.childNodes);\n\n      $container.appendChild($viewport);\n    }\n\n    this.$viewport = $viewport || $content.parentNode;\n  }\n\n  /**\n   * Restore instance variables to default values\n   */\n  resetValues() {\n    this.updateRate = this.option(\"updateRate\", /iPhone|iPad|iPod|Android/i.test(navigator.userAgent) ? 250 : 24);\n\n    this.container = {\n      width: 0,\n      height: 0,\n    };\n\n    this.viewport = {\n      width: 0,\n      height: 0,\n    };\n\n    this.content = {\n      // Full content dimensions (naturalWidth/naturalHeight for images)\n      origWidth: 0,\n      origHeight: 0,\n\n      // Current dimensions of the content\n      width: 0,\n      height: 0,\n\n      // Current position; these values reflect CSS `transform` value\n      x: this.option(\"x\", 0),\n      y: this.option(\"y\", 0),\n\n      // Current scale; does not reflect CSS `transform` value\n      scale: this.option(\"baseScale\"),\n    };\n\n    // End values of current pan / zoom animation\n    this.transform = {\n      x: 0,\n      y: 0,\n      scale: 1,\n    };\n\n    this.resetDragPosition();\n  }\n\n  /**\n   * Handle `load` event\n   * @param {Event} event\n   */\n  onLoad(event) {\n    this.updateMetrics();\n\n    this.panTo({ scale: this.option(\"baseScale\"), friction: 0 });\n\n    this.trigger(\"load\", event);\n  }\n\n  /**\n   * Handle `click` event\n   * @param {Event} event\n   */\n  onClick(event) {\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    if (document.activeElement && document.activeElement.closest(\"[contenteditable]\")) {\n      return;\n    }\n\n    // Skip if text is selected\n    if (\n      this.option(\"textSelection\") &&\n      window.getSelection().toString().length &&\n      !(event.target && event.target.hasAttribute(\"data-fancybox-close\"))\n    ) {\n      event.stopPropagation();\n      return;\n    }\n\n    const rect = this.$content.getClientRects()[0];\n\n    // Check if container has changed position (for example, when current instance is inside another one)\n    if (this.state !== \"ready\") {\n      if (\n        this.dragPosition.midPoint ||\n        Math.abs(rect.top - this.dragStart.rect.top) > 1 ||\n        Math.abs(rect.left - this.dragStart.rect.left) > 1\n      ) {\n        event.preventDefault();\n        event.stopPropagation();\n\n        return;\n      }\n    }\n\n    if (this.trigger(\"click\", event) === false) {\n      return;\n    }\n\n    if (this.option(\"zoom\") && this.option(\"click\") === \"toggleZoom\") {\n      event.preventDefault();\n      event.stopPropagation();\n\n      this.zoomWithClick(event);\n    }\n  }\n\n  /**\n   * Handle `wheel` event\n   * @param {Event} event\n   */\n  onWheel(event) {\n    if (this.trigger(\"wheel\", event) === false) {\n      return;\n    }\n\n    if (this.option(\"zoom\") && this.option(\"wheel\")) {\n      this.zoomWithWheel(event);\n    }\n  }\n\n  /**\n   * Change zoom level depending on scroll direction\n   * @param {Event} event `wheel` event\n   */\n  zoomWithWheel(event) {\n    if (this.changedDelta === undefined) {\n      this.changedDelta = 0;\n    }\n\n    const delta = Math.max(-1, Math.min(1, -event.deltaY || -event.deltaX || event.wheelDelta || -event.detail));\n    const scale = this.content.scale;\n\n    let newScale = (scale * (100 + delta * this.option(\"wheelFactor\"))) / 100;\n\n    if (\n      (delta < 0 && Math.abs(scale - this.option(\"minScale\")) < 0.01) ||\n      (delta > 0 && Math.abs(scale - this.option(\"maxScale\")) < 0.01)\n    ) {\n      this.changedDelta += Math.abs(delta);\n      newScale = scale;\n    } else {\n      this.changedDelta = 0;\n      newScale = Math.max(Math.min(newScale, this.option(\"maxScale\")), this.option(\"minScale\"));\n    }\n\n    if (this.changedDelta > this.option(\"wheelLimit\")) {\n      return;\n    }\n\n    event.preventDefault();\n\n    if (newScale === scale) {\n      return;\n    }\n\n    const rect = this.$content.getBoundingClientRect();\n\n    const x = event.clientX - rect.left;\n    const y = event.clientY - rect.top;\n\n    this.zoomTo(newScale, { x, y });\n  }\n\n  /**\n   * Change zoom level depending on click coordinates\n   * @param {Event} event `click` event\n   */\n  zoomWithClick(event) {\n    const rect = this.$content.getClientRects()[0];\n\n    const x = event.clientX - rect.left;\n    const y = event.clientY - rect.top;\n\n    this.toggleZoom({ x, y });\n  }\n\n  /**\n   * Attach load, wheel and click event listeners, initialize `resizeObserver` and `PointerTracker`\n   */\n  attachEvents() {\n    this.$content.addEventListener(\"load\", this.onLoad);\n\n    this.$container.addEventListener(\"wheel\", this.onWheel, { passive: false });\n    this.$container.addEventListener(\"click\", this.onClick, { passive: false });\n\n    this.initObserver();\n\n    const pointerTracker = new PointerTracker(this.$container, {\n      start: (pointer, event) => {\n        if (!this.option(\"touch\")) {\n          return false;\n        }\n\n        if (this.velocity.scale < 0) {\n          return false;\n        }\n\n        const target = event.composedPath()[0];\n\n        if (!pointerTracker.currentPointers.length) {\n          const ignoreClickedElement =\n            [\"BUTTON\", \"TEXTAREA\", \"OPTION\", \"INPUT\", \"SELECT\", \"VIDEO\"].indexOf(target.nodeName) !== -1;\n\n          if (ignoreClickedElement) {\n            return false;\n          }\n\n          // Allow text selection\n          if (this.option(\"textSelection\") && getTextNodeFromPoint(target, pointer.clientX, pointer.clientY)) {\n            return false;\n          }\n        }\n\n        if (isScrollable(target)) {\n          return false;\n        }\n\n        if (this.trigger(\"touchStart\", event) === false) {\n          return false;\n        }\n\n        if (event.type === \"mousedown\") {\n          event.preventDefault();\n        }\n\n        this.state = \"pointerdown\";\n\n        this.resetDragPosition();\n\n        this.dragPosition.midPoint = null;\n        this.dragPosition.time = Date.now();\n\n        return true;\n      },\n      move: (previousPointers, currentPointers, event) => {\n        if (this.state !== \"pointerdown\") {\n          return;\n        }\n\n        if (this.trigger(\"touchMove\", event) === false) {\n          event.preventDefault();\n          return;\n        }\n\n        // Disable touch action if current zoom level is below base level\n        if (\n          currentPointers.length < 2 &&\n          this.option(\"panOnlyZoomed\") === true &&\n          this.content.width <= this.viewport.width &&\n          this.content.height <= this.viewport.height &&\n          this.transform.scale <= this.option(\"baseScale\")\n        ) {\n          return;\n        }\n\n        if (currentPointers.length > 1 && (!this.option(\"zoom\") || this.option(\"pinchToZoom\") === false)) {\n          return;\n        }\n\n        const prevMidpoint = getMidpoint(previousPointers[0], previousPointers[1]);\n        const newMidpoint = getMidpoint(currentPointers[0], currentPointers[1]);\n\n        const panX = newMidpoint.clientX - prevMidpoint.clientX;\n        const panY = newMidpoint.clientY - prevMidpoint.clientY;\n\n        const prevDistance = getDistance(previousPointers[0], previousPointers[1]);\n        const newDistance = getDistance(currentPointers[0], currentPointers[1]);\n\n        const scaleDiff = prevDistance && newDistance ? newDistance / prevDistance : 1;\n\n        this.dragOffset.x += panX;\n        this.dragOffset.y += panY;\n\n        this.dragOffset.scale *= scaleDiff;\n\n        this.dragOffset.time = Date.now() - this.dragPosition.time;\n\n        const axisToLock = this.dragStart.scale === 1 && this.option(\"lockAxis\");\n\n        if (axisToLock && !this.lockAxis) {\n          if (Math.abs(this.dragOffset.x) < 6 && Math.abs(this.dragOffset.y) < 6) {\n            event.preventDefault();\n            return;\n          }\n\n          const angle = Math.abs((Math.atan2(this.dragOffset.y, this.dragOffset.x) * 180) / Math.PI);\n\n          this.lockAxis = angle > 45 && angle < 135 ? \"y\" : \"x\";\n        }\n\n        if (axisToLock !== \"xy\" && this.lockAxis === \"y\") {\n          return;\n        }\n\n        event.preventDefault();\n        event.stopPropagation();\n\n        event.stopImmediatePropagation();\n\n        if (this.lockAxis) {\n          this.dragOffset[this.lockAxis === \"x\" ? \"y\" : \"x\"] = 0;\n        }\n\n        this.$container.classList.add(this.option(\"draggingClass\"));\n\n        if (!(this.transform.scale === this.option(\"baseScale\") && this.lockAxis === \"y\")) {\n          this.dragPosition.x = this.dragStart.x + this.dragOffset.x;\n        }\n\n        if (!(this.transform.scale === this.option(\"baseScale\") && this.lockAxis === \"x\")) {\n          this.dragPosition.y = this.dragStart.y + this.dragOffset.y;\n        }\n\n        this.dragPosition.scale = this.dragStart.scale * this.dragOffset.scale;\n\n        if (currentPointers.length > 1) {\n          const startPoint = getMidpoint(pointerTracker.startPointers[0], pointerTracker.startPointers[1]);\n\n          const xPos = startPoint.clientX - this.dragStart.rect.x;\n          const yPos = startPoint.clientY - this.dragStart.rect.y;\n\n          const { deltaX, deltaY } = this.getZoomDelta(this.content.scale * this.dragOffset.scale, xPos, yPos);\n\n          this.dragPosition.x -= deltaX;\n          this.dragPosition.y -= deltaY;\n\n          this.dragPosition.midPoint = newMidpoint;\n        } else {\n          this.setDragResistance();\n        }\n\n        // Update final position\n        this.transform = {\n          x: this.dragPosition.x,\n          y: this.dragPosition.y,\n          scale: this.dragPosition.scale,\n        };\n\n        this.startAnimation();\n      },\n      end: (pointer, event) => {\n        if (this.state !== \"pointerdown\") {\n          return;\n        }\n\n        this._dragOffset = { ...this.dragOffset };\n\n        if (pointerTracker.currentPointers.length) {\n          this.resetDragPosition();\n\n          return;\n        }\n\n        this.state = \"decel\";\n        this.friction = this.option(\"decelFriction\");\n\n        this.recalculateTransform();\n\n        this.$container.classList.remove(this.option(\"draggingClass\"));\n\n        if (this.trigger(\"touchEnd\", event) === false) {\n          return;\n        }\n\n        if (this.state !== \"decel\") {\n          return;\n        }\n\n        // * Check if scaled content past limits\n\n        // Below minimum\n        const minScale = this.option(\"minScale\");\n\n        if (this.transform.scale < minScale) {\n          this.zoomTo(minScale, { friction: 0.64 });\n\n          return;\n        }\n\n        // Exceed maximum\n        const maxScale = this.option(\"maxScale\");\n\n        if (this.transform.scale - maxScale > 0.01) {\n          const last = this.dragPosition.midPoint || pointer;\n          const rect = this.$content.getClientRects()[0];\n\n          this.zoomTo(maxScale, {\n            friction: 0.64,\n            x: last.clientX - rect.left,\n            y: last.clientY - rect.top,\n          });\n\n          return;\n        }\n      },\n    });\n\n    this.pointerTracker = pointerTracker;\n  }\n\n  initObserver() {\n    if (this.resizeObserver) {\n      return;\n    }\n\n    this.resizeObserver = new ResizeObserver(() => {\n      if (this.updateTimer) {\n        return;\n      }\n\n      this.updateTimer = setTimeout(() => {\n        const rect = this.$container.getBoundingClientRect();\n\n        if (!(rect.width && rect.height)) {\n          this.updateTimer = null;\n          return;\n        }\n\n        // Check to see if there are any changes\n        if (Math.abs(rect.width - this.container.width) > 1 || Math.abs(rect.height - this.container.height) > 1) {\n          if (this.isAnimating()) {\n            this.endAnimation(true);\n          }\n\n          this.updateMetrics();\n\n          this.panTo({\n            x: this.content.x,\n            y: this.content.y,\n            scale: this.option(\"baseScale\"),\n            friction: 0,\n          });\n        }\n\n        this.updateTimer = null;\n      }, this.updateRate);\n    });\n\n    this.resizeObserver.observe(this.$container);\n  }\n\n  /**\n   * Restore drag related variables to default values\n   */\n  resetDragPosition() {\n    this.lockAxis = null;\n    this.friction = this.option(\"friction\");\n\n    this.velocity = {\n      x: 0,\n      y: 0,\n      scale: 0,\n    };\n\n    const { x, y, scale } = this.content;\n\n    this.dragStart = {\n      rect: this.$content.getBoundingClientRect(),\n      x,\n      y,\n      scale,\n    };\n\n    this.dragPosition = {\n      ...this.dragPosition,\n      x,\n      y,\n      scale,\n    };\n\n    this.dragOffset = {\n      x: 0,\n      y: 0,\n      scale: 1,\n      time: 0,\n    };\n  }\n\n  /**\n   * Trigger update events before/after resizing content and viewport\n   * @param {Boolean} silently Should trigger `afterUpdate` event at the end\n   */\n  updateMetrics(silently) {\n    if (silently !== true) {\n      this.trigger(\"beforeUpdate\");\n    }\n\n    const $container = this.$container;\n    const $content = this.$content;\n    const $viewport = this.$viewport;\n\n    const contentIsImage = $content instanceof HTMLImageElement;\n    const contentIsZoomable = this.option(\"zoom\");\n    const shouldResizeParent = this.option(\"resizeParent\", contentIsZoomable);\n\n    let width = this.option(\"width\");\n    let height = this.option(\"height\");\n\n    let origWidth = width || getFullWidth($content);\n    let origHeight = height || getFullHeight($content);\n\n    Object.assign($content.style, {\n      width: width ? `${width}px` : \"\",\n      height: height ? `${height}px` : \"\",\n      maxWidth: \"\",\n      maxHeight: \"\",\n    });\n\n    if (shouldResizeParent) {\n      Object.assign($viewport.style, { width: \"\", height: \"\" });\n    }\n\n    const ratio = this.option(\"ratio\");\n\n    origWidth = round(origWidth * ratio);\n    origHeight = round(origHeight * ratio);\n\n    width = origWidth;\n    height = origHeight;\n\n    const contentRect = $content.getBoundingClientRect();\n    const viewportRect = $viewport.getBoundingClientRect();\n\n    const containerRect = $viewport == $container ? viewportRect : $container.getBoundingClientRect();\n\n    let viewportWidth = Math.max($viewport.offsetWidth, round(viewportRect.width));\n    let viewportHeight = Math.max($viewport.offsetHeight, round(viewportRect.height));\n\n    let viewportStyles = window.getComputedStyle($viewport);\n    viewportWidth -= parseFloat(viewportStyles.paddingLeft) + parseFloat(viewportStyles.paddingRight);\n    viewportHeight -= parseFloat(viewportStyles.paddingTop) + parseFloat(viewportStyles.paddingBottom);\n\n    this.viewport.width = viewportWidth;\n    this.viewport.height = viewportHeight;\n\n    if (contentIsZoomable) {\n      if (Math.abs(origWidth - contentRect.width) > 0.1 || Math.abs(origHeight - contentRect.height) > 0.1) {\n        const rez = calculateAspectRatioFit(\n          origWidth,\n          origHeight,\n          Math.min(origWidth, contentRect.width),\n          Math.min(origHeight, contentRect.height)\n        );\n\n        width = round(rez.width);\n        height = round(rez.height);\n      }\n\n      Object.assign($content.style, {\n        width: `${width}px`,\n        height: `${height}px`,\n        transform: \"\",\n      });\n    }\n\n    if (shouldResizeParent) {\n      Object.assign($viewport.style, { width: `${width}px`, height: `${height}px` });\n\n      this.viewport = { ...this.viewport, width, height };\n    }\n\n    if (contentIsImage && contentIsZoomable && typeof this.options.maxScale !== \"function\") {\n      const maxScale = this.option(\"maxScale\");\n\n      this.options.maxScale = function () {\n        return this.content.origWidth > 0 && this.content.fitWidth > 0\n          ? this.content.origWidth / this.content.fitWidth\n          : maxScale;\n      };\n    }\n\n    this.content = {\n      ...this.content,\n      origWidth,\n      origHeight,\n      fitWidth: width,\n      fitHeight: height,\n      width,\n      height,\n      scale: 1,\n      isZoomable: contentIsZoomable,\n    };\n\n    this.container = { width: containerRect.width, height: containerRect.height };\n\n    if (silently !== true) {\n      this.trigger(\"afterUpdate\");\n    }\n  }\n\n  /**\n   * Increase zoom level\n   * @param {Number} [step] Zoom ratio; `0.5` would increase scale from 1 to 1.5\n   */\n  zoomIn(step) {\n    this.zoomTo(this.content.scale + (step || this.option(\"step\")));\n  }\n\n  /**\n   * Decrease zoom level\n   * @param {Number} [step] Zoom ratio; `0.5` would decrease scale from 1.5 to 1\n   */\n  zoomOut(step) {\n    this.zoomTo(this.content.scale - (step || this.option(\"step\")));\n  }\n\n  /**\n   * Toggles zoom level between max and base levels\n   * @param {Object} [options] Additional options\n   */\n  toggleZoom(props = {}) {\n    const maxScale = this.option(\"maxScale\");\n    const baseScale = this.option(\"baseScale\");\n\n    const scale = this.content.scale > baseScale + (maxScale - baseScale) * 0.5 ? baseScale : maxScale;\n\n    this.zoomTo(scale, props);\n  }\n\n  /**\n   * Animate to given zoom level\n   * @param {Number} scale New zoom level\n   * @param {Object} [options] Additional options\n   */\n  zoomTo(scale = this.option(\"baseScale\"), { x = null, y = null } = {}) {\n    scale = Math.max(Math.min(scale, this.option(\"maxScale\")), this.option(\"minScale\"));\n\n    // Adjust zoom position\n    const currentScale = round(this.content.scale / (this.content.width / this.content.fitWidth), 10000000);\n\n    if (x === null) {\n      x = this.content.width * currentScale * 0.5;\n    }\n\n    if (y === null) {\n      y = this.content.height * currentScale * 0.5;\n    }\n\n    const { deltaX, deltaY } = this.getZoomDelta(scale, x, y);\n\n    x = this.content.x - deltaX;\n    y = this.content.y - deltaY;\n\n    this.panTo({ x, y, scale, friction: this.option(\"zoomFriction\") });\n  }\n\n  /**\n   * Calculate difference for top/left values if content would scale at given coordinates\n   * @param {Number} scale\n   * @param {Number} x\n   * @param {Number} y\n   * @returns {Object}\n   */\n  getZoomDelta(scale, x = 0, y = 0) {\n    const currentWidth = this.content.fitWidth * this.content.scale;\n    const currentHeight = this.content.fitHeight * this.content.scale;\n\n    const percentXInCurrentBox = x > 0 && currentWidth ? x / currentWidth : 0;\n    const percentYInCurrentBox = y > 0 && currentHeight ? y / currentHeight : 0;\n\n    const nextWidth = this.content.fitWidth * scale;\n    const nextHeight = this.content.fitHeight * scale;\n\n    const deltaX = (nextWidth - currentWidth) * percentXInCurrentBox;\n    const deltaY = (nextHeight - currentHeight) * percentYInCurrentBox;\n\n    return { deltaX, deltaY };\n  }\n\n  /**\n   * Animate to given positon and/or zoom level\n   * @param {Object} [options] Additional options\n   */\n  panTo({\n    x = this.content.x,\n    y = this.content.y,\n    scale,\n    friction = this.option(\"friction\"),\n    ignoreBounds = false,\n  } = {}) {\n    scale = scale || this.content.scale || 1;\n\n    if (!ignoreBounds) {\n      const { boundX, boundY } = this.getBounds(scale);\n\n      if (boundX) {\n        x = Math.max(Math.min(x, boundX.to), boundX.from);\n      }\n\n      if (boundY) {\n        y = Math.max(Math.min(y, boundY.to), boundY.from);\n      }\n    }\n\n    this.friction = friction;\n\n    this.transform = {\n      ...this.transform,\n      x,\n      y,\n      scale,\n    };\n\n    if (friction) {\n      this.state = \"panning\";\n\n      this.velocity = {\n        x: (1 / this.friction - 1) * (x - this.content.x),\n        y: (1 / this.friction - 1) * (y - this.content.y),\n        scale: (1 / this.friction - 1) * (scale - this.content.scale),\n      };\n\n      this.startAnimation();\n    } else {\n      this.endAnimation();\n    }\n  }\n\n  /**\n   * Start animation loop\n   */\n  startAnimation() {\n    if (!this.rAF) {\n      this.trigger(\"startAnimation\");\n    } else {\n      cancelAnimationFrame(this.rAF);\n    }\n\n    this.rAF = requestAnimationFrame(() => this.animate());\n  }\n\n  /**\n   * Process animation frame\n   */\n  animate() {\n    this.setEdgeForce();\n    this.setDragForce();\n\n    this.velocity.x *= this.friction;\n    this.velocity.y *= this.friction;\n\n    this.velocity.scale *= this.friction;\n\n    this.content.x += this.velocity.x;\n    this.content.y += this.velocity.y;\n\n    this.content.scale += this.velocity.scale;\n\n    if (this.isAnimating()) {\n      this.setTransform();\n    } else if (this.state !== \"pointerdown\") {\n      this.endAnimation();\n\n      return;\n    }\n\n    this.rAF = requestAnimationFrame(() => this.animate());\n  }\n\n  /**\n   * Calculate boundaries\n   */\n  getBounds(scale) {\n    let boundX = this.boundX;\n    let boundY = this.boundY;\n\n    if (boundX !== undefined && boundY !== undefined) {\n      return { boundX, boundY };\n    }\n\n    boundX = { from: 0, to: 0 };\n    boundY = { from: 0, to: 0 };\n\n    scale = scale || this.transform.scale;\n\n    const width = this.content.fitWidth * scale;\n    const height = this.content.fitHeight * scale;\n\n    const viewportWidth = this.viewport.width;\n    const viewportHeight = this.viewport.height;\n\n    if (width < viewportWidth) {\n      const deltaX = round((viewportWidth - width) * 0.5);\n\n      boundX.from = deltaX;\n      boundX.to = deltaX;\n    } else {\n      boundX.from = round(viewportWidth - width);\n    }\n\n    if (height < viewportHeight) {\n      const deltaY = (viewportHeight - height) * 0.5;\n\n      boundY.from = deltaY;\n      boundY.to = deltaY;\n    } else {\n      boundY.from = round(viewportHeight - height);\n    }\n\n    return { boundX, boundY };\n  }\n\n  /**\n   * Change animation velocity if boundary is reached\n   */\n  setEdgeForce() {\n    if (this.state !== \"decel\") {\n      return;\n    }\n\n    const bounceForce = this.option(\"bounceForce\");\n\n    const { boundX, boundY } = this.getBounds(Math.max(this.transform.scale, this.content.scale));\n\n    let pastLeft, pastRight, pastTop, pastBottom;\n\n    if (boundX) {\n      pastLeft = this.content.x < boundX.from;\n      pastRight = this.content.x > boundX.to;\n    }\n\n    if (boundY) {\n      pastTop = this.content.y < boundY.from;\n      pastBottom = this.content.y > boundY.to;\n    }\n\n    if (pastLeft || pastRight) {\n      const bound = pastLeft ? boundX.from : boundX.to;\n      const distance = bound - this.content.x;\n\n      let force = distance * bounceForce;\n\n      const restX = this.content.x + (this.velocity.x + force) / this.friction;\n\n      if (restX >= boundX.from && restX <= boundX.to) {\n        force += this.velocity.x;\n      }\n\n      this.velocity.x = force;\n\n      this.recalculateTransform();\n    }\n\n    if (pastTop || pastBottom) {\n      const bound = pastTop ? boundY.from : boundY.to;\n      const distance = bound - this.content.y;\n\n      let force = distance * bounceForce;\n\n      const restY = this.content.y + (force + this.velocity.y) / this.friction;\n\n      if (restY >= boundY.from && restY <= boundY.to) {\n        force += this.velocity.y;\n      }\n\n      this.velocity.y = force;\n\n      this.recalculateTransform();\n    }\n  }\n\n  /**\n   * Change dragging position if boundary is reached\n   */\n  setDragResistance() {\n    if (this.state !== \"pointerdown\") {\n      return;\n    }\n\n    const { boundX, boundY } = this.getBounds(this.dragPosition.scale);\n\n    let pastLeft, pastRight, pastTop, pastBottom;\n\n    if (boundX) {\n      pastLeft = this.dragPosition.x < boundX.from;\n      pastRight = this.dragPosition.x > boundX.to;\n    }\n\n    if (boundY) {\n      pastTop = this.dragPosition.y < boundY.from;\n      pastBottom = this.dragPosition.y > boundY.to;\n    }\n\n    if ((pastLeft || pastRight) && !(pastLeft && pastRight)) {\n      const bound = pastLeft ? boundX.from : boundX.to;\n      const distance = bound - this.dragPosition.x;\n\n      this.dragPosition.x = bound - distance * 0.3;\n    }\n\n    if ((pastTop || pastBottom) && !(pastTop && pastBottom)) {\n      const bound = pastTop ? boundY.from : boundY.to;\n      const distance = bound - this.dragPosition.y;\n\n      this.dragPosition.y = bound - distance * 0.3;\n    }\n  }\n\n  /**\n   * Set velocity to move content to drag position\n   */\n  setDragForce() {\n    if (this.state === \"pointerdown\") {\n      this.velocity.x = this.dragPosition.x - this.content.x;\n      this.velocity.y = this.dragPosition.y - this.content.y;\n      this.velocity.scale = this.dragPosition.scale - this.content.scale;\n    }\n  }\n\n  /**\n   * Update end values based on current velocity and friction;\n   */\n  recalculateTransform() {\n    this.transform.x = this.content.x + this.velocity.x / (1 / this.friction - 1);\n    this.transform.y = this.content.y + this.velocity.y / (1 / this.friction - 1);\n    this.transform.scale = this.content.scale + this.velocity.scale / (1 / this.friction - 1);\n  }\n\n  /**\n   * Check if content is currently animating\n   * @returns {Boolean}\n   */\n  isAnimating() {\n    return !!(\n      this.friction &&\n      (Math.abs(this.velocity.x) > 0.05 || Math.abs(this.velocity.y) > 0.05 || Math.abs(this.velocity.scale) > 0.05)\n    );\n  }\n\n  /**\n   * Set content `style.transform` value based on current animation frame\n   */\n  setTransform(final) {\n    let x, y, scale;\n\n    if (final) {\n      x = round(this.transform.x);\n      y = round(this.transform.y);\n\n      scale = this.transform.scale;\n\n      this.content = { ...this.content, x, y, scale };\n    } else {\n      x = round(this.content.x);\n      y = round(this.content.y);\n\n      scale = this.content.scale / (this.content.width / this.content.fitWidth);\n\n      this.content = { ...this.content, x, y };\n    }\n\n    this.trigger(\"beforeTransform\");\n\n    x = round(this.content.x);\n    y = round(this.content.y);\n\n    if (final && this.option(\"zoom\")) {\n      let width;\n      let height;\n\n      width = round(this.content.fitWidth * scale);\n      height = round(this.content.fitHeight * scale);\n\n      this.content.width = width;\n      this.content.height = height;\n\n      this.transform = { ...this.transform, width, height, scale };\n\n      Object.assign(this.$content.style, {\n        width: `${width}px`,\n        height: `${height}px`,\n        maxWidth: \"none\",\n        maxHeight: \"none\",\n        transform: `translate3d(${x}px, ${y}px, 0) scale(1)`,\n      });\n    } else {\n      this.$content.style.transform = `translate3d(${x}px, ${y}px, 0) scale(${scale})`;\n    }\n\n    this.trigger(\"afterTransform\");\n  }\n\n  /**\n   * Stop animation loop\n   */\n  endAnimation(silently) {\n    cancelAnimationFrame(this.rAF);\n    this.rAF = null;\n\n    this.velocity = {\n      x: 0,\n      y: 0,\n      scale: 0,\n    };\n\n    this.setTransform(true);\n\n    this.state = \"ready\";\n\n    this.handleCursor();\n\n    if (silently !== true) {\n      this.trigger(\"endAnimation\");\n    }\n  }\n\n  /**\n   * Update the class name depending on whether the content is scaled\n   */\n  handleCursor() {\n    const draggableClass = this.option(\"draggableClass\");\n\n    if (!draggableClass || !this.option(\"touch\")) {\n      return;\n    }\n\n    if (\n      this.option(\"panOnlyZoomed\") == true &&\n      this.content.width <= this.viewport.width &&\n      this.content.height <= this.viewport.height &&\n      this.transform.scale <= this.option(\"baseScale\")\n    ) {\n      this.$container.classList.remove(draggableClass);\n    } else {\n      this.$container.classList.add(draggableClass);\n    }\n  }\n\n  /**\n   * Remove observation and detach event listeners\n   */\n  detachEvents() {\n    this.$content.removeEventListener(\"load\", this.onLoad);\n\n    this.$container.removeEventListener(\"wheel\", this.onWheel, { passive: false });\n    this.$container.removeEventListener(\"click\", this.onClick, { passive: false });\n\n    if (this.pointerTracker) {\n      this.pointerTracker.stop();\n      this.pointerTracker = null;\n    }\n\n    if (this.resizeObserver) {\n      this.resizeObserver.disconnect();\n      this.resizeObserver = null;\n    }\n  }\n\n  /**\n   * Clean up\n   */\n  destroy() {\n    if (this.state === \"destroy\") {\n      return;\n    }\n\n    this.state = \"destroy\";\n\n    clearTimeout(this.updateTimer);\n    this.updateTimer = null;\n\n    cancelAnimationFrame(this.rAF);\n    this.rAF = null;\n\n    this.detachEvents();\n\n    this.detachPlugins();\n\n    this.resetDragPosition();\n  }\n}\n\n// Expose version\nPanzoom.version = \"__VERSION__\";\n\n// Static properties are a recent addition that dont work in all browsers yet\nPanzoom.Plugins = Plugins;\n","/**\n * Round half up; to be more specific and to ensure things like 1.005 round correctly\n * @param {Float} value\n * @param {Integer} precision\n * @returns {Float}\n */\nexport const round = (value, precision = 10000) => {\n  value = parseFloat(value) || 0;\n\n  return Math.round((value + Number.EPSILON) * precision) / precision;\n};\n","/**\n * Check if  element has scrollable content\n * @param {Node} node\n * @returns {Boolean}\n */\nexport const hasScrollbars = function (node) {\n  const overflowY = getComputedStyle(node)[\"overflow-y\"],\n    overflowX = getComputedStyle(node)[\"overflow-x\"],\n    vertical = (overflowY === \"scroll\" || overflowY === \"auto\") && Math.abs(node.scrollHeight - node.clientHeight) > 1,\n    horizontal = (overflowX === \"scroll\" || overflowX === \"auto\") && Math.abs(node.scrollWidth - node.clientWidth) > 1;\n\n  return vertical || horizontal;\n};\n\n/**\n * Check if element or one of the parents is scrollable\n * @param {Node} node  DOM Node element\n * @returns {Boolean}\n */\nexport const isScrollable = function (node) {\n  if (!node || !(typeof node === \"object\" && node instanceof Element) || node === document.body) {\n    return false;\n  }\n\n  if (node.__Panzoom) {\n    return false;\n  }\n\n  if (hasScrollbars(node)) {\n    return node;\n  }\n\n  return isScrollable(node.parentNode);\n};\n","/**\n * ResizeObserver Polyfill\n */\nexport const ResizeObserver =\n  (typeof window !== \"undefined\" && window.ResizeObserver) ||\n  class {\n    constructor(callback) {\n      this.observables = [];\n      // Array of observed elements that looks like this:\n      // [{\n      //   el: domNode,\n      //   size: {height: x, width: y}\n      // }]\n      this.boundCheck = this.check.bind(this);\n      this.boundCheck();\n      this.callback = callback;\n    }\n\n    observe(el) {\n      if (this.observables.some((observable) => observable.el === el)) {\n        return;\n      }\n\n      const newObservable = {\n        el: el,\n        size: {\n          height: el.clientHeight,\n          width: el.clientWidth,\n        },\n      };\n\n      this.observables.push(newObservable);\n    }\n\n    unobserve(el) {\n      this.observables = this.observables.filter((obj) => obj.el !== el);\n    }\n\n    disconnect() {\n      this.observables = [];\n    }\n\n    check() {\n      const changedEntries = this.observables\n        .filter((obj) => {\n          const currentHeight = obj.el.clientHeight;\n          const currentWidth = obj.el.clientWidth;\n          if (obj.size.height !== currentHeight || obj.size.width !== currentWidth) {\n            obj.size.height = currentHeight;\n            obj.size.width = currentWidth;\n            return true;\n          }\n        })\n        .map((obj) => obj.el);\n\n      if (changedEntries.length > 0) {\n        this.callback(changedEntries);\n      }\n\n      window.requestAnimationFrame(this.boundCheck);\n    }\n  };\n","class Pointer {\r\n  constructor(nativePointer) {\r\n    this.id = self.Touch && nativePointer instanceof Touch ? nativePointer.identifier : -1;\r\n\r\n    this.pageX = nativePointer.pageX;\r\n    this.pageY = nativePointer.pageY;\r\n\r\n    this.clientX = nativePointer.clientX;\r\n    this.clientY = nativePointer.clientY;\r\n  }\r\n}\r\n\r\nconst getDistance = (a, b) => {\r\n  if (!b) {\r\n    return 0;\r\n  }\r\n\r\n  return Math.sqrt((b.clientX - a.clientX) ** 2 + (b.clientY - a.clientY) ** 2);\r\n};\r\n\r\nconst getMidpoint = (a, b) => {\r\n  if (!b) {\r\n    return a;\r\n  }\r\n\r\n  return {\r\n    clientX: (a.clientX + b.clientX) / 2,\r\n    clientY: (a.clientY + b.clientY) / 2,\r\n  };\r\n};\r\n\r\nconst isTouchEvent = (event) => \"changedTouches\" in event;\r\n\r\nclass PointerTracker {\r\n  constructor(_element, { start = () => true, move = () => {}, end = () => {} } = {}) {\r\n    this._element = _element;\r\n\r\n    this.startPointers = [];\r\n    this.currentPointers = [];\r\n\r\n    this._pointerStart = (event) => {\r\n      if (event.buttons > 0 && event.button !== 0) {\r\n        return;\r\n      }\r\n\r\n      const pointer = new Pointer(event);\r\n\r\n      if (this.currentPointers.some((p) => p.id === pointer.id)) {\r\n        return;\r\n      }\r\n\r\n      if (!this._triggerPointerStart(pointer, event)) {\r\n        return;\r\n      }\r\n\r\n      window.addEventListener(\"mousemove\", this._move);\r\n      window.addEventListener(\"mouseup\", this._pointerEnd);\r\n    };\r\n\r\n    this._touchStart = (event) => {\r\n      for (const touch of Array.from(event.changedTouches || [])) {\r\n        this._triggerPointerStart(new Pointer(touch), event);\r\n      }\r\n    };\r\n\r\n    this._move = (event) => {\r\n      const previousPointers = this.currentPointers.slice();\r\n      const changedPointers = isTouchEvent(event)\r\n        ? Array.from(event.changedTouches).map((t) => new Pointer(t))\r\n        : [new Pointer(event)];\r\n\r\n      const trackedChangedPointers = [];\r\n\r\n      for (const pointer of changedPointers) {\r\n        const index = this.currentPointers.findIndex((p) => p.id === pointer.id);\r\n\r\n        if (index < 0) {\r\n          continue;\r\n        }\r\n\r\n        trackedChangedPointers.push(pointer);\r\n\r\n        this.currentPointers[index] = pointer;\r\n      }\r\n\r\n      this._moveCallback(previousPointers, this.currentPointers.slice(), event);\r\n    };\r\n\r\n    this._triggerPointerEnd = (pointer, event) => {\r\n      const index = this.currentPointers.findIndex((p) => p.id === pointer.id);\r\n\r\n      if (index < 0) {\r\n        return false;\r\n      }\r\n\r\n      this.currentPointers.splice(index, 1);\r\n      this.startPointers.splice(index, 1);\r\n\r\n      this._endCallback(pointer, event);\r\n\r\n      return true;\r\n    };\r\n\r\n    this._pointerEnd = (event) => {\r\n      if (event.buttons > 0 && event.button !== 0) {\r\n        return;\r\n      }\r\n\r\n      if (!this._triggerPointerEnd(new Pointer(event), event)) {\r\n        return;\r\n      }\r\n\r\n      window.removeEventListener(\"mousemove\", this._move, { passive: false });\r\n      window.removeEventListener(\"mouseup\", this._pointerEnd, { passive: false });\r\n    };\r\n\r\n    this._touchEnd = (event) => {\r\n      for (const touch of Array.from(event.changedTouches || [])) {\r\n        this._triggerPointerEnd(new Pointer(touch), event);\r\n      }\r\n    };\r\n\r\n    this._startCallback = start;\r\n    this._moveCallback = move;\r\n    this._endCallback = end;\r\n\r\n    this._element.addEventListener(\"mousedown\", this._pointerStart, { passive: false });\r\n    this._element.addEventListener(\"touchstart\", this._touchStart, { passive: false });\r\n    this._element.addEventListener(\"touchmove\", this._move, { passive: false });\r\n    this._element.addEventListener(\"touchend\", this._touchEnd);\r\n    this._element.addEventListener(\"touchcancel\", this._touchEnd);\r\n  }\r\n\r\n  stop() {\r\n    this._element.removeEventListener(\"mousedown\", this._pointerStart, { passive: false });\r\n    this._element.removeEventListener(\"touchstart\", this._touchStart, { passive: false });\r\n    this._element.removeEventListener(\"touchmove\", this._move, { passive: false });\r\n    this._element.removeEventListener(\"touchend\", this._touchEnd);\r\n    this._element.removeEventListener(\"touchcancel\", this._touchEnd);\r\n\r\n    window.removeEventListener(\"mousemove\", this._move);\r\n    window.removeEventListener(\"mouseup\", this._pointerEnd);\r\n  }\r\n\r\n  _triggerPointerStart(pointer, event) {\r\n    if (!this._startCallback(pointer, event)) {\r\n      return false;\r\n    }\r\n\r\n    this.currentPointers.push(pointer);\r\n    this.startPointers.push(pointer);\r\n\r\n    return true;\r\n  }\r\n}\r\n\r\nexport { PointerTracker, getDistance, getMidpoint };\r\n","/**\n * Get element child node at the given coordinates\n * @param {Element} HTML element\n * @param {Float|Integer} x\n * @param {Float|Integer} y\n * @returns {Node|Boolean}}\n */\nexport const getTextNodeFromPoint = (element, x, y) => {\n  const nodes = element.childNodes;\n  const range = document.createRange();\n\n  for (let i = 0; i < nodes.length; i++) {\n    const node = nodes[i];\n\n    if (node.nodeType !== Node.TEXT_NODE) {\n      continue;\n    }\n\n    range.selectNodeContents(node);\n\n    const rect = range.getBoundingClientRect();\n\n    if (x >= rect.left && y >= rect.top && x <= rect.right && y <= rect.bottom) {\n      return node;\n    }\n  }\n\n  return false;\n};\n","/**\n * Get actual width of the element, regardless of how much of content is currently visible\n * @param {Element} elem\n * @returns {Integer}\n */\nexport const getFullWidth = (elem) => {\n  return Math.max(\n    parseFloat(elem.naturalWidth || 0),\n    parseFloat((elem.width && elem.width.baseVal && elem.width.baseVal.value) || 0),\n    parseFloat(elem.offsetWidth || 0),\n    parseFloat(elem.scrollWidth || 0)\n  );\n};\n\n/**\n * Get actual height of the element, regardless of how much of content is currently visible\n * @param {Element} elem\n * @returns {Integer}\n */\nexport const getFullHeight = (elem) => {\n  return Math.max(\n    parseFloat(elem.naturalHeight || 0),\n    parseFloat((elem.height && elem.height.baseVal && elem.height.baseVal.value) || 0),\n    parseFloat(elem.offsetHeight || 0),\n    parseFloat(elem.scrollHeight || 0)\n  );\n};\n\n/**\n * Calculate bounding size to fit dimensions while preserving aspect ratio\n * @param {Number} srcWidth\n * @param {Number} srcHeight\n * @param {Number} maxWidth\n * @param {Number} maxHeight\n * @returns {Object}\n */\nexport const calculateAspectRatioFit = (srcWidth, srcHeight, maxWidth, maxHeight) => {\n  const ratio = Math.min(maxWidth / srcWidth || 0, maxHeight / srcHeight);\n\n  return { width: srcWidth * ratio || 0, height: srcHeight * ratio || 0 };\n};\n","export const Plugins = {};\n","/**\n * Throttling enforces a maximum number of times a function can be called over time\n * @param {Function} func Callback function\n * @param {Integer} limit Milliseconds\n * @returns {Function}\n */\nexport const throttle = (func, limit) => {\n  let lastCall = 0;\n\n  return function (...args) {\n    const now = new Date().getTime();\n\n    if (now - lastCall < limit) {\n      return;\n    }\n\n    lastCall = now;\n\n    return func(...args);\n  };\n};\n","const defaults = {\n  prevTpl: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" tabindex=\"-1\"><path d=\"M15 3l-9 9 9 9\"/></svg>',\n  nextTpl: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" tabindex=\"-1\"><path d=\"M9 3l9 9-9 9\"/></svg>',\n\n  classNames: {\n    main: \"carousel__nav\",\n    button: \"carousel__button\",\n\n    next: \"is-next\",\n    prev: \"is-prev\",\n  },\n};\n\nexport class Navigation {\n  constructor(carousel) {\n    this.$container = null;\n\n    this.$prev = null;\n    this.$next = null;\n\n    this.carousel = carousel;\n\n    this.onRefresh = this.onRefresh.bind(this);\n  }\n\n  /**\n   * Shortcut to get option for this plugin\n   * @param {String} name option name\n   * @returns option value\n   */\n  option(name) {\n    return this.carousel.option(`Navigation.${name}`);\n  }\n\n  /**\n   * Creates and returns new button element with default class names and click event\n   * @param {String} type\n   */\n  createButton(type) {\n    const $btn = document.createElement(\"button\");\n\n    $btn.setAttribute(\"title\", this.carousel.localize(`{{${type.toUpperCase()}}}`));\n\n    const classNames = this.option(\"classNames.button\") + \" \" + this.option(`classNames.${type}`);\n\n    $btn.classList.add(...classNames.split(\" \"));\n    $btn.setAttribute(\"tabindex\", \"0\");\n    $btn.innerHTML = this.carousel.localize(this.option(`${type}Tpl`));\n\n    $btn.addEventListener(\"click\", (event) => {\n      event.preventDefault();\n      event.stopPropagation();\n\n      this.carousel[`slide${type === \"next\" ? \"Next\" : \"Prev\"}`]();\n    });\n\n    return $btn;\n  }\n\n  /**\n   * Build necessary DOM elements\n   */\n  build() {\n    if (!this.$container) {\n      this.$container = document.createElement(\"div\");\n      this.$container.classList.add(...this.option(\"classNames.main\").split(\" \"));\n\n      this.carousel.$container.appendChild(this.$container);\n    }\n\n    if (!this.$next) {\n      this.$next = this.createButton(\"next\");\n\n      this.$container.appendChild(this.$next);\n    }\n\n    if (!this.$prev) {\n      this.$prev = this.createButton(\"prev\");\n\n      this.$container.appendChild(this.$prev);\n    }\n  }\n\n  /**\n   *  Process carousel `refresh` and `change` events to enable/disable buttons if needed\n   */\n  onRefresh() {\n    const pageCount = this.carousel.pages.length;\n\n    if (\n      pageCount <= 1 ||\n      (pageCount > 1 &&\n        this.carousel.elemDimWidth < this.carousel.wrapDimWidth &&\n        !Number.isInteger(this.carousel.option(\"slidesPerPage\")))\n    ) {\n      this.cleanup();\n\n      return;\n    }\n\n    this.build();\n\n    this.$prev.removeAttribute(\"disabled\");\n    this.$next.removeAttribute(\"disabled\");\n\n    if (this.carousel.option(\"infiniteX\", this.carousel.option(\"infinite\"))) {\n      return;\n    }\n\n    if (this.carousel.page <= 0) {\n      this.$prev.setAttribute(\"disabled\", \"\");\n    }\n\n    if (this.carousel.page >= pageCount - 1) {\n      this.$next.setAttribute(\"disabled\", \"\");\n    }\n  }\n\n  cleanup() {\n    if (this.$prev) {\n      this.$prev.remove();\n    }\n\n    this.$prev = null;\n\n    if (this.$next) {\n      this.$next.remove();\n    }\n\n    this.$next = null;\n\n    if (this.$container) {\n      this.$container.remove();\n    }\n\n    this.$container = null;\n  }\n\n  attach() {\n    this.carousel.on(\"refresh change\", this.onRefresh);\n  }\n\n  detach() {\n    this.carousel.off(\"refresh change\", this.onRefresh);\n\n    this.cleanup();\n  }\n}\n\n// Expose defaults\nNavigation.defaults = defaults;\n","const defaults = {\n  // The minimum number of slides to display dots\n  minSlideCount: 2,\n};\n\nexport class Dots {\n  constructor(carousel) {\n    this.carousel = carousel;\n\n    this.$list = null;\n\n    this.events = {\n      change: this.onChange.bind(this),\n      refresh: this.onRefresh.bind(this),\n    };\n  }\n\n  /**\n   * Build wrapping DOM element containing all dots\n   */\n  buildList() {\n    if (this.carousel.pages.length < this.carousel.option(\"Dots.minSlideCount\")) {\n      return;\n    }\n\n    const $list = document.createElement(\"ol\");\n\n    $list.classList.add(\"carousel__dots\");\n\n    $list.addEventListener(\"click\", (e) => {\n      if (!(\"page\" in e.target.dataset)) {\n        return;\n      }\n\n      e.preventDefault();\n      e.stopPropagation();\n\n      const page = parseInt(e.target.dataset.page, 10);\n      const carousel = this.carousel;\n\n      if (page === carousel.page) {\n        return;\n      }\n\n      if (carousel.pages.length < 3 && carousel.option(\"infinite\")) {\n        carousel[page == 0 ? \"slidePrev\" : \"slideNext\"]();\n      } else {\n        carousel.slideTo(page);\n      }\n    });\n\n    this.$list = $list;\n\n    this.carousel.$container.appendChild($list);\n    this.carousel.$container.classList.add(\"has-dots\");\n\n    return $list;\n  }\n\n  /**\n   * Remove wrapping DOM element\n   */\n  removeList() {\n    if (this.$list) {\n      this.$list.parentNode.removeChild(this.$list);\n      this.$list = null;\n    }\n\n    this.carousel.$container.classList.remove(\"has-dots\");\n  }\n\n  /**\n   * Remove existing dots and create fresh ones\n   */\n  rebuildDots() {\n    let $list = this.$list;\n\n    const listExists = !!$list;\n    const pagesCount = this.carousel.pages.length;\n\n    if (pagesCount < 2) {\n      if (listExists) {\n        this.removeList();\n      }\n\n      return;\n    }\n\n    if (!listExists) {\n      $list = this.buildList();\n    }\n\n    // Remove existing dots\n    const dotCount = this.$list.children.length;\n\n    if (dotCount > pagesCount) {\n      for (let i = pagesCount; i < dotCount; i++) {\n        this.$list.removeChild(this.$list.lastChild);\n      }\n\n      return;\n    }\n\n    // Create fresh DOM elements (dots) for each page\n    for (let index = dotCount; index < pagesCount; index++) {\n      const $dot = document.createElement(\"li\");\n\n      $dot.classList.add(\"carousel__dot\");\n      $dot.dataset.page = index;\n\n      $dot.setAttribute(\"role\", \"button\");\n      $dot.setAttribute(\"tabindex\", \"0\");\n      $dot.setAttribute(\"title\", this.carousel.localize(\"{{GOTO}}\", [[\"%d\", index + 1]]));\n\n      $dot.addEventListener(\"keydown\", (event) => {\n        const code = event.code;\n\n        let $el;\n\n        if (code === \"Enter\" || code === \"NumpadEnter\") {\n          $el = $dot;\n        } else if (code === \"ArrowRight\") {\n          $el = $dot.nextSibling;\n        } else if (code === \"ArrowLeft\") {\n          $el = $dot.previousSibling;\n        }\n\n        $el && $el.click();\n      });\n\n      this.$list.appendChild($dot);\n    }\n\n    this.setActiveDot();\n  }\n\n  /**\n   * Mark active dot by toggling class name\n   */\n  setActiveDot() {\n    if (!this.$list) {\n      return;\n    }\n\n    this.$list.childNodes.forEach(($dot) => {\n      $dot.classList.remove(\"is-selected\");\n    });\n\n    const $activeDot = this.$list.childNodes[this.carousel.page];\n\n    if ($activeDot) {\n      $activeDot.classList.add(\"is-selected\");\n    }\n  }\n\n  /**\n   * Process carousel `change` event\n   */\n  onChange() {\n    this.setActiveDot();\n  }\n\n  /**\n   * Process carousel `refresh` event\n   */\n  onRefresh() {\n    this.rebuildDots();\n  }\n\n  attach() {\n    this.carousel.on(this.events);\n  }\n\n  detach() {\n    this.removeList();\n\n    this.carousel.off(this.events);\n    this.carousel = null;\n  }\n}\n","const defaults = {\n  friction: 0.92,\n};\n\nexport class Sync {\n  constructor(carousel) {\n    this.carousel = carousel;\n\n    this.selectedIndex = null;\n    this.friction = 0;\n\n    this.onNavReady = this.onNavReady.bind(this);\n    this.onNavClick = this.onNavClick.bind(this);\n    this.onNavCreateSlide = this.onNavCreateSlide.bind(this);\n\n    this.onTargetChange = this.onTargetChange.bind(this);\n  }\n\n  /**\n   * Make this one as main carousel and selected carousel as navigation\n   * @param {Object} nav Carousel\n   */\n  addAsTargetFor(nav) {\n    this.target = this.carousel;\n    this.nav = nav;\n\n    this.attachEvents();\n  }\n\n  /**\n   * Make this one as navigation carousel for selected carousel\n   * @param {Object} target\n   */\n  addAsNavFor(target) {\n    this.target = target;\n    this.nav = this.carousel;\n\n    this.attachEvents();\n  }\n\n  /**\n   * Attach event listeners on both carousels\n   */\n  attachEvents() {\n    this.nav.options.initialSlide = this.target.options.initialPage;\n\n    this.nav.on(\"ready\", this.onNavReady);\n    this.nav.on(\"createSlide\", this.onNavCreateSlide);\n    this.nav.on(\"Panzoom.click\", this.onNavClick);\n\n    this.target.on(\"change\", this.onTargetChange);\n    this.target.on(\"Panzoom.afterUpdate\", this.onTargetChange);\n  }\n\n  /**\n   * Process main carousel `ready` event; bind events and set initial page\n   */\n  onNavReady() {\n    this.onTargetChange(true);\n  }\n\n  /**\n   * Process main carousel `click` event\n   * @param {Object} panzoom\n   * @param {Object} event\n   */\n  onNavClick(carousel, panzoom, event) {\n    const clickedNavSlide = event.target.closest(\".carousel__slide\");\n\n    if (!clickedNavSlide) {\n      return;\n    }\n\n    event.stopPropagation();\n\n    const selectedNavIndex = parseInt(clickedNavSlide.dataset.index, 10);\n    const selectedSyncPage = this.target.findPageForSlide(selectedNavIndex);\n\n    if (this.target.page !== selectedSyncPage) {\n      this.target.slideTo(selectedSyncPage, { friction: this.friction });\n    }\n\n    this.markSelectedSlide(selectedNavIndex);\n  }\n\n  /**\n   * Process main carousel `createSlide` event\n   * @param {Object} carousel\n   * @param {Object} slide\n   */\n  onNavCreateSlide(carousel, slide) {\n    if (slide.index === this.selectedIndex) {\n      this.markSelectedSlide(slide.index);\n    }\n  }\n\n  /**\n   * Process target carousel `change` event\n   * @param {Object} target\n   */\n  onTargetChange() {\n    const targetIndex = this.target.pages[this.target.page].indexes[0];\n    const selectedNavPage = this.nav.findPageForSlide(targetIndex);\n\n    this.nav.slideTo(selectedNavPage);\n\n    this.markSelectedSlide(targetIndex);\n  }\n\n  /**\n   * Toggle classname for slides that marks currently selected slides\n   * @param {Number} selectedIndex\n   */\n  markSelectedSlide(selectedIndex) {\n    this.selectedIndex = selectedIndex;\n\n    [...this.nav.slides].filter((slide) => slide.$el && slide.$el.classList.remove(\"is-nav-selected\"));\n\n    const slide = this.nav.slides[selectedIndex];\n\n    if (slide && slide.$el) slide.$el.classList.add(\"is-nav-selected\");\n  }\n\n  attach(carousel) {\n    const sync = carousel.options.Sync;\n\n    if (!sync.target && !sync.nav) {\n      return;\n    }\n\n    if (sync.target) {\n      this.addAsNavFor(sync.target);\n    } else if (sync.nav) {\n      this.addAsTargetFor(sync.nav);\n    }\n\n    this.friction = sync.friction;\n  }\n\n  detach() {\n    if (this.nav) {\n      this.nav.off(\"ready\", this.onNavReady);\n      this.nav.off(\"Panzoom.click\", this.onNavClick);\n      this.nav.off(\"createSlide\", this.onNavCreateSlide);\n    }\n\n    if (this.target) {\n      this.target.off(\"Panzoom.afterUpdate\", this.onTargetChange);\n      this.target.off(\"change\", this.onTargetChange);\n    }\n  }\n}\n\n// Expose defaults\nSync.defaults = defaults;\n","import { Navigation } from \"./Navigation/Navigation.js\";\nimport { Dots } from \"./Dots/Dots.js\";\nimport { Sync } from \"./Sync/Sync.js\";\n\nexport const Plugins = { Navigation, Dots, Sync };\n","export default {\r\n  NEXT: \"Next slide\",\r\n  PREV: \"Previous slide\",\r\n  GOTO: \"Go to slide #%d\",\r\n};\r\n","import { isScrollable } from \"../../../../src/shared/utils/isScrollable.js\";\n\nexport class ScrollLock {\n  constructor(fancybox) {\n    this.fancybox = fancybox;\n    this.viewport = null;\n\n    this.pendingUpdate = null;\n\n    for (const methodName of [\"onReady\", \"onResize\", \"onTouchstart\", \"onTouchmove\"]) {\n      this[methodName] = this[methodName].bind(this);\n    }\n  }\n\n  /**\n   * Process `initLayout` event to attach event listeners and resize viewport if needed\n   */\n  onReady() {\n    //* Support Visual Viewport API\n    // https://developer.mozilla.org/en-US/docs/Web/API/Visual_Viewport_API\n    const viewport = window.visualViewport;\n\n    if (viewport) {\n      this.viewport = viewport;\n      this.startY = 0;\n\n      viewport.addEventListener(\"resize\", this.onResize);\n\n      this.updateViewport();\n    }\n\n    //* Prevent bouncing while scrolling on mobile devices\n    window.addEventListener(\"touchstart\", this.onTouchstart, { passive: false });\n    window.addEventListener(\"touchmove\", this.onTouchmove, { passive: false });\n\n    //* Prevent window scrolling with mouse wheel\n    window.addEventListener(\"wheel\", this.onWheel, { passive: false });\n  }\n\n  /**\n   * Handle `resize` event to call `updateViewport`\n   */\n  onResize() {\n    this.updateViewport();\n  }\n\n  /**\n   * Scale $container proportionally to actually fit inside browser,\n   * e.g., disable viewport zooming\n   */\n  updateViewport() {\n    const fancybox = this.fancybox,\n      viewport = this.viewport,\n      scale = viewport.scale || 1,\n      $container = fancybox.$container;\n\n    if (!$container) {\n      return;\n    }\n\n    let width = \"\",\n      height = \"\",\n      transform = \"\";\n\n    if (scale - 1 > 0.1) {\n      width = `${viewport.width * scale}px`;\n      height = `${viewport.height * scale}px`;\n      transform = `translate3d(${viewport.offsetLeft}px, ${viewport.offsetTop}px, 0) scale(${1 / scale})`;\n    }\n\n    $container.style.width = width;\n    $container.style.height = height;\n    $container.style.transform = transform;\n  }\n\n  /**\n   * Handle `touchstart` event to mark drag start position\n   * @param {Object} event\n   */\n  onTouchstart(event) {\n    this.startY = event.touches ? event.touches[0].screenY : event.screenY;\n  }\n\n  /**\n   * Handle `touchmove` event to fix scrolling on mobile devices (iOS)\n   * @param {Object} event\n   */\n  onTouchmove(event) {\n    const startY = this.startY;\n    const zoom = window.innerWidth / window.document.documentElement.clientWidth;\n\n    if (!event.cancelable) {\n      return;\n    }\n\n    if (event.touches.length > 1 || zoom !== 1) {\n      return;\n    }\n\n    const el = isScrollable(event.composedPath()[0]);\n\n    if (!el) {\n      event.preventDefault();\n      return;\n    }\n\n    const style = window.getComputedStyle(el);\n    const height = parseInt(style.getPropertyValue(\"height\"), 10);\n\n    const curY = event.touches ? event.touches[0].screenY : event.screenY;\n\n    const isAtTop = startY <= curY && el.scrollTop === 0;\n    const isAtBottom = startY >= curY && el.scrollHeight - el.scrollTop === height;\n\n    if (isAtTop || isAtBottom) {\n      event.preventDefault();\n    }\n  }\n\n  /**\n   * Handle `wheel` event\n   */\n  onWheel(event) {\n    if (!isScrollable(event.composedPath()[0])) {\n      event.preventDefault();\n    }\n  }\n\n  /**\n   * Clean everything up\n   */\n  cleanup() {\n    if (this.pendingUpdate) {\n      cancelAnimationFrame(this.pendingUpdate);\n      this.pendingUpdate = null;\n    }\n\n    const viewport = this.viewport;\n\n    if (viewport) {\n      viewport.removeEventListener(\"resize\", this.onResize);\n      this.viewport = null;\n    }\n\n    window.removeEventListener(\"touchstart\", this.onTouchstart, false);\n    window.removeEventListener(\"touchmove\", this.onTouchmove, false);\n\n    window.removeEventListener(\"wheel\", this.onWheel, { passive: false });\n  }\n\n  attach() {\n    this.fancybox.on(\"initLayout\", this.onReady);\n  }\n\n  detach() {\n    this.fancybox.off(\"initLayout\", this.onReady);\n\n    this.cleanup();\n  }\n}\n","import { extend } from \"../../../shared/utils/extend.js\";\nimport { Carousel } from \"../../../Carousel/Carousel.js\";\n\nconst defaults = {\n  // The minimum number of images in the gallery to display thumbnails\n  minSlideCount: 2,\n\n  // Minimum screen height to display thumbnails\n  minScreenHeight: 500,\n\n  // Automatically show thumbnails when opened\n  autoStart: true,\n\n  // Keyboard shortcut to toggle thumbnail container\n  key: \"t\",\n\n  // Customize Carousel instance\n  Carousel: {},\n\n  tpl: `<div class=\"fancybox__thumb\" style=\"background-image:url('{{src}}')\"></div>`,\n};\n\nexport class Thumbs {\n  constructor(fancybox) {\n    this.fancybox = fancybox;\n\n    this.$container = null;\n    this.state = \"init\";\n\n    for (const methodName of [\"onPrepare\", \"onClosing\", \"onKeydown\"]) {\n      this[methodName] = this[methodName].bind(this);\n    }\n\n    this.events = {\n      prepare: this.onPrepare,\n      closing: this.onClosing,\n      keydown: this.onKeydown,\n    };\n  }\n\n  /**\n   * Process `prepare` event to build the layout\n   */\n  onPrepare() {\n    // Get slides, skip if the total number is less than the minimum\n    const slides = this.getSlides();\n\n    if (slides.length < this.fancybox.option(\"Thumbs.minSlideCount\")) {\n      this.state = \"disabled\";\n      return;\n    }\n\n    if (\n      this.fancybox.option(\"Thumbs.autoStart\") === true &&\n      this.fancybox.Carousel.Panzoom.content.height >= this.fancybox.option(\"Thumbs.minScreenHeight\")\n    ) {\n      this.build();\n    }\n  }\n\n  /**\n   * Process `closing` event to disable all events\n   */\n  onClosing() {\n    if (this.Carousel) {\n      this.Carousel.Panzoom.detachEvents();\n    }\n  }\n\n  /**\n   * Process `keydown` event to enable thumbnail list toggling using keyboard key\n   * @param {Object} fancybox\n   * @param {String} key\n   */\n  onKeydown(fancybox, key) {\n    if (key === fancybox.option(\"Thumbs.key\")) {\n      this.toggle();\n    }\n  }\n\n  /**\n   * Build layout and init thumbnail Carousel\n   */\n  build() {\n    if (this.$container) {\n      return;\n    }\n\n    // Create wrapping element and append to layout\n    const $container = document.createElement(\"div\");\n\n    $container.classList.add(\"fancybox__thumbs\");\n\n    this.fancybox.$carousel.parentNode.insertBefore($container, this.fancybox.$carousel.nextSibling);\n\n    // Initialise thumbnail carousel with all slides\n    this.Carousel = new Carousel(\n      $container,\n      extend(\n        true,\n        {\n          Dots: false,\n          Navigation: false,\n          Sync: {\n            friction: 0,\n          },\n          infinite: false,\n          center: true,\n          fill: true,\n          dragFree: true,\n          slidesPerPage: 1,\n          preload: 1,\n        },\n        this.fancybox.option(\"Thumbs.Carousel\"),\n        {\n          Sync: {\n            target: this.fancybox.Carousel,\n          },\n          slides: this.getSlides(),\n        }\n      )\n    );\n\n    // Slide carousel on wheel event\n    this.Carousel.Panzoom.on(\"wheel\", (panzoom, event) => {\n      event.preventDefault();\n\n      this.fancybox[event.deltaY < 0 ? \"prev\" : \"next\"]();\n    });\n\n    this.$container = $container;\n\n    this.state = \"visible\";\n  }\n\n  /**\n   * Process all fancybox slides to get all thumbnail images\n   */\n  getSlides() {\n    const slides = [];\n\n    for (const slide of this.fancybox.items) {\n      const thumb = slide.thumb;\n\n      if (thumb) {\n        slides.push({\n          html: this.fancybox.option(\"Thumbs.tpl\").replace(/\\{\\{src\\}\\}/gi, thumb),\n          customClass: `has-thumb has-${slide.type || \"image\"}`,\n        });\n      }\n    }\n\n    return slides;\n  }\n\n  /**\n   * Toggle visibility of thumbnail list\n   * Tip: you can use `Fancybox.getInstance().plugins.Thumbs.toggle()` from anywhere in your code\n   */\n  toggle() {\n    if (this.state === \"visible\") {\n      this.hide();\n    } else if (this.state === \"hidden\") {\n      this.show();\n    } else {\n      this.build();\n    }\n  }\n\n  /**\n   * Show thumbnail list\n   */\n  show() {\n    if (this.state === \"hidden\") {\n      this.$container.style.display = \"\";\n\n      this.Carousel.Panzoom.attachEvents();\n\n      this.state = \"visible\";\n    }\n  }\n\n  /**\n   * Hide thumbnail list\n   */\n  hide() {\n    if (this.state === \"visible\") {\n      this.Carousel.Panzoom.detachEvents();\n\n      this.$container.style.display = \"none\";\n\n      this.state = \"hidden\";\n    }\n  }\n\n  /**\n   * Reset the state\n   */\n  cleanup() {\n    if (this.Carousel) {\n      this.Carousel.destroy();\n      this.Carousel = null;\n    }\n\n    if (this.$container) {\n      this.$container.remove();\n      this.$container = null;\n    }\n\n    this.state = \"init\";\n  }\n\n  attach() {\n    this.fancybox.on(this.events);\n  }\n\n  detach() {\n    this.fancybox.off(this.events);\n\n    this.cleanup();\n  }\n}\n\n// Expose defaults\nThumbs.defaults = defaults;\n","import { extend } from \"../../../shared/utils/extend.js\";\n\nconst buildURLQuery = (src, obj) => {\n  const url = new URL(src);\n  const params = new URLSearchParams(url.search);\n\n  let rez = new URLSearchParams();\n\n  for (const [key, value] of [...params, ...Object.entries(obj)]) {\n    // Youtube\n    if (key === \"t\") {\n      rez.set(\"start\", parseInt(value));\n    } else {\n      rez.set(key, value);\n    }\n  }\n\n  // Convert to 'foo=1&bar=2&baz=3'\n  rez = rez.toString();\n\n  // Vimeo\n  // https://vimeo.zendesk.com/hc/en-us/articles/360000121668-Starting-playback-at-a-specific-timecode\n  let matches = src.match(/#t=((.*)?\\d+s)/);\n\n  if (matches) {\n    rez += `#t=${matches[1]}`;\n  }\n\n  return rez;\n};\n\nconst defaults = {\n  // General options for any video content (Youtube, Vimeo, HTML5 video)\n  video: {\n    autoplay: true,\n    ratio: 16 / 9,\n  },\n  // Youtube embed parameters\n  youtube: {\n    autohide: 1,\n    fs: 1,\n    rel: 0,\n    hd: 1,\n    wmode: \"transparent\",\n    enablejsapi: 1,\n    html5: 1,\n  },\n  // Vimeo embed parameters\n  vimeo: {\n    hd: 1,\n    show_title: 1,\n    show_byline: 1,\n    show_portrait: 0,\n    fullscreen: 1,\n  },\n  // HTML5 video parameters\n  html5video: {\n    tpl: `<video class=\"fancybox__html5video\" playsinline controls controlsList=\"nodownload\" poster=\"{{poster}}\">\n  <source src=\"{{src}}\" type=\"{{format}}\" />Sorry, your browser doesn't support embedded videos.</video>`,\n    format: \"\",\n  },\n};\n\nexport class Html {\n  constructor(fancybox) {\n    this.fancybox = fancybox;\n\n    for (const methodName of [\n      \"onInit\",\n      \"onReady\",\n\n      \"onCreateSlide\",\n      \"onRemoveSlide\",\n\n      \"onSelectSlide\",\n      \"onUnselectSlide\",\n\n      \"onRefresh\",\n\n      // For communication with iframed video (youtube/vimeo)\n      \"onMessage\",\n    ]) {\n      this[methodName] = this[methodName].bind(this);\n    }\n\n    this.events = {\n      init: this.onInit,\n      ready: this.onReady,\n\n      \"Carousel.createSlide\": this.onCreateSlide,\n      \"Carousel.removeSlide\": this.onRemoveSlide,\n\n      \"Carousel.selectSlide\": this.onSelectSlide,\n      \"Carousel.unselectSlide\": this.onUnselectSlide,\n\n      \"Carousel.refresh\": this.onRefresh,\n    };\n  }\n\n  /**\n   * Check if each gallery item has type when fancybox starts\n   */\n  onInit() {\n    for (const slide of this.fancybox.items) {\n      this.processType(slide);\n    }\n  }\n\n  /**\n   * Set content type for the slide\n   * @param {Object} slide\n   */\n  processType(slide) {\n    // Add support for `new Fancybox({items : [{html : 'smth'}]});`\n    if (slide.html) {\n      slide.src = slide.html;\n      slide.type = \"html\";\n\n      delete slide.html;\n\n      return;\n    }\n\n    const src = slide.src || \"\";\n\n    let type = slide.type || this.fancybox.options.type,\n      rez = null;\n\n    if (src && typeof src !== \"string\") {\n      return;\n    }\n\n    if (\n      (rez = src.match(\n        /(?:youtube\\.com|youtu\\.be|youtube\\-nocookie\\.com)\\/(?:watch\\?(?:.*&)?v=|v\\/|u\\/|embed\\/?)?(videoseries\\?list=(?:.*)|[\\w-]{11}|\\?listType=(?:.*)&list=(?:.*))(?:.*)/i\n      ))\n    ) {\n      const params = buildURLQuery(src, this.fancybox.option(\"Html.youtube\"));\n      const videoId = encodeURIComponent(rez[1]);\n\n      slide.videoId = videoId;\n      slide.src = `https://www.youtube-nocookie.com/embed/${videoId}?${params}`;\n      slide.thumb = slide.thumb || `https://i.ytimg.com/vi/${videoId}/mqdefault.jpg`;\n      slide.vendor = \"youtube\";\n\n      type = \"video\";\n    } else if ((rez = src.match(/^.+vimeo.com\\/(?:\\/)?([\\d]+)(.*)?/))) {\n      const params = buildURLQuery(src, this.fancybox.option(\"Html.vimeo\"));\n      const videoId = encodeURIComponent(rez[1]);\n\n      slide.videoId = videoId;\n      slide.src = `https://player.vimeo.com/video/${videoId}?${params}`;\n      slide.vendor = \"vimeo\";\n\n      type = \"video\";\n    } else if (\n      (rez = src.match(\n        /(?:maps\\.)?google\\.([a-z]{2,3}(?:\\.[a-z]{2})?)\\/(?:(?:(?:maps\\/(?:place\\/(?:.*)\\/)?\\@(.*),(\\d+.?\\d+?)z))|(?:\\?ll=))(.*)?/i\n      ))\n    ) {\n      slide.src = `//maps.google.${rez[1]}/?ll=${(rez[2]\n        ? rez[2] + \"&z=\" + Math.floor(rez[3]) + (rez[4] ? rez[4].replace(/^\\//, \"&\") : \"\")\n        : rez[4] + \"\"\n      ).replace(/\\?/, \"&\")}&output=${rez[4] && rez[4].indexOf(\"layer=c\") > 0 ? \"svembed\" : \"embed\"}`;\n\n      type = \"map\";\n    } else if ((rez = src.match(/(?:maps\\.)?google\\.([a-z]{2,3}(?:\\.[a-z]{2})?)\\/(?:maps\\/search\\/)(.*)/i))) {\n      slide.src = `//maps.google.${rez[1]}/maps?q=${rez[2].replace(\"query=\", \"q=\").replace(\"api=1\", \"\")}&output=embed`;\n\n      type = \"map\";\n    }\n\n    // Guess content type\n    if (!type) {\n      if (src.charAt(0) === \"#\") {\n        type = \"inline\";\n      } else if ((rez = src.match(/\\.(mp4|mov|ogv|webm)((\\?|#).*)?$/i))) {\n        type = \"html5video\";\n\n        slide.format = slide.format || \"video/\" + (rez[1] === \"ogv\" ? \"ogg\" : rez[1]);\n      } else if (src.match(/(^data:image\\/[a-z0-9+\\/=]*,)|(\\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\\?|#).*)?$)/i)) {\n        type = \"image\";\n      } else if (src.match(/\\.(pdf)((\\?|#).*)?$/i)) {\n        type = \"pdf\";\n      }\n    }\n\n    slide.type = type || this.fancybox.option(\"defaultType\", \"image\");\n\n    if (type === \"html5video\" || type === \"video\") {\n      slide.video = extend({}, this.fancybox.option(\"Html.video\"), slide.video);\n\n      if (slide._width && slide._height) {\n        slide.ratio = parseFloat(slide._width) / parseFloat(slide._height);\n      } else {\n        slide.ratio = slide.ratio || slide.video.ratio || defaults.video.ratio;\n      }\n    }\n  }\n\n  /**\n   * Start loading content when Fancybox is ready\n   */\n  onReady() {\n    this.fancybox.Carousel.slides.forEach((slide) => {\n      if (slide.$el) {\n        this.setContent(slide);\n\n        if (slide.index === this.fancybox.getSlide().index) {\n          this.playVideo(slide);\n        }\n      }\n    });\n  }\n\n  /**\n   * Process `Carousel.createSlide` event to create image content\n   * @param {Object} fancybox\n   * @param {Object} carousel\n   * @param {Object} slide\n   */\n  onCreateSlide(fancybox, carousel, slide) {\n    if (this.fancybox.state !== \"ready\") {\n      return;\n    }\n\n    this.setContent(slide);\n  }\n\n  /**\n   * Retrieve and set slide content\n   * @param {Object} slide\n   */\n  loadInlineContent(slide) {\n    let $content;\n\n    if (slide.src instanceof HTMLElement) {\n      $content = slide.src;\n    } else if (typeof slide.src === \"string\") {\n      const tmp = slide.src.split(\"#\", 2);\n      const id = tmp.length === 2 && tmp[0] === \"\" ? tmp[1] : tmp[0];\n\n      $content = document.getElementById(id);\n    }\n\n    if ($content) {\n      if (slide.type === \"clone\" || $content.$placeHolder) {\n        $content = $content.cloneNode(true);\n        let attrId = $content.getAttribute(\"id\");\n\n        attrId = attrId ? `${attrId}--clone` : `clone-${this.fancybox.id}-${slide.index}`;\n\n        $content.setAttribute(\"id\", attrId);\n      } else {\n        const $placeHolder = document.createElement(\"div\");\n        $placeHolder.classList.add(\"fancybox-placeholder\");\n        $content.parentNode.insertBefore($placeHolder, $content);\n        $content.$placeHolder = $placeHolder;\n      }\n\n      this.fancybox.setContent(slide, $content);\n    } else {\n      this.fancybox.setError(slide, \"{{ELEMENT_NOT_FOUND}}\");\n    }\n  }\n\n  /**\n   * Makes AJAX request and sets response as slide content\n   * @param {Object} slide\n   */\n  loadAjaxContent(slide) {\n    const fancybox = this.fancybox;\n    const xhr = new XMLHttpRequest();\n\n    fancybox.showLoading(slide);\n\n    xhr.onreadystatechange = function () {\n      if (xhr.readyState === XMLHttpRequest.DONE) {\n        if (fancybox.state === \"ready\") {\n          fancybox.hideLoading(slide);\n\n          if (xhr.status === 200) {\n            fancybox.setContent(slide, xhr.responseText);\n          } else {\n            fancybox.setError(slide, xhr.status === 404 ? \"{{AJAX_NOT_FOUND}}\" : \"{{AJAX_FORBIDDEN}}\");\n          }\n        }\n      }\n    };\n\n    const data = slide.ajax || null;\n\n    xhr.open(data ? \"POST\" : \"GET\", slide.src);\n    xhr.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n    xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n    xhr.send(data);\n\n    slide.xhr = xhr;\n  }\n\n  /**\n   * Creates iframe as slide content, preloads if needed before displaying\n   * @param {Object} slide\n   */\n  loadIframeContent(slide) {\n    const fancybox = this.fancybox;\n    const $iframe = document.createElement(\"iframe\");\n\n    $iframe.className = \"fancybox__iframe\";\n\n    $iframe.setAttribute(\"id\", `fancybox__iframe_${fancybox.id}_${slide.index}`);\n\n    $iframe.setAttribute(\"allow\", \"autoplay; fullscreen\");\n    $iframe.setAttribute(\"scrolling\", \"auto\");\n\n    slide.$iframe = $iframe;\n\n    if (slide.type !== \"iframe\" || slide.preload === false) {\n      $iframe.setAttribute(\"src\", slide.src);\n\n      this.fancybox.setContent(slide, $iframe);\n\n      this.resizeIframe(slide);\n\n      return;\n    }\n\n    fancybox.showLoading(slide);\n\n    const $content = document.createElement(\"div\");\n    $content.style.visibility = \"hidden\";\n\n    this.fancybox.setContent(slide, $content);\n\n    $content.appendChild($iframe);\n\n    $iframe.onerror = () => {\n      fancybox.setError(slide, \"{{IFRAME_ERROR}}\");\n    };\n\n    $iframe.onload = () => {\n      fancybox.hideLoading(slide);\n\n      let isFirstLoad = false;\n\n      if (!$iframe.isReady) {\n        $iframe.isReady = true;\n        isFirstLoad = true;\n      }\n\n      if (!$iframe.src.length) {\n        return;\n      }\n\n      $iframe.parentNode.style.visibility = \"\";\n\n      this.resizeIframe(slide);\n\n      if (isFirstLoad) {\n        fancybox.revealContent(slide);\n      }\n    };\n\n    $iframe.setAttribute(\"src\", slide.src);\n  }\n\n  /**\n   * Set CSS max/min width/height properties of the content to have the correct aspect ratio\n   * @param {Object} slide\n   */\n  setAspectRatio(slide) {\n    const $content = slide.$content;\n    const ratio = slide.ratio;\n\n    if (!$content) {\n      return;\n    }\n\n    let width = slide._width;\n    let height = slide._height;\n\n    if (ratio || (width && height)) {\n      Object.assign($content.style, {\n        width: width && height ? \"100%\" : \"\",\n        height: width && height ? \"100%\" : \"\",\n        maxWidth: \"\",\n        maxHeight: \"\",\n      });\n\n      let maxWidth = $content.offsetWidth;\n      let maxHeight = $content.offsetHeight;\n\n      width = width || maxWidth;\n      height = height || maxHeight;\n\n      // Resize to fit\n      if (width > maxWidth || height > maxHeight) {\n        let maxRatio = Math.min(maxWidth / width, maxHeight / height);\n\n        width = width * maxRatio;\n        height = height * maxRatio;\n      }\n\n      // Recheck ratio\n      if (Math.abs(width / height - ratio) > 0.01) {\n        if (ratio < width / height) {\n          width = height * ratio;\n        } else {\n          height = width / ratio;\n        }\n      }\n\n      Object.assign($content.style, {\n        width: `${width}px`,\n        height: `${height}px`,\n      });\n    }\n  }\n\n  /**\n   * Adjust the width and height of the iframe according to the content dimensions, or defined sizes\n   * @param {Object} slide\n   */\n  resizeIframe(slide) {\n    const $iframe = slide.$iframe;\n\n    if (!$iframe) {\n      return;\n    }\n\n    let width_ = slide._width || 0;\n    let height_ = slide._height || 0;\n\n    if (width_ && height_) {\n      slide.autoSize = false;\n    }\n\n    const $parent = $iframe.parentNode;\n    const parentStyle = $parent && $parent.style;\n\n    if (slide.preload !== false && slide.autoSize !== false && parentStyle) {\n      try {\n        const compStyles = window.getComputedStyle($parent),\n          paddingX = parseFloat(compStyles.paddingLeft) + parseFloat(compStyles.paddingRight),\n          paddingY = parseFloat(compStyles.paddingTop) + parseFloat(compStyles.paddingBottom);\n\n        const document = $iframe.contentWindow.document,\n          $html = document.getElementsByTagName(\"html\")[0],\n          $body = document.body;\n\n        // Allow content to expand horizontally\n        parentStyle.width = \"\";\n\n        // Get rid of vertical scrollbar\n        $body.style.overflow = \"hidden\";\n\n        width_ = width_ || $html.scrollWidth + paddingX;\n\n        parentStyle.width = `${width_}px`;\n\n        $body.style.overflow = \"\";\n\n        parentStyle.flex = \"0 0 auto\";\n        parentStyle.height = `${$body.scrollHeight}px`;\n\n        height_ = $html.scrollHeight + paddingY;\n      } catch (error) {\n        //\n      }\n    }\n\n    if (width_ || height_) {\n      const newStyle = {\n        flex: \"0 1 auto\",\n      };\n\n      if (width_) {\n        newStyle.width = `${width_}px`;\n      }\n\n      if (height_) {\n        newStyle.height = `${height_}px`;\n      }\n\n      Object.assign(parentStyle, newStyle);\n    }\n  }\n\n  /**\n   * Process `Carousel.onRefresh` event,\n   * trigger iframe autosizing and set content aspect ratio for each slide\n   * @param {Object} fancybox\n   * @param {Object} carousel\n   */\n  onRefresh(fancybox, carousel) {\n    carousel.slides.forEach((slide) => {\n      if (!slide.$el) {\n        return;\n      }\n\n      if (slide.$iframe) {\n        this.resizeIframe(slide);\n      }\n\n      if (slide.ratio) {\n        this.setAspectRatio(slide);\n      }\n    });\n  }\n\n  /**\n   * Process `Carousel.onCreateSlide` event to set content\n   * @param {Object} fancybox\n   * @param {Object} carousel\n   * @param {Object} slide\n   */\n  setContent(slide) {\n    if (!slide || slide.isDom) {\n      return;\n    }\n\n    switch (slide.type) {\n      case \"html\":\n        this.fancybox.setContent(slide, slide.src);\n        break;\n\n      case \"html5video\":\n        this.fancybox.setContent(\n          slide,\n          this.fancybox\n            .option(\"Html.html5video.tpl\")\n            .replace(/\\{\\{src\\}\\}/gi, slide.src)\n            .replace(\"{{format}}\", slide.format || (slide.html5video && slide.html5video.format) || \"\")\n            .replace(\"{{poster}}\", slide.poster || slide.thumb || \"\")\n        );\n\n        break;\n\n      case \"inline\":\n      case \"clone\":\n        this.loadInlineContent(slide);\n        break;\n\n      case \"ajax\":\n        this.loadAjaxContent(slide);\n        break;\n\n      case \"pdf\":\n      case \"video\":\n      case \"map\":\n        slide.preload = false;\n\n      case \"iframe\":\n        this.loadIframeContent(slide);\n\n        break;\n    }\n\n    if (slide.ratio) {\n      this.setAspectRatio(slide);\n    }\n  }\n\n  /**\n   * Process `Carousel.onSelectSlide` event to start video\n   * @param {Object} fancybox\n   * @param {Object} carousel\n   * @param {Object} slide\n   */\n  onSelectSlide(fancybox, carousel, slide) {\n    if (fancybox.state === \"ready\") {\n      this.playVideo(slide);\n    }\n  }\n\n  /**\n   * Attempts to begin playback of the media\n   * @param {Object} slide\n   */\n  playVideo(slide) {\n    if (slide.type === \"html5video\" && slide.video.autoplay) {\n      try {\n        const $video = slide.$el.querySelector(\"video\");\n\n        if ($video) {\n          const promise = $video.play();\n\n          if (promise !== undefined) {\n            promise\n              .then(() => {\n                // Autoplay started\n              })\n              .catch((error) => {\n                // Autoplay was prevented.\n                $video.muted = true;\n                $video.play();\n              });\n          }\n        }\n      } catch (err) {}\n    }\n\n    if (slide.type !== \"video\" || !(slide.$iframe && slide.$iframe.contentWindow)) {\n      return;\n    }\n\n    // This function will be repeatedly called to check\n    // if video iframe has been loaded to send message to start the video\n    const poller = () => {\n      if (slide.state === \"done\" && slide.$iframe && slide.$iframe.contentWindow) {\n        let command;\n\n        if (slide.$iframe.isReady) {\n          if (slide.video && slide.video.autoplay) {\n            if (slide.vendor == \"youtube\") {\n              command = {\n                event: \"command\",\n                func: \"playVideo\",\n              };\n            } else {\n              command = {\n                method: \"play\",\n                value: \"true\",\n              };\n            }\n          }\n\n          if (command) {\n            slide.$iframe.contentWindow.postMessage(JSON.stringify(command), \"*\");\n          }\n\n          return;\n        }\n\n        if (slide.vendor === \"youtube\") {\n          command = {\n            event: \"listening\",\n            id: slide.$iframe.getAttribute(\"id\"),\n          };\n\n          slide.$iframe.contentWindow.postMessage(JSON.stringify(command), \"*\");\n        }\n      }\n\n      slide.poller = setTimeout(poller, 250);\n    };\n\n    poller();\n  }\n\n  /**\n   * Process `Carousel.onUnselectSlide` event to pause video\n   * @param {Object} fancybox\n   * @param {Object} carousel\n   * @param {Object} slide\n   */\n  onUnselectSlide(fancybox, carousel, slide) {\n    if (slide.type === \"html5video\") {\n      try {\n        slide.$el.querySelector(\"video\").pause();\n      } catch (error) {}\n\n      return;\n    }\n\n    let command = false;\n\n    if (slide.vendor == \"vimeo\") {\n      command = {\n        method: \"pause\",\n        value: \"true\",\n      };\n    } else if (slide.vendor === \"youtube\") {\n      command = {\n        event: \"command\",\n        func: \"pauseVideo\",\n      };\n    }\n\n    if (command && slide.$iframe && slide.$iframe.contentWindow) {\n      slide.$iframe.contentWindow.postMessage(JSON.stringify(command), \"*\");\n    }\n\n    clearTimeout(slide.poller);\n  }\n\n  /**\n   * Process `Carousel.onRemoveSlide` event to do clean up\n   * @param {Object} fancybox\n   * @param {Object} carousel\n   * @param {Object} slide\n   */\n  onRemoveSlide(fancybox, carousel, slide) {\n    // Abort ajax request if exists\n    if (slide.xhr) {\n      slide.xhr.abort();\n      slide.xhr = null;\n    }\n\n    // Unload iframe content if exists\n    if (slide.$iframe) {\n      slide.$iframe.onload = slide.$iframe.onerror = null;\n\n      slide.$iframe.src = \"//about:blank\";\n      slide.$iframe = null;\n    }\n\n    // Clear inline content\n    const $content = slide.$content;\n\n    if (slide.type === \"inline\" && $content) {\n      $content.classList.remove(\"fancybox__content\");\n\n      if ($content.style.display !== \"none\") {\n        $content.style.display = \"none\";\n      }\n    }\n\n    if (slide.$closeButton) {\n      slide.$closeButton.remove();\n      slide.$closeButton = null;\n    }\n\n    const $placeHolder = $content && $content.$placeHolder;\n\n    if ($placeHolder) {\n      $placeHolder.parentNode.insertBefore($content, $placeHolder);\n      $placeHolder.remove();\n      $content.$placeHolder = null;\n    }\n  }\n\n  /**\n   * Process `window.message` event to mark video iframe element as `ready`\n   * @param {Object} e - Event\n   */\n  onMessage(e) {\n    try {\n      let data = JSON.parse(e.data);\n\n      if (e.origin === \"https://player.vimeo.com\") {\n        if (data.event === \"ready\") {\n          for (let $iframe of document.getElementsByClassName(\"fancybox__iframe\")) {\n            if ($iframe.contentWindow === e.source) {\n              $iframe.isReady = 1;\n            }\n          }\n        }\n      } else if (e.origin === \"https://www.youtube-nocookie.com\") {\n        if (data.event === \"onReady\") {\n          document.getElementById(data.id).isReady = 1;\n        }\n      }\n    } catch (ex) {}\n  }\n\n  attach() {\n    this.fancybox.on(this.events);\n\n    window.addEventListener(\"message\", this.onMessage, false);\n  }\n\n  detach() {\n    this.fancybox.off(this.events);\n\n    window.removeEventListener(\"message\", this.onMessage, false);\n  }\n}\n\n// Expose defaults\nHtml.defaults = defaults;\n","import { extend } from \"../../../shared/utils/extend.js\";\r\n\r\nimport { Panzoom } from \"../../../Panzoom/Panzoom.js\";\r\n\r\nconst defaults = {\r\n  // Class name for slide element indicating that content can be zoomed in\r\n  canZoomInClass: \"can-zoom_in\",\r\n\r\n  // Class name for slide element indicating that content can be zoomed out\r\n  canZoomOutClass: \"can-zoom_out\",\r\n\r\n  // Do zoom animation from thumbnail image when starting or closing fancybox\r\n  zoom: true,\r\n\r\n  // Animate opacity while zooming\r\n  zoomOpacity: \"auto\", // \"auto\" | true | false,\r\n\r\n  // Zoom animation friction\r\n  zoomFriction: 0.82,\r\n\r\n  // Disable zoom animation if thumbnail is visible only partly\r\n  ignoreCoveredThumbnail: false,\r\n\r\n  // Enable guestures\r\n  touch: true,\r\n\r\n  // Action to be performed when user clicks on the image\r\n  click: \"toggleZoom\", // \"toggleZoom\" | \"next\" | \"close\" | null\r\n\r\n  // Action to be performed when double-click event is detected on the image\r\n  doubleClick: null, // \"toggleZoom\" | null\r\n\r\n  // Action to be performed when user rotates a wheel button on a pointing device\r\n  wheel: \"zoom\", // \"zoom\" | \"slide\" | \"close\" | null\r\n\r\n  // How image should be resized to fit its container\r\n  fit: \"contain\", // \"contain\" | \"contain-w\" | \"cover\"\r\n\r\n  // Should create wrapping element around the image\r\n  wrap: false,\r\n\r\n  // Custom Panzoom options\r\n  Panzoom: {\r\n    ratio: 1,\r\n  },\r\n};\r\n\r\nexport class Image {\r\n  constructor(fancybox) {\r\n    this.fancybox = fancybox;\r\n\r\n    for (const methodName of [\r\n      // Fancybox\r\n      \"onReady\",\r\n      \"onClosing\",\r\n      \"onDone\",\r\n\r\n      // Fancybox.Carousel\r\n      \"onPageChange\",\r\n      \"onCreateSlide\",\r\n      \"onRemoveSlide\",\r\n\r\n      // Image load/error\r\n      \"onImageStatusChange\",\r\n    ]) {\r\n      this[methodName] = this[methodName].bind(this);\r\n    }\r\n\r\n    this.events = {\r\n      ready: this.onReady,\r\n      closing: this.onClosing,\r\n      done: this.onDone,\r\n\r\n      \"Carousel.change\": this.onPageChange,\r\n      \"Carousel.createSlide\": this.onCreateSlide,\r\n      \"Carousel.removeSlide\": this.onRemoveSlide,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Handle `ready` event to start loading content\r\n   */\r\n  onReady() {\r\n    this.fancybox.Carousel.slides.forEach((slide) => {\r\n      if (slide.$el) {\r\n        this.setContent(slide);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Handle `done` event to update cursor\r\n   * @param {Object} fancybox\r\n   * @param {Object} slide\r\n   */\r\n  onDone(fancybox, slide) {\r\n    this.handleCursor(slide);\r\n  }\r\n\r\n  /**\r\n   * Handle `closing` event to clean up all slides and to start zoom-out animation\r\n   * @param {Object} fancybox\r\n   */\r\n  onClosing(fancybox) {\r\n    clearTimeout(this.clickTimer);\r\n    this.clickTimer = null;\r\n\r\n    // Remove events\r\n    fancybox.Carousel.slides.forEach((slide) => {\r\n      if (slide.$image) {\r\n        slide.state = \"destroy\";\r\n      }\r\n\r\n      if (slide.Panzoom) {\r\n        slide.Panzoom.detachEvents();\r\n      }\r\n    });\r\n\r\n    // If possible, start the zoom animation, it will interrupt the default closing process\r\n    if (this.fancybox.state === \"closing\" && this.canZoom(fancybox.getSlide())) {\r\n      this.zoomOut();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Process `Carousel.createSlide` event to create image content\r\n   * @param {Object} fancybox\r\n   * @param {Object} carousel\r\n   * @param {Object} slide\r\n   */\r\n  onCreateSlide(fancybox, carousel, slide) {\r\n    if (this.fancybox.state !== \"ready\") {\r\n      return;\r\n    }\r\n\r\n    this.setContent(slide);\r\n  }\r\n\r\n  /**\r\n   * Handle `Carousel.removeSlide` event to do clean up the slide\r\n   * @param {Object} fancybox\r\n   * @param {Object} carousel\r\n   * @param {Object} slide\r\n   */\r\n  onRemoveSlide(fancybox, carousel, slide) {\r\n    if (slide.$image) {\r\n      slide.$el.classList.remove(fancybox.option(\"Image.canZoomInClass\"));\r\n\r\n      slide.$image.remove();\r\n      slide.$image = null;\r\n    }\r\n\r\n    if (slide.Panzoom) {\r\n      slide.Panzoom.destroy();\r\n      slide.Panzoom = null;\r\n    }\r\n\r\n    if (slide.$el && slide.$el.dataset) {\r\n      delete slide.$el.dataset.imageFit;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Build DOM elements and add event listeners\r\n   * @param {Object} slide\r\n   */\r\n  setContent(slide) {\r\n    // Check if this slide should contain an image\r\n    if (slide.isDom || slide.html || (slide.type && slide.type !== \"image\")) {\r\n      return;\r\n    }\r\n\r\n    if (slide.$image) {\r\n      return;\r\n    }\r\n\r\n    slide.type = \"image\";\r\n    slide.state = \"loading\";\r\n\r\n    // * Build layout\r\n    // Container\r\n    const $content = document.createElement(\"div\");\r\n    $content.style.visibility = \"hidden\";\r\n\r\n    // Image element\r\n    const $image = document.createElement(\"img\");\r\n\r\n    $image.addEventListener(\"load\", (event) => {\r\n      event.stopImmediatePropagation();\r\n\r\n      this.onImageStatusChange(slide);\r\n    });\r\n\r\n    $image.addEventListener(\"error\", () => {\r\n      this.onImageStatusChange(slide);\r\n    });\r\n\r\n    $image.src = slide.src;\r\n    $image.alt = \"\";\r\n    $image.draggable = false;\r\n\r\n    $image.classList.add(\"fancybox__image\");\r\n\r\n    if (slide.srcset) {\r\n      $image.setAttribute(\"srcset\", slide.srcset);\r\n    }\r\n\r\n    if (slide.sizes) {\r\n      $image.setAttribute(\"sizes\", slide.sizes);\r\n    }\r\n\r\n    slide.$image = $image;\r\n\r\n    const shouldWrap = this.fancybox.option(\"Image.wrap\");\r\n\r\n    if (shouldWrap) {\r\n      const $wrap = document.createElement(\"div\");\r\n      $wrap.classList.add(typeof shouldWrap === \"string\" ? shouldWrap : \"fancybox__image-wrap\");\r\n\r\n      $wrap.appendChild($image);\r\n\r\n      $content.appendChild($wrap);\r\n\r\n      slide.$wrap = $wrap;\r\n    } else {\r\n      $content.appendChild($image);\r\n    }\r\n\r\n    // Set data attribute if other that default\r\n    // for example, set `[data-image-fit=\"contain-w\"]`\r\n    slide.$el.dataset.imageFit = this.fancybox.option(\"Image.fit\");\r\n\r\n    // Append content\r\n    this.fancybox.setContent(slide, $content);\r\n\r\n    // Display loading icon\r\n    if ($image.complete || $image.error) {\r\n      this.onImageStatusChange(slide);\r\n    } else {\r\n      this.fancybox.showLoading(slide);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle image state change, display error or start revealing image\r\n   * @param {Object} slide\r\n   */\r\n  onImageStatusChange(slide) {\r\n    const $image = slide.$image;\r\n\r\n    if (!$image || slide.state !== \"loading\") {\r\n      return;\r\n    }\r\n\r\n    if (!($image.complete && $image.naturalWidth && $image.naturalHeight)) {\r\n      this.fancybox.setError(slide, \"{{IMAGE_ERROR}}\");\r\n\r\n      return;\r\n    }\r\n\r\n    this.fancybox.hideLoading(slide);\r\n\r\n    if (this.fancybox.option(\"Image.fit\") === \"contain\") {\r\n      this.initSlidePanzoom(slide);\r\n    }\r\n\r\n    // Add `wheel` and `click` event handler\r\n    slide.$el.addEventListener(\"wheel\", (event) => this.onWheel(slide, event), { passive: false });\r\n    slide.$content.addEventListener(\"click\", (event) => this.onClick(slide, event), { passive: false });\r\n\r\n    this.revealContent(slide);\r\n  }\r\n\r\n  /**\r\n   * Make image zoomable and draggable using Panzoom\r\n   * @param {Object} slide\r\n   */\r\n  initSlidePanzoom(slide) {\r\n    if (slide.Panzoom) {\r\n      return;\r\n    }\r\n\r\n    //* Initialize Panzoom\r\n    slide.Panzoom = new Panzoom(\r\n      slide.$el,\r\n      extend(true, this.fancybox.option(\"Image.Panzoom\", {}), {\r\n        viewport: slide.$wrap,\r\n        content: slide.$image,\r\n\r\n        width: slide._width,\r\n        height: slide._height,\r\n\r\n        wrapInner: false,\r\n\r\n        // Allow to select caption text\r\n        textSelection: true,\r\n\r\n        // Toggle gestures\r\n        touch: this.fancybox.option(\"Image.touch\"),\r\n\r\n        // This will prevent click conflict with fancybox main carousel\r\n        panOnlyZoomed: true,\r\n\r\n        // Disable default click / wheel events as custom event listeners will replace them,\r\n        // because click and wheel events should work without Panzoom\r\n        click: false,\r\n        wheel: false,\r\n      })\r\n    );\r\n\r\n    slide.Panzoom.on(\"startAnimation\", () => {\r\n      this.fancybox.trigger(\"Image.startAnimation\", slide);\r\n    });\r\n\r\n    slide.Panzoom.on(\"endAnimation\", () => {\r\n      if (slide.state === \"zoomIn\") {\r\n        this.fancybox.done(slide);\r\n      }\r\n\r\n      this.handleCursor(slide);\r\n\r\n      this.fancybox.trigger(\"Image.endAnimation\", slide);\r\n    });\r\n\r\n    slide.Panzoom.on(\"afterUpdate\", () => {\r\n      this.handleCursor(slide);\r\n\r\n      this.fancybox.trigger(\"Image.afterUpdate\", slide);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Start zoom-in animation if possible, or simply reveal content\r\n   * @param {Object} slide\r\n   */\r\n  revealContent(slide) {\r\n    // Animate only on first run\r\n    if (\r\n      this.fancybox.Carousel.prevPage === null &&\r\n      slide.index === this.fancybox.options.startIndex &&\r\n      this.canZoom(slide)\r\n    ) {\r\n      this.zoomIn();\r\n    } else {\r\n      this.fancybox.revealContent(slide);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get zoom info for selected slide\r\n   * @param {Object} slide\r\n   */\r\n  getZoomInfo(slide) {\r\n    const $thumb = slide.$thumb,\r\n      thumbRect = $thumb.getBoundingClientRect(),\r\n      thumbWidth = thumbRect.width,\r\n      thumbHeight = thumbRect.height,\r\n      //\r\n      contentRect = slide.$content.getBoundingClientRect(),\r\n      contentWidth = contentRect.width,\r\n      contentHeight = contentRect.height,\r\n      //\r\n      shiftedTop = contentRect.top - thumbRect.top,\r\n      shiftedLeft = contentRect.left - thumbRect.left;\r\n\r\n    // Check if need to update opacity\r\n    let opacity = this.fancybox.option(\"Image.zoomOpacity\");\r\n\r\n    if (opacity === \"auto\") {\r\n      opacity = Math.abs(thumbWidth / thumbHeight - contentWidth / contentHeight) > 0.1;\r\n    }\r\n\r\n    return {\r\n      top: shiftedTop,\r\n      left: shiftedLeft,\r\n      scale: contentWidth && thumbWidth ? thumbWidth / contentWidth : 1,\r\n      opacity: opacity,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Determine if it is possible to do zoom-in animation\r\n   */\r\n  canZoom(slide) {\r\n    const fancybox = this.fancybox,\r\n      $container = fancybox.$container;\r\n\r\n    if (window.visualViewport && window.visualViewport.scale !== 1) {\r\n      return false;\r\n    }\r\n\r\n    if (slide.Panzoom && !slide.Panzoom.content.width) {\r\n      return false;\r\n    }\r\n\r\n    if (!fancybox.option(\"Image.zoom\") || fancybox.option(\"Image.fit\") !== \"contain\") {\r\n      return false;\r\n    }\r\n\r\n    const $thumb = slide.$thumb;\r\n\r\n    if (!$thumb || slide.state === \"loading\") {\r\n      return false;\r\n    }\r\n\r\n    // * Check if thumbnail image is really visible\r\n    $container.classList.add(\"fancybox__no-click\");\r\n\r\n    const rect = $thumb.getBoundingClientRect();\r\n\r\n    let rez;\r\n\r\n    // Check if thumbnail image is actually visible on the screen\r\n    if (this.fancybox.option(\"Image.ignoreCoveredThumbnail\")) {\r\n      const visibleTopLeft = document.elementFromPoint(rect.left + 1, rect.top + 1) === $thumb;\r\n      const visibleBottomRight = document.elementFromPoint(rect.right - 1, rect.bottom - 1) === $thumb;\r\n\r\n      rez = visibleTopLeft && visibleBottomRight;\r\n    } else {\r\n      rez = document.elementFromPoint(rect.left + rect.width * 0.5, rect.top + rect.height * 0.5) === $thumb;\r\n    }\r\n\r\n    $container.classList.remove(\"fancybox__no-click\");\r\n\r\n    return rez;\r\n  }\r\n\r\n  /**\r\n   * Perform zoom-in animation\r\n   */\r\n  zoomIn() {\r\n    const fancybox = this.fancybox,\r\n      slide = fancybox.getSlide(),\r\n      Panzoom = slide.Panzoom;\r\n\r\n    const { top, left, scale, opacity } = this.getZoomInfo(slide);\r\n\r\n    fancybox.trigger(\"reveal\", slide);\r\n\r\n    // Scale and move to start position\r\n    Panzoom.panTo({\r\n      x: left * -1,\r\n      y: top * -1,\r\n      scale: scale,\r\n      friction: 0,\r\n      ignoreBounds: true,\r\n    });\r\n\r\n    slide.$content.style.visibility = \"\";\r\n\r\n    slide.state = \"zoomIn\";\r\n\r\n    if (opacity === true) {\r\n      Panzoom.on(\"afterTransform\", (panzoom) => {\r\n        if (slide.state === \"zoomIn\" || slide.state === \"zoomOut\") {\r\n          panzoom.$content.style.opacity = Math.min(1, 1 - (1 - panzoom.content.scale) / (1 - scale));\r\n        }\r\n      });\r\n    }\r\n\r\n    // Animate back to original position\r\n    Panzoom.panTo({\r\n      x: 0,\r\n      y: 0,\r\n      scale: 1,\r\n      friction: this.fancybox.option(\"Image.zoomFriction\"),\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Perform zoom-out animation\r\n   */\r\n  zoomOut() {\r\n    const fancybox = this.fancybox,\r\n      slide = fancybox.getSlide(),\r\n      Panzoom = slide.Panzoom;\r\n\r\n    if (!Panzoom) {\r\n      return;\r\n    }\r\n\r\n    slide.state = \"zoomOut\";\r\n    fancybox.state = \"customClosing\";\r\n\r\n    if (slide.$caption) {\r\n      slide.$caption.style.visibility = \"hidden\";\r\n    }\r\n\r\n    let friction = this.fancybox.option(\"Image.zoomFriction\");\r\n\r\n    const animatePosition = (event) => {\r\n      const { top, left, scale, opacity } = this.getZoomInfo(slide);\r\n\r\n      // Increase speed on the first run if opacity is not animated\r\n      if (!event && !opacity) {\r\n        friction *= 0.82;\r\n      }\r\n\r\n      Panzoom.panTo({\r\n        x: left * -1,\r\n        y: top * -1,\r\n        scale,\r\n        friction,\r\n        ignoreBounds: true,\r\n      });\r\n\r\n      // Gradually increase speed\r\n      friction *= 0.98;\r\n    };\r\n\r\n    // Page scrolling will cause thumbnail to change position on the display,\r\n    // therefore animation end position has to be recalculated after each page scroll\r\n    window.addEventListener(\"scroll\", animatePosition);\r\n\r\n    Panzoom.once(\"endAnimation\", () => {\r\n      window.removeEventListener(\"scroll\", animatePosition);\r\n      fancybox.destroy();\r\n    });\r\n\r\n    animatePosition();\r\n  }\r\n\r\n  /**\r\n   * Set the type of mouse cursor to indicate if content is zoomable\r\n   * @param {Object} slide\r\n   */\r\n  handleCursor(slide) {\r\n    if (slide.type !== \"image\" || !slide.$el) {\r\n      return;\r\n    }\r\n\r\n    const panzoom = slide.Panzoom;\r\n    const clickAction = this.fancybox.option(\"Image.click\", false, slide);\r\n    const touchIsEnabled = this.fancybox.option(\"Image.touch\");\r\n\r\n    const classList = slide.$el.classList;\r\n\r\n    const zoomInClass = this.fancybox.option(\"Image.canZoomInClass\");\r\n    const zoomOutClass = this.fancybox.option(\"Image.canZoomOutClass\");\r\n\r\n    classList.remove(zoomOutClass);\r\n    classList.remove(zoomInClass);\r\n\r\n    if (panzoom && clickAction === \"toggleZoom\") {\r\n      const canZoomIn =\r\n        panzoom && panzoom.content.scale === 1 && panzoom.option(\"maxScale\") - panzoom.content.scale > 0.01;\r\n\r\n      if (canZoomIn) {\r\n        classList.add(zoomInClass);\r\n      } else if (panzoom.content.scale > 1 && !touchIsEnabled) {\r\n        classList.add(zoomOutClass);\r\n      }\r\n    } else if (clickAction === \"close\") {\r\n      classList.add(zoomOutClass);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle `wheel` event\r\n   * @param {Object} slide\r\n   * @param {Object} event\r\n   */\r\n  onWheel(slide, event) {\r\n    if (this.fancybox.state !== \"ready\") {\r\n      return;\r\n    }\r\n\r\n    if (this.fancybox.trigger(\"Image.wheel\", event) === false) {\r\n      return;\r\n    }\r\n\r\n    switch (this.fancybox.option(\"Image.wheel\")) {\r\n      case \"zoom\":\r\n        if (slide.state === \"done\") {\r\n          slide.Panzoom && slide.Panzoom.zoomWithWheel(event);\r\n        }\r\n\r\n        break;\r\n\r\n      case \"close\":\r\n        this.fancybox.close();\r\n\r\n        break;\r\n\r\n      case \"slide\":\r\n        this.fancybox[event.deltaY < 0 ? \"prev\" : \"next\"]();\r\n\r\n        break;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle `click` and `dblclick` events\r\n   * @param {Object} slide\r\n   * @param {Object} event\r\n   */\r\n  onClick(slide, event) {\r\n    // Check that clicks should be allowed\r\n    if (this.fancybox.state !== \"ready\") {\r\n      return;\r\n    }\r\n\r\n    const panzoom = slide.Panzoom;\r\n\r\n    if (\r\n      panzoom &&\r\n      (panzoom.dragPosition.midPoint ||\r\n        panzoom.dragOffset.x !== 0 ||\r\n        panzoom.dragOffset.y !== 0 ||\r\n        panzoom.dragOffset.scale !== 1)\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    if (this.fancybox.Carousel.Panzoom.lockAxis) {\r\n      return false;\r\n    }\r\n\r\n    const process = (action) => {\r\n      switch (action) {\r\n        case \"toggleZoom\":\r\n          event.stopPropagation();\r\n\r\n          slide.Panzoom && slide.Panzoom.zoomWithClick(event);\r\n\r\n          break;\r\n\r\n        case \"close\":\r\n          this.fancybox.close();\r\n\r\n          break;\r\n\r\n        case \"next\":\r\n          event.stopPropagation();\r\n\r\n          this.fancybox.next();\r\n\r\n          break;\r\n      }\r\n    };\r\n\r\n    const clickAction = this.fancybox.option(\"Image.click\");\r\n    const dblclickAction = this.fancybox.option(\"Image.doubleClick\");\r\n\r\n    if (dblclickAction) {\r\n      if (this.clickTimer) {\r\n        clearTimeout(this.clickTimer);\r\n        this.clickTimer = null;\r\n\r\n        process(dblclickAction);\r\n      } else {\r\n        this.clickTimer = setTimeout(() => {\r\n          this.clickTimer = null;\r\n          process(clickAction);\r\n        }, 300);\r\n      }\r\n    } else {\r\n      process(clickAction);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle `Carousel.change` event to reset zoom level for any zoomed in/out content\r\n   * and to revel content of the current page\r\n   * @param {Object} fancybox\r\n   * @param {Object} carousel\r\n   */\r\n  onPageChange(fancybox, carousel) {\r\n    const currSlide = fancybox.getSlide();\r\n\r\n    carousel.slides.forEach((slide) => {\r\n      if (!slide.Panzoom || slide.state !== \"done\") {\r\n        return;\r\n      }\r\n\r\n      if (slide.index !== currSlide.index) {\r\n        slide.Panzoom.panTo({\r\n          x: 0,\r\n          y: 0,\r\n          scale: 1,\r\n          friction: 0.8,\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  attach() {\r\n    this.fancybox.on(this.events);\r\n  }\r\n\r\n  detach() {\r\n    this.fancybox.off(this.events);\r\n  }\r\n}\r\n\r\n// Expose defaults\r\nImage.defaults = defaults;\r\n","import { canUseDOM } from \"../../../shared/utils/canUseDOM.js\";\n\nexport class Hash {\n  constructor(fancybox) {\n    this.fancybox = fancybox;\n\n    for (const methodName of [\"onChange\", \"onClosing\"]) {\n      this[methodName] = this[methodName].bind(this);\n    }\n\n    this.events = {\n      initCarousel: this.onChange,\n      \"Carousel.change\": this.onChange,\n      closing: this.onClosing,\n    };\n\n    this.hasCreatedHistory = false;\n    this.origHash = \"\";\n    this.timer = null;\n  }\n\n  /**\n   * Process `Carousel.ready` and `Carousel.change` events to update URL hash\n   * @param {Object} fancybox\n   * @param {Object} carousel\n   */\n  onChange(fancybox) {\n    const carousel = fancybox.Carousel;\n\n    if (this.timer) {\n      clearTimeout(this.timer);\n    }\n\n    const firstRun = carousel.prevPage === null;\n    const currentSlide = fancybox.getSlide();\n\n    const currentHash = new URL(document.URL).hash;\n\n    let newHash = false;\n\n    if (currentSlide.slug) {\n      newHash = \"#\" + currentSlide.slug;\n    } else {\n      const dataset = currentSlide.$trigger && currentSlide.$trigger.dataset;\n      const slug = fancybox.option(\"slug\") || (dataset && dataset.fancybox);\n\n      if (slug && slug.length && slug !== \"true\") {\n        newHash = \"#\" + slug + (carousel.slides.length > 1 ? \"-\" + (currentSlide.index + 1) : \"\");\n      }\n    }\n\n    if (firstRun) {\n      this.origHash = currentHash !== newHash ? currentHash : \"\";\n    }\n\n    if (newHash && currentHash !== newHash) {\n      this.timer = setTimeout(() => {\n        try {\n          window.history[firstRun ? \"pushState\" : \"replaceState\"](\n            {},\n            document.title,\n            window.location.pathname + window.location.search + newHash\n          );\n\n          if (firstRun) {\n            this.hasCreatedHistory = true;\n          }\n        } catch (e) {}\n      }, 300);\n    }\n  }\n\n  /**\n   * Process `closing` event to clean up\n   */\n  onClosing() {\n    if (this.timer) {\n      clearTimeout(this.timer);\n    }\n\n    // Skip if closing is triggered by pressing  browser back button or by changing hash manually\n    if (this.hasSilentClose === true) {\n      return;\n    }\n\n    // Restore original url\n    try {\n      window.history.replaceState(\n        {},\n        document.title,\n        window.location.pathname + window.location.search + (this.origHash || \"\")\n      );\n\n      return;\n    } catch (e) {}\n  }\n\n  attach(fancybox) {\n    fancybox.on(this.events);\n  }\n\n  detach(fancybox) {\n    fancybox.off(this.events);\n  }\n\n  /**\n   * Start fancybox from current URL hash,\n   * this will be called on page load OR/AND after changing URL hash\n   * @param {Class} Fancybox\n   */\n  static startFromUrl() {\n    const Fancybox = Hash.Fancybox;\n\n    if (!Fancybox || Fancybox.getInstance() || Fancybox.defaults.Hash === false) {\n      return;\n    }\n\n    const { hash, slug, index } = Hash.getParsedURL();\n\n    if (!slug) {\n      return;\n    }\n\n    // Support custom slug\n    // ===\n    let selectedElem = document.querySelector(`[data-slug=\"${hash}\"]`);\n\n    if (selectedElem) {\n      selectedElem.dispatchEvent(new CustomEvent(\"click\", { bubbles: true, cancelable: true }));\n    }\n\n    if (Fancybox.getInstance()) {\n      return;\n    }\n\n    // If elements are not found by custom slug, use URL hash value as group name\n    // ===\n    const groupElems = document.querySelectorAll(`[data-fancybox=\"${slug}\"]`);\n\n    if (!groupElems.length) {\n      return;\n    }\n\n    if (index === null && groupElems.length === 1) {\n      selectedElem = groupElems[0];\n    } else if (index) {\n      selectedElem = groupElems[index - 1];\n    }\n\n    if (selectedElem) {\n      selectedElem.dispatchEvent(new CustomEvent(\"click\", { bubbles: true, cancelable: true }));\n    }\n  }\n\n  /**\n   * Handle `hash` change, change gallery item to current index or start/close current instance\n   */\n  static onHashChange() {\n    const { slug, index } = Hash.getParsedURL();\n\n    const Fancybox = Hash.Fancybox;\n    const instance = Fancybox && Fancybox.getInstance();\n\n    if (instance && instance.plugins.Hash) {\n      // Check if hash matches currently active gallery\n      if (slug) {\n        const carousel = instance.Carousel;\n\n        /**\n         * Support manually opened gallery\n         */\n        if (slug === instance.option(\"slug\")) {\n          return carousel.slideTo(index - 1);\n        }\n\n        /**\n         * Check if URL hash matches `data-slug` value of active element\n         */\n        for (let slide of carousel.slides) {\n          if (slide.slug && slide.slug === slug) {\n            return carousel.slideTo(slide.index);\n          }\n        }\n\n        /**\n         * Check if URL hash matches `data-fancybox` value of active element\n         */\n        const slide = instance.getSlide();\n        const dataset = slide.$trigger && slide.$trigger.dataset;\n\n        if (dataset && dataset.fancybox === slug) {\n          return carousel.slideTo(index - 1);\n        }\n      }\n\n      /**\n       * Close if no matching element found\n       */\n      instance.plugins.Hash.hasSilentClose = true;\n\n      instance.close();\n    }\n\n    /**\n     * Attempt to start\n     */\n    Hash.startFromUrl();\n  }\n\n  /**\n   * Add event bindings that will start new Fancybox instance based in the current URL\n   */\n  static create(Fancybox) {\n    Hash.Fancybox = Fancybox;\n\n    function proceed() {\n      window.addEventListener(\"hashchange\", Hash.onHashChange, false);\n\n      Hash.startFromUrl();\n    }\n\n    if (canUseDOM) {\n      window.requestAnimationFrame(() => {\n        if (/complete|interactive|loaded/.test(document.readyState)) {\n          proceed();\n        } else {\n          document.addEventListener(\"DOMContentLoaded\", proceed);\n        }\n      });\n    }\n  }\n\n  static destroy() {\n    window.removeEventListener(\"hashchange\", Hash.onHashChange, false);\n  }\n\n  /**\n   * Helper method to split URL hash into useful pieces\n   */\n  static getParsedURL() {\n    const hash = window.location.hash.substr(1),\n      tmp = hash.split(\"-\"),\n      index = tmp.length > 1 && /^\\+?\\d+$/.test(tmp[tmp.length - 1]) ? parseInt(tmp.pop(-1), 10) || null : null,\n      slug = tmp.join(\"-\");\n\n    return {\n      hash,\n      slug,\n      index,\n    };\n  }\n}\n","export const Fullscreen = {\r\n  pageXOffset: 0,\r\n  pageYOffset: 0,\r\n\r\n  element() {\r\n    return document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement;\r\n  },\r\n\r\n  activate(element) {\r\n    Fullscreen.pageXOffset = window.pageXOffset;\r\n    Fullscreen.pageYOffset = window.pageYOffset;\r\n\r\n    if (element.requestFullscreen) {\r\n      element.requestFullscreen(); // W3C spec\r\n    } else if (element.mozRequestFullScreen) {\r\n      element.mozRequestFullScreen(); // Firefox\r\n    } else if (element.webkitRequestFullscreen) {\r\n      element.webkitRequestFullscreen(); // Safari\r\n    } else if (element.msRequestFullscreen) {\r\n      element.msRequestFullscreen(); // IE/Edge\r\n    }\r\n  },\r\n\r\n  deactivate() {\r\n    if (document.exitFullscreen) {\r\n      document.exitFullscreen();\r\n    } else if (document.mozCancelFullScreen) {\r\n      document.mozCancelFullScreen();\r\n    } else if (document.webkitExitFullscreen) {\r\n      document.webkitExitFullscreen();\r\n    }\r\n  },\r\n};\r\n","export class Slideshow {\r\n  constructor(fancybox) {\r\n    this.fancybox = fancybox;\r\n    this.active = false;\r\n\r\n    this.handleVisibilityChange = this.handleVisibilityChange.bind(this);\r\n  }\r\n\r\n  isActive() {\r\n    return this.active;\r\n  }\r\n\r\n  setTimer() {\r\n    if (!this.active || this.timer) {\r\n      return;\r\n    }\r\n\r\n    const delay = this.fancybox.option(\"slideshow.delay\", 3000);\r\n\r\n    this.timer = setTimeout(() => {\r\n      this.timer = null;\r\n\r\n      if (\r\n        !this.fancybox.option(\"infinite\") &&\r\n        this.fancybox.getSlide().index === this.fancybox.Carousel.slides.length - 1\r\n      ) {\r\n        this.fancybox.jumpTo(0, { friction: 0 });\r\n      } else {\r\n        this.fancybox.next();\r\n      }\r\n    }, delay);\r\n\r\n    let $progress = this.$progress;\r\n\r\n    if (!$progress) {\r\n      $progress = document.createElement(\"div\");\r\n      $progress.classList.add(\"fancybox__progress\");\r\n\r\n      this.fancybox.$carousel.parentNode.insertBefore($progress, this.fancybox.$carousel);\r\n\r\n      this.$progress = $progress;\r\n\r\n      $progress.offsetHeight; /* trigger reflow */\r\n    }\r\n\r\n    $progress.style.transitionDuration = `${delay}ms`;\r\n    $progress.style.transform = \"scaleX(1)\";\r\n  }\r\n\r\n  clearTimer() {\r\n    clearTimeout(this.timer);\r\n    this.timer = null;\r\n\r\n    if (this.$progress) {\r\n      this.$progress.style.transitionDuration = \"\";\r\n      this.$progress.style.transform = \"\";\r\n\r\n      this.$progress.offsetHeight; /* trigger reflow */\r\n    }\r\n  }\r\n\r\n  activate() {\r\n    if (this.active) {\r\n      return;\r\n    }\r\n\r\n    this.active = true;\r\n    this.fancybox.$container.classList.add(\"has-slideshow\");\r\n\r\n    if (this.fancybox.getSlide().state === \"done\") {\r\n      this.setTimer();\r\n    }\r\n\r\n    document.addEventListener(\"visibilitychange\", this.handleVisibilityChange, false);\r\n  }\r\n\r\n  handleVisibilityChange() {\r\n    this.deactivate();\r\n  }\r\n\r\n  deactivate() {\r\n    this.active = false;\r\n\r\n    this.clearTimer();\r\n\r\n    this.fancybox.$container.classList.remove(\"has-slideshow\");\r\n\r\n    document.removeEventListener(\"visibilitychange\", this.handleVisibilityChange, false);\r\n  }\r\n\r\n  toggle() {\r\n    if (this.active) {\r\n      this.deactivate();\r\n    } else if (this.fancybox.Carousel.slides.length > 1) {\r\n      this.activate();\r\n    }\r\n  }\r\n}\r\n","import { isPlainObject } from \"../../../shared/utils/isPlainObject.js\";\r\nimport { extend } from \"../../../shared/utils/extend.js\";\r\n\r\nimport { Fullscreen } from \"../../../shared/utils/Fullscreen.js\";\r\nimport { Slideshow } from \"../../../shared/utils/Slideshow.js\";\r\n\r\nconst defaults = {\r\n  // What toolbar items to display\r\n  display: [\r\n    \"counter\",\r\n    //\"prev\",\r\n    //\"next\",\r\n    //\"download\",\r\n    \"zoom\",\r\n    \"slideshow\",\r\n    \"fullscreen\",\r\n    \"thumbs\",\r\n    \"close\",\r\n  ],\r\n\r\n  // Only create a toolbar item if there is at least one image in the group\r\n  autoEnable: true,\r\n\r\n  // Toolbar items; can be links, buttons or `div` elements\r\n  items: {\r\n    counter: {\r\n      position: \"left\",\r\n      type: \"div\",\r\n      class: \"fancybox__counter\",\r\n      html: '<span data-fancybox-index=\"\"></span>&nbsp;/&nbsp;<span data-fancybox-count=\"\"></span>',\r\n      attr: { tabindex: -1 },\r\n    },\r\n    prev: {\r\n      type: \"button\",\r\n      class: \"fancybox__button--prev\",\r\n      label: \"PREV\",\r\n      html: '<svg viewBox=\"0 0 24 24\"><path d=\"M15 4l-8 8 8 8\"/></svg>',\r\n      attr: { \"data-fancybox-prev\": \"\" },\r\n    },\r\n    next: {\r\n      type: \"button\",\r\n      class: \"fancybox__button--next\",\r\n      label: \"NEXT\",\r\n      html: '<svg viewBox=\"0 0 24 24\"><path d=\"M8 4l8 8-8 8\"/></svg>',\r\n      attr: { \"data-fancybox-next\": \"\" },\r\n    },\r\n    fullscreen: {\r\n      type: \"button\",\r\n      class: \"fancybox__button--fullscreen\",\r\n      label: \"TOGGLE_FULLSCREEN\",\r\n      html: `<svg viewBox=\"0 0 24 24\">\r\n                <g><path d=\"M3 8 V3h5\"></path><path d=\"M21 8V3h-5\"></path><path d=\"M8 21H3v-5\"></path><path d=\"M16 21h5v-5\"></path></g>\r\n                <g><path d=\"M7 2v5H2M17 2v5h5M2 17h5v5M22 17h-5v5\"/></g>\r\n            </svg>`,\r\n      click: function (event) {\r\n        event.preventDefault();\r\n\r\n        if (Fullscreen.element()) {\r\n          Fullscreen.deactivate();\r\n        } else {\r\n          Fullscreen.activate(this.fancybox.$container);\r\n        }\r\n      },\r\n    },\r\n    slideshow: {\r\n      type: \"button\",\r\n      class: \"fancybox__button--slideshow\",\r\n      label: \"TOGGLE_SLIDESHOW\",\r\n      html: `<svg viewBox=\"0 0 24 24\">\r\n                <g><path d=\"M6 4v16\"/><path d=\"M20 12L6 20\"/><path d=\"M20 12L6 4\"/></g>\r\n                <g><path d=\"M7 4v15M17 4v15\"/></g>\r\n            </svg>`,\r\n      click: function (event) {\r\n        event.preventDefault();\r\n\r\n        this.Slideshow.toggle();\r\n      },\r\n    },\r\n    zoom: {\r\n      type: \"button\",\r\n      class: \"fancybox__button--zoom\",\r\n      label: \"TOGGLE_ZOOM\",\r\n      html: '<svg viewBox=\"0 0 24 24\"><circle cx=\"10\" cy=\"10\" r=\"7\"></circle><path d=\"M16 16 L21 21\"></svg>',\r\n      click: function (event) {\r\n        event.preventDefault();\r\n\r\n        const panzoom = this.fancybox.getSlide().Panzoom;\r\n\r\n        if (panzoom) {\r\n          panzoom.toggleZoom();\r\n        }\r\n      },\r\n    },\r\n    download: {\r\n      type: \"link\",\r\n      label: \"DOWNLOAD\",\r\n      class: \"fancybox__button--download\",\r\n      html: '<svg viewBox=\"0 0 24 24\"><path d=\"M12 15V3m0 12l-4-4m4 4l4-4M2 17l.62 2.48A2 2 0 004.56 21h14.88a2 2 0 001.94-1.51L22 17\"/></svg>',\r\n      click: function (event) {\r\n        event.stopPropagation();\r\n      },\r\n    },\r\n    thumbs: {\r\n      type: \"button\",\r\n      label: \"TOGGLE_THUMBS\",\r\n      class: \"fancybox__button--thumbs\",\r\n      html: '<svg viewBox=\"0 0 24 24\"><circle cx=\"4\" cy=\"4\" r=\"1\" /><circle cx=\"12\" cy=\"4\" r=\"1\" transform=\"rotate(90 12 4)\"/><circle cx=\"20\" cy=\"4\" r=\"1\" transform=\"rotate(90 20 4)\"/><circle cx=\"4\" cy=\"12\" r=\"1\" transform=\"rotate(90 4 12)\"/><circle cx=\"12\" cy=\"12\" r=\"1\" transform=\"rotate(90 12 12)\"/><circle cx=\"20\" cy=\"12\" r=\"1\" transform=\"rotate(90 20 12)\"/><circle cx=\"4\" cy=\"20\" r=\"1\" transform=\"rotate(90 4 20)\"/><circle cx=\"12\" cy=\"20\" r=\"1\" transform=\"rotate(90 12 20)\"/><circle cx=\"20\" cy=\"20\" r=\"1\" transform=\"rotate(90 20 20)\"/></svg>',\r\n      click: function (event) {\r\n        event.stopPropagation();\r\n\r\n        const thumbs = this.fancybox.plugins.Thumbs;\r\n\r\n        if (thumbs) {\r\n          thumbs.toggle();\r\n        }\r\n      },\r\n    },\r\n    close: {\r\n      type: \"button\",\r\n      label: \"CLOSE\",\r\n      class: \"fancybox__button--close\",\r\n      html: '<svg viewBox=\"0 0 24 24\"><path d=\"M20 20L4 4m16 0L4 20\"></path></svg>',\r\n      attr: { \"data-fancybox-close\": \"\", tabindex: 0 },\r\n    },\r\n  },\r\n};\r\n\r\nexport class Toolbar {\r\n  constructor(fancybox) {\r\n    this.fancybox = fancybox;\r\n\r\n    this.$container = null;\r\n    this.state = \"init\";\r\n\r\n    for (const methodName of [\r\n      \"onInit\",\r\n      \"onPrepare\",\r\n      \"onDone\",\r\n      \"onKeydown\",\r\n      \"onClosing\",\r\n      \"onChange\",\r\n      \"onSettle\",\r\n      \"onRefresh\",\r\n    ]) {\r\n      this[methodName] = this[methodName].bind(this);\r\n    }\r\n\r\n    this.events = {\r\n      init: this.onInit,\r\n      prepare: this.onPrepare,\r\n      done: this.onDone,\r\n      keydown: this.onKeydown,\r\n      closing: this.onClosing,\r\n\r\n      // Clear Slideshow when user strts to change current slide\r\n      \"Carousel.change\": this.onChange,\r\n\r\n      // Set timer after carousel changes current slide; deactive if last slide is reached\r\n      \"Carousel.settle\": this.onSettle,\r\n\r\n      // Deactivate Slideshow on user interaction\r\n      \"Carousel.Panzoom.touchStart\": () => this.onRefresh(),\r\n\r\n      \"Image.startAnimation\": (fancybox, slide) => this.onRefresh(slide),\r\n      \"Image.afterUpdate\": (fancybox, slide) => this.onRefresh(slide),\r\n    };\r\n  }\r\n\r\n  onInit() {\r\n    // Disable self if current group does not contain at least one image\r\n    if (this.fancybox.option(\"Toolbar.autoEnable\")) {\r\n      let hasImage = false;\r\n\r\n      for (const item of this.fancybox.items) {\r\n        if (item.type === \"image\") {\r\n          hasImage = true;\r\n          break;\r\n        }\r\n      }\r\n\r\n      if (!hasImage) {\r\n        this.state = \"disabled\";\r\n        return;\r\n      }\r\n    }\r\n\r\n    // Disable the creation of a close button, if one exists in the toolbar\r\n    for (const key of this.fancybox.option(\"Toolbar.display\")) {\r\n      const id = isPlainObject(key) ? key.id : key;\r\n\r\n      if (id === \"close\") {\r\n        this.fancybox.options.closeButton = false;\r\n\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  onPrepare() {\r\n    const fancybox = this.fancybox;\r\n    // Skip if disabled\r\n    if (this.state !== \"init\") {\r\n      return;\r\n    }\r\n\r\n    this.build();\r\n\r\n    this.update();\r\n\r\n    this.Slideshow = new Slideshow(fancybox);\r\n\r\n    if (!fancybox.Carousel.prevPage) {\r\n      if (fancybox.option(\"slideshow.autoStart\")) {\r\n        this.Slideshow.activate();\r\n      }\r\n\r\n      if (fancybox.option(\"fullscreen.autoStart\") && !Fullscreen.element()) {\r\n        try {\r\n          Fullscreen.activate(fancybox.$container);\r\n        } catch (error) {}\r\n      }\r\n    }\r\n  }\r\n\r\n  onFsChange() {\r\n    window.scrollTo(Fullscreen.pageXOffset, Fullscreen.pageYOffset);\r\n  }\r\n\r\n  onSettle() {\r\n    const fancybox = this.fancybox;\r\n    const slideshow = this.Slideshow;\r\n\r\n    if (slideshow && slideshow.isActive()) {\r\n      if (fancybox.getSlide().index === fancybox.Carousel.slides.length - 1 && !fancybox.option(\"infinite\")) {\r\n        slideshow.deactivate();\r\n      } else if (fancybox.getSlide().state === \"done\") {\r\n        slideshow.setTimer();\r\n      }\r\n    }\r\n  }\r\n\r\n  onChange() {\r\n    this.update();\r\n\r\n    if (this.Slideshow && this.Slideshow.isActive()) {\r\n      this.Slideshow.clearTimer();\r\n    }\r\n  }\r\n\r\n  onDone(fancybox, slide) {\r\n    const slideshow = this.Slideshow;\r\n\r\n    if (slide.index === fancybox.getSlide().index) {\r\n      this.update();\r\n\r\n      if (slideshow && slideshow.isActive()) {\r\n        if (!fancybox.option(\"infinite\") && slide.index === fancybox.Carousel.slides.length - 1) {\r\n          slideshow.deactivate();\r\n        } else {\r\n          slideshow.setTimer();\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  onRefresh(slide) {\r\n    if (!slide || slide.index === this.fancybox.getSlide().index) {\r\n      this.update();\r\n\r\n      if (this.Slideshow && this.Slideshow.isActive() && (!slide || slide.state === \"done\")) {\r\n        this.Slideshow.deactivate();\r\n      }\r\n    }\r\n  }\r\n\r\n  onKeydown(fancybox, key, event) {\r\n    if (key === \" \" && this.Slideshow) {\r\n      this.Slideshow.toggle();\r\n\r\n      event.preventDefault();\r\n    }\r\n  }\r\n\r\n  onClosing() {\r\n    if (this.Slideshow) {\r\n      this.Slideshow.deactivate();\r\n    }\r\n\r\n    document.removeEventListener(\"fullscreenchange\", this.onFsChange);\r\n  }\r\n\r\n  /**\r\n   * Create link, button or `div` element for the toolbar\r\n   * @param {Object} obj\r\n   * @returns HTMLElement\r\n   */\r\n  createElement(obj) {\r\n    let $el;\r\n\r\n    if (obj.type === \"div\") {\r\n      $el = document.createElement(\"div\");\r\n    } else {\r\n      $el = document.createElement(obj.type === \"link\" ? \"a\" : \"button\");\r\n      $el.classList.add(\"carousel__button\");\r\n    }\r\n\r\n    $el.innerHTML = obj.html;\r\n\r\n    $el.setAttribute(\"tabindex\", obj.tabindex || 0);\r\n\r\n    if (obj.class) {\r\n      $el.classList.add(...obj.class.split(\" \"));\r\n    }\r\n\r\n    for (const prop in obj.attr) {\r\n      $el.setAttribute(prop, obj.attr[prop]);\r\n    }\r\n\r\n    if (obj.label) {\r\n      $el.setAttribute(\"title\", this.fancybox.localize(`{{${obj.label}}}`));\r\n    }\r\n\r\n    if (obj.click) {\r\n      $el.addEventListener(\"click\", obj.click.bind(this));\r\n    }\r\n\r\n    if (obj.id === \"prev\") {\r\n      $el.setAttribute(\"data-fancybox-prev\", \"\");\r\n    }\r\n\r\n    if (obj.id === \"next\") {\r\n      $el.setAttribute(\"data-fancybox-next\", \"\");\r\n    }\r\n\r\n    const $svg = $el.querySelector(\"svg\");\r\n\r\n    if ($svg) {\r\n      $svg.setAttribute(\"role\", \"img\");\r\n      $svg.setAttribute(\"tabindex\", \"-1\");\r\n      $svg.setAttribute(\"xmlns\", \"http://www.w3.org/2000/svg\");\r\n    }\r\n\r\n    return $el;\r\n  }\r\n\r\n  /**\r\n   * Create all DOM elements\r\n   */\r\n  build() {\r\n    this.cleanup();\r\n\r\n    const all_items = this.fancybox.option(\"Toolbar.items\");\r\n    const all_groups = [\r\n      {\r\n        position: \"left\",\r\n        items: [],\r\n      },\r\n      {\r\n        position: \"center\",\r\n        items: [],\r\n      },\r\n      {\r\n        position: \"right\",\r\n        items: [],\r\n      },\r\n    ];\r\n\r\n    const thumbs = this.fancybox.plugins.Thumbs;\r\n\r\n    // 1st step - group toolbar elements by position\r\n    for (const key of this.fancybox.option(\"Toolbar.display\")) {\r\n      let id, item;\r\n\r\n      if (isPlainObject(key)) {\r\n        id = key.id;\r\n        item = extend({}, all_items[id], key);\r\n      } else {\r\n        id = key;\r\n        item = all_items[id];\r\n      }\r\n\r\n      if ([\"counter\", \"next\", \"prev\", \"slideshow\"].includes(id) && this.fancybox.items.length < 2) {\r\n        continue;\r\n      }\r\n\r\n      if (id === \"fullscreen\") {\r\n        if (!document.fullscreenEnabled || window.fullScreen) {\r\n          continue;\r\n        }\r\n\r\n        document.addEventListener(\"fullscreenchange\", this.onFsChange);\r\n      }\r\n\r\n      if (id === \"thumbs\" && (!thumbs || thumbs.state === \"disabled\")) {\r\n        continue;\r\n      }\r\n\r\n      if (!item) {\r\n        continue;\r\n      }\r\n\r\n      let position = item.position || \"right\";\r\n\r\n      let group = all_groups.find((obj) => obj.position === position);\r\n\r\n      if (group) {\r\n        group.items.push(item);\r\n      }\r\n    }\r\n\r\n    // 2st step - create DOM elements\r\n    const $container = document.createElement(\"div\");\r\n    $container.classList.add(\"fancybox__toolbar\");\r\n\r\n    for (const group of all_groups) {\r\n      if (group.items.length) {\r\n        const $wrap = document.createElement(\"div\");\r\n        $wrap.classList.add(\"fancybox__toolbar__items\");\r\n        $wrap.classList.add(`fancybox__toolbar__items--${group.position}`);\r\n\r\n        for (const obj of group.items) {\r\n          $wrap.appendChild(this.createElement(obj));\r\n        }\r\n\r\n        $container.appendChild($wrap);\r\n      }\r\n    }\r\n\r\n    // Add toolbar container to DOM\r\n    this.fancybox.$carousel.parentNode.insertBefore($container, this.fancybox.$carousel);\r\n\r\n    this.$container = $container;\r\n  }\r\n\r\n  /**\r\n   * Update element state depending on index of current slide\r\n   */\r\n  update() {\r\n    const slide = this.fancybox.getSlide();\r\n    const idx = slide.index;\r\n    const cnt = this.fancybox.items.length;\r\n\r\n    // Download links\r\n    // ====\r\n    const src = slide.downloadSrc || (slide.type === \"image\" && !slide.error ? slide.src : null);\r\n\r\n    for (const $el of this.fancybox.$container.querySelectorAll(\"a.fancybox__button--download\")) {\r\n      if (src) {\r\n        $el.removeAttribute(\"disabled\");\r\n        $el.removeAttribute(\"tabindex\");\r\n\r\n        $el.setAttribute(\"href\", src);\r\n        $el.setAttribute(\"download\", src);\r\n        $el.setAttribute(\"target\", \"_blank\");\r\n      } else {\r\n        $el.setAttribute(\"disabled\", \"\");\r\n        $el.setAttribute(\"tabindex\", -1);\r\n\r\n        $el.removeAttribute(\"href\");\r\n        $el.removeAttribute(\"download\");\r\n      }\r\n    }\r\n\r\n    // Zoom button\r\n    // ===\r\n    const panzoom = slide.Panzoom;\r\n    const canZoom = panzoom && panzoom.option(\"maxScale\") > panzoom.option(\"baseScale\");\r\n\r\n    for (const $el of this.fancybox.$container.querySelectorAll(\".fancybox__button--zoom\")) {\r\n      if (canZoom) {\r\n        $el.removeAttribute(\"disabled\");\r\n      } else {\r\n        $el.setAttribute(\"disabled\", \"\");\r\n      }\r\n    }\r\n\r\n    // Counter\r\n    // ====\r\n    for (const $el of this.fancybox.$container.querySelectorAll(\"[data-fancybox-index]\")) {\r\n      $el.innerHTML = slide.index + 1;\r\n    }\r\n\r\n    for (const $el of this.fancybox.$container.querySelectorAll(\"[data-fancybox-count]\")) {\r\n      $el.innerHTML = cnt;\r\n    }\r\n\r\n    // Disable previous/next links if gallery is not infinite and has reached start/end\r\n    // ===\r\n    if (!this.fancybox.option(\"infinite\")) {\r\n      for (const $el of this.fancybox.$container.querySelectorAll(\"[data-fancybox-prev]\")) {\r\n        if (idx === 0) {\r\n          $el.setAttribute(\"disabled\", \"\");\r\n        } else {\r\n          $el.removeAttribute(\"disabled\");\r\n        }\r\n      }\r\n\r\n      for (const $el of this.fancybox.$container.querySelectorAll(\"[data-fancybox-next]\")) {\r\n        if (idx === cnt - 1) {\r\n          $el.setAttribute(\"disabled\", \"\");\r\n        } else {\r\n          $el.removeAttribute(\"disabled\");\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  cleanup() {\r\n    if (this.Slideshow && this.Slideshow.isActive()) {\r\n      this.Slideshow.clearTimer();\r\n    }\r\n\r\n    if (this.$container) {\r\n      this.$container.remove();\r\n    }\r\n\r\n    this.$container = null;\r\n  }\r\n\r\n  attach() {\r\n    this.fancybox.on(this.events);\r\n  }\r\n\r\n  detach() {\r\n    this.fancybox.off(this.events);\r\n\r\n    this.cleanup();\r\n  }\r\n}\r\n\r\n// Expose defaults\r\nToolbar.defaults = defaults;\r\n","import { ScrollLock } from \"./ScrollLock/ScrollLock.js\";\nimport { Thumbs } from \"./Thumbs/Thumbs.js\";\nimport { Html } from \"./Html/Html.js\";\nimport { Image } from \"./Image/Image.js\";\nimport { Hash } from \"./Hash/Hash.js\";\nimport { Toolbar } from \"./Toolbar/Toolbar.js\";\n\nexport const Plugins = {\n  ScrollLock,\n  Thumbs,\n  Html,\n  Toolbar,\n  Image,\n  Hash,\n};\n","export default {\r\n  CLOSE: \"Close\",\r\n  NEXT: \"Next\",\r\n  PREV: \"Previous\",\r\n  MODAL: \"You can close this modal content with the ESC key\",\r\n  ERROR: \"Something Went Wrong, Please Try Again Later\",\r\n  IMAGE_ERROR: \"Image Not Found\",\r\n  ELEMENT_NOT_FOUND: \"HTML Element Not Found\",\r\n  AJAX_NOT_FOUND: \"Error Loading AJAX : Not Found\",\r\n  AJAX_FORBIDDEN: \"Error Loading AJAX : Forbidden\",\r\n  IFRAME_ERROR: \"Error Loading Page\",\r\n  TOGGLE_ZOOM: \"Toggle zoom level\",\r\n  TOGGLE_THUMBS: \"Toggle thumbnails\",\r\n  TOGGLE_SLIDESHOW: \"Toggle slideshow\",\r\n  TOGGLE_FULLSCREEN: \"Toggle full-screen mode\",\r\n  DOWNLOAD: \"Download\",\r\n};\r\n","import { Fancybox } from '@fancyapps/ui/src/Fancybox/Fancybox.js';\n\nFancybox.bind('[data-fancybox=\"gallery\"]', {\n  Thumbs: false,\n  Toolbar: false,\n\n  Image: {\n    zoom: false,\n    click: false,\n    wheel: 'slide',\n  },\n});\n"],"names":["Object","defineProperty","module","exports","value","default","self","ReferenceError","object","property","prototype","hasOwnProperty","call","$1b88cb4cd4b28de3$var$_getPrototypeOf","obj","parcelRequire","__esModule","$b9926a5835d271e3$var$getPrototypeOf","o1","setPrototypeOf","getPrototypeOf","o","__proto__","$c1b1a34fae3d3c27$var$setPrototypeOf","p1","p","arr","Array","isArray","iter","Symbol","iterator","from","TypeError","minLen","$7a2c4c4c44c69707$var$_arrayLikeToArray","n","toString","slice","constructor","name","test","len","length","i","arr2","$f215c72f040a88cf$var$_arrayLikeToArray","Reflect","construct","sham","Proxy","Boolean","valueOf","e","$e17dad4ea3dafe1a$var$_typeOf","$e17dad4ea3dafe1a$var$_assertThisInitialized","$e17dad4ea3dafe1a$var$_interopRequireDefault","key","enumerable","configurable","writable","$ds8z5","$665014edacbfe17b$exports","instance","Constructor","$74e7f8130373505f$var$_defineProperties","target","props","descriptor","$74e7f8130373505f$exports","protoProps","staticProps","$e08672c9889dd930$exports","receiver","$e08672c9889dd930$var$get","$e08672c9889dd930$var$_superPropBase","target1","property1","receiver1","get","base","desc","getOwnPropertyDescriptor","$ae7f60fd48750bb9$exports","subClass","superClass","create","$ae7f60fd48750bb9$var$_setPrototypeOf","$ae7f60fd48750bb9$var$_interopRequireDefault","$111a013c31e2261e$exports","$111a013c31e2261e$var$_arrayWithHoles","$111a013c31e2261e$var$_iterableToArray","$111a013c31e2261e$var$_unsupportedIterableToArray","$111a013c31e2261e$var$_nonIterableRest","$111a013c31e2261e$var$_interopRequireDefault","$6195f07b5409ba15$exports","$6195f07b5409ba15$var$_arrayWithoutHoles","$6195f07b5409ba15$var$_iterableToArray","$6195f07b5409ba15$var$_unsupportedIterableToArray","$6195f07b5409ba15$var$_nonIterableSpread","$6195f07b5409ba15$var$_interopRequireDefault","$2059300b4b5a348b$exports","Derived","hasNativeReflectConstruct","$2059300b4b5a348b$var$_isNativeReflectConstruct","result","Super","$2059300b4b5a348b$var$_getPrototypeOf","NewTarget","this","arguments","apply","$2059300b4b5a348b$var$_possibleConstructorReturn","$2059300b4b5a348b$var$_interopRequireDefault","$4969aabecc8e913c$export$53b83ca8eaab0383","$30dbac9bac16a6ce$export$8b58be045bf06082","args","_len","_key","deep","shift","Error","extenders","extender","$99942eeb4ed0c122$export$71594e8a50f746f4","window","document","createElement","$1409cefbe8e4ff9a$var$preventScrollSupported","$1409cefbe8e4ff9a$export$6a59c51278cd7bb1","$1409cefbe8e4ff9a$export$5a51bc2ba3a0d25","node","focus","preventScroll","setActive","scrollTop","pageXOffset","body","scrollLeft","pageYOffset","scrollTo","top","left","behavior","$589bba3dfc690272$export$f7ad0328861e2f03","path","split","reduce","prev","curr","$305027b9563ad80d$export$ef88aa0d34c34520","Base","options","plugins","events","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_iteratorNormalCompletion1","_didIteratorError1","_iteratorError1","_step","_iterator","next","done","type","_step1","_iterator1","entries","$parcel$interopDefault","err","return","fallback","rest","_value","String","concat","str","params","replace","match","subkey","rez","_this","option","toLowerCase","substring","index","join","callback","on","forEach","item","listeners","indexOf","push","once","listener","details","_callback","_this1","off","_","splice","_listener","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_listener1","listener1","err1","newPlugins","Plugin","defaults","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_value1","attach","err2","assign","plugin","detach","$9eddae5a012cde57$exports","source","ownKeys","keys","getOwnPropertySymbols","filter","sym","$9eddae5a012cde57$var$_defineProperty","$9eddae5a012cde57$var$_interopRequireDefault","$0685be5dd89c51a0$export$2077e0241d6afd3c","precision","parseFloat","Math","round","Number","EPSILON","$2d4c2ff31975a123$export$2bb74740c4e19def","Element","__Panzoom","overflowY","getComputedStyle","overflowX","vertical","abs","scrollHeight","clientHeight","horizontal","scrollWidth","clientWidth","$2d4c2ff31975a123$export$988b38dbf6859d61","parentNode","$17ba1ee9c7329a88$export$9caf76241ca21a11","ResizeObserver","observables","boundCheck","check","bind","el","some","observable","newObservable","size","height","width","changedEntries","currentHeight","currentWidth","map","requestAnimationFrame","$1f6f04d79f95d607$var$Pointer","Pointer","nativePointer","id","Touch","identifier","pageX","pageY","clientX","clientY","$1f6f04d79f95d607$export$79376507b09a66f","a","b","sqrt","pow","$1f6f04d79f95d607$export$b820caf342892892","$1f6f04d79f95d607$var$isTouchEvent","event","$1f6f04d79f95d607$export$602faa26dc074936","PointerTracker","_element","ref","_start","start","_move","move","_end","end","startPointers","currentPointers","_pointerStart","buttons","button","pointer","_triggerPointerStart","addEventListener","_pointerEnd","_touchStart","changedTouches","touch","previousPointers","changedPointers","t","trackedChangedPointers","findIndex","_loop","_moveCallback","_triggerPointerEnd","_endCallback","removeEventListener","passive","_touchEnd","_startCallback","$86a715b3f49a0d8f$export$5a4c7d2802d310f9","element","x","y","nodes","childNodes","range","createRange","nodeType","Node","TEXT_NODE","selectNodeContents","rect","getBoundingClientRect","right","bottom","$560de9e653829d1e$export$36c2abee46ce2f83","elem","max","naturalHeight","baseVal","offsetHeight","$560de9e653829d1e$export$26b8a639408dbbb6","srcWidth","srcHeight","maxWidth","maxHeight","ratio","min","$744142444a52f869$var$defaults","zoom","pinchToZoom","panOnlyZoomed","lockAxis","friction","decelFriction","zoomFriction","bounceForce","baseScale","minScale","maxScale","step","textSelection","click","wheel","wheelFactor","wheelLimit","draggableClass","draggingClass","$744142444a52f869$export$b704d075ddd20210","Base1","Panzoom","$container","state","methodName","initLayout","resetValues","attachPlugins","Plugins","trigger","updateMetrics","attachEvents","panTo","HTMLElement","$content","querySelector","_$viewport","$viewport","classList","add","append","appendChild","updateRate","navigator","userAgent","container","viewport","content","origWidth","origHeight","scale","transform","resetDragPosition","defaultPrevented","activeElement","closest","getSelection","hasAttribute","getClientRects","dragPosition","midPoint","dragStart","preventDefault","stopPropagation","zoomWithClick","zoomWithWheel","changedDelta","delta","deltaY","deltaX","wheelDelta","detail","newScale","zoomTo","toggleZoom","onLoad","onWheel","onClick","initObserver","pointerTracker","velocity","composedPath","nodeName","time","Date","now","prevMidpoint","newMidpoint","panX","panY","prevDistance","newDistance","scaleDiff","dragOffset","axisToLock","angle","atan2","PI","stopImmediatePropagation","startPoint","xPos","yPos","getZoomDelta","setDragResistance","startAnimation","_dragOffset","recalculateTransform","remove","last","resizeObserver","updateTimer","setTimeout","isAnimating","endAnimation","observe","_content","silently","contentIsImage","HTMLImageElement","contentIsZoomable","shouldResizeParent","naturalWidth","offsetWidth","style","contentRect","viewportRect","containerRect","viewportWidth","viewportHeight","viewportStyles","paddingLeft","paddingRight","paddingTop","paddingBottom","fitWidth","fitHeight","isZoomable","_x","_y","currentScale","ref1","percentXInCurrentBox","percentYInCurrentBox","nextWidth","nextHeight","_friction","_ignoreBounds","ignoreBounds","ref2","getBounds","boundX","boundY","to","rAF","cancelAnimationFrame","animate","setEdgeForce","setDragForce","setTransform","pastLeft","pastRight","pastTop","pastBottom","force","restX","force1","restY","bound","distance","bound2","distance2","final","handleCursor","stop","disconnect","clearTimeout","detachEvents","detachPlugins","version","$b80c0c11bc4bab93$export$de363e709c412c8a","func","limit","lastCall","getTime","$3511199fd763fdcd$export$b8a61e5c71402559","Navigation","carousel","$prev","$next","onRefresh","_classList","$btn","setAttribute","localize","toUpperCase","classNames","innerHTML","createButton","pageCount","pages","elemDimWidth","wrapDimWidth","isInteger","cleanup","build","removeAttribute","page","prevTpl","nextTpl","main","$3a0b0f3b5aeaac20$export$8da50d3722682be0","Dots","$list","change","onChange","refresh","dataset","parseInt","slideTo","removeChild","listExists","pagesCount","removeList","buildList","dotCount","children","lastChild","$dot","$el","code","nextSibling","previousSibling","setActiveDot","$activeDot","rebuildDots","$e46899e7753047fb$export$2ae15352e0a80063","Sync","selectedIndex","onNavReady","onNavClick","onNavCreateSlide","onTargetChange","nav","initialSlide","initialPage","panzoom","clickedNavSlide","selectedNavIndex","selectedSyncPage","findPageForSlide","markSelectedSlide","slide","targetIndex","indexes","selectedNavPage","slides","slide1","sync","addAsNavFor","addAsTargetFor","$f8d3c761d7a592dd$export$c203ca0aafe4939a","$fc6e0e06ef43712d$var$defaults","preload","slidesPerPage","center","infinite","fill","dragFree","prefix","track","slideSelected","l10n","NEXT","PREV","GOTO","$fc6e0e06ef43712d$export$144901db2ea8e967","Carousel","slideNext","slidePrev","init","__Carousel","pageIndex","prevPage","prevPageIndex","initSlides","$track","manageSlideVisiblity","initPanzoom","_classList1","_$track","querySelectorAll","isDom","lastSlideWidth","contentWidth","slideWidth","getSlideMetrics","i1","currentPage","shouldFill","sum","shouldCenter","page2","page1","_classList2","firstSlide","isTestEl","visibility","customClass","prepend","currentStyle","marginLeft","marginRight","page3","find","setPage","destroy","centerOnStart","afterUpdate","updatePage","beforeTransform","onBeforeTransform","onTouchEnd","currentX","getPropertyValue","leftBoundary","rightBoundary","hasDiff","insideCurrentInterval","insidePrevInterval","insideNextInterval","createSlideEl","removeSlideEl","nextIndex","updatedX","nextPos","slide2","_classList3","div","allElelements","goal","refSlide","refIndex","insertBefore","curentIndex","srcset","lazySrcset","lazySrc","src","backgroundImage","lazySrc1","selectedClass","attr","contains","manageInfiniteTrack","isFlipped","nextPageIndex","getPageFromPosition","slideToClosest","interval","floor","slide3","toClosest","$e18bb8e1411dfe2a$export$43c4ad2b7f26555a","ScrollLock","fancybox","pendingUpdate","visualViewport","startY","onResize","updateViewport","onTouchstart","onTouchmove","offsetLeft","offsetTop","touches","screenY","innerWidth","documentElement","cancelable","curY","isAtTop","isAtBottom","onReady","$410670c071f8b9be$export$73e055b807a6709","Thumbs","prepare","onPrepare","closing","onClosing","keydown","onKeydown","getSlides","toggle","$carousel","items","thumb","html","hide","show","display","minSlideCount","minScreenHeight","autoStart","tpl","$85275c2a868d849c$var$buildURLQuery","url","URL","URLSearchParams","search","set","matches","$85275c2a868d849c$var$defaults","video","autoplay","youtube","autohide","fs","rel","hd","wmode","enablejsapi","html5","vimeo","show_title","show_byline","show_portrait","fullscreen","html5video","format","$85275c2a868d849c$export$13f9d3c4397c4713","Html","onInit","ready","onCreateSlide","onRemoveSlide","onSelectSlide","onUnselectSlide","processType","videoId","encodeURIComponent","vendor","params1","videoId1","charAt","_width","_height","setContent","getSlide","playVideo","tmp","getElementById","$placeHolder","attrId","cloneNode","getAttribute","setError","xhr","XMLHttpRequest","showLoading","onreadystatechange","readyState","DONE","hideLoading","status","responseText","data","ajax","open","setRequestHeader","send","$iframe","className","resizeIframe","onerror","onload","isFirstLoad","isReady","revealContent","maxRatio","width_","height_","autoSize","$parent","parentStyle","compStyles","paddingX","paddingY","contentWindow","$html","getElementsByTagName","$body","overflow","flex","error","newStyle","setAspectRatio","poster","loadInlineContent","loadAjaxContent","loadIframeContent","$video","promise","play","then","catch","muted","poller","command","method","postMessage","JSON","stringify","pause","abort","$closeButton","parse","origin","getElementsByClassName","ex","onMessage","$f1aeafa239a54181$export$3e431a229df88919","Image","onDone","onPageChange","clickTimer","$image","imageFit","onImageStatusChange","alt","sizes","shouldWrap","$wrap","complete","initSlidePanzoom","wrapInner","startIndex","canZoom","zoomIn","thumbRect","$thumb","thumbWidth","thumbHeight","contentHeight","opacity","shiftedTop","shiftedLeft","visibleBottomRight","elementFromPoint","visibleTopLeft","Panzoom1","getZoomInfo","Panzoom2","$caption","animatePosition","zoomOutClass","zoomInClass","clickAction","touchIsEnabled","action","canZoomInClass","canZoomOutClass","zoomOpacity","ignoreCoveredThumbnail","doubleClick","fit","wrap","$895a265f7114e00c$export$ab85ecd77ce6a5cd","Hash","initCarousel","hasCreatedHistory","origHash","timer","firstRun","currentSlide","currentHash","hash","newHash","slug","$trigger","history","title","location","pathname","hasSilentClose","replaceState","Fancybox","getInstance","getParsedURL","selectedElem","dispatchEvent","CustomEvent","bubbles","groupElems","close","startFromUrl","proceed","onHashChange","substr","pop","$3721e3f19e52ed61$export$159cd03be7087f39","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","activate","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","deactivate","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","$09af8253c6f2ada2$export$9e844f8a53211d5","Slideshow","active","handleVisibilityChange","delay","jumpTo","$progress","transitionDuration","setTimer","clearTimer","$bdae6449d7c736db$var$defaults","autoEnable","counter","position","class","tabindex","label","slideshow","download","thumbs","$bdae6449d7c736db$export$4c260019440d418f","Toolbar","onSettle","hasImage","closeButton","update","isActive","onFsChange","prop","$svg","all_items","_step4","includes","fullscreenEnabled","fullScreen","group","all_groups","group1","downloadSrc","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","$el1","_iterator4","_step5","err3","_iterator5","_didIteratorError5","_iteratorError5","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","cnt","err4","_iterator6","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","$el4","_iterator7","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","$el5","err5","_iterator8","$0d9e57886e160ac9$export$c203ca0aafe4939a","$7d3fd52a23382f7c$var$defaults","showClass","hideClass","animated","hideScrollbar","parentEl","mainClass","autoFocus","trapFocus","placeFocusBack","dragToClose","keyboard","Escape","Delete","Backspace","PageUp","PageDown","ArrowUp","ArrowDown","ArrowRight","ArrowLeft","template","spinner","CLOSE","MODAL","ERROR","IMAGE_ERROR","ELEMENT_NOT_FOUND","AJAX_NOT_FOUND","AJAX_FORBIDDEN","IFRAME_ERROR","TOGGLE_ZOOM","TOGGLE_THUMBS","TOGGLE_SLIDESHOW","TOGGLE_FULLSCREEN","DOWNLOAD","$7d3fd52a23382f7c$var$instances","Map","$7d3fd52a23382f7c$var$called","$7d3fd52a23382f7c$export$cb45b08d97cdc4fd","bindHandlers","setItems","_instance","$fVNic","onMousedown","onFocus","_$container","$root","mainTemplate","insertAdjacentHTML","onscroll","role","tabIndex","$backdrop","currentSrc","origTarget","caption","infiniteX","infiniteY","createSlide","settle","touchMove","onTouchMove","afterTransform","onTransform","touchEnd","isTopmost","eventTarget","blur","distanceY","setProperty","key1","ctrlKey","altKey","shiftKey","isUIElement","isContentEditable","ignoreFocusChange","$currentSlide","$firstEl","allFocusableElems","enabledElems","isNodeVisible","offsetParent","isNodeInsideCurrentSlide","isNodeOutsideCarousel","origTabindex","lastFocus","scrollbarWidth","$style","_className","opts","$fragment","createContextualFragment","suffix","manageCloseButton","firstChild","animateCSS","$element","handleAnimationEnd","currentTarget","message","clearContent","$spinner","_Carousel","isClosing","delete","nextInstance","revealScrollbar","metaKey","triggerGroupName","matchingOpener","triggerTarget","fancyboxTrigger","triggerItems","triggerIndex","fancyboxIndex","openers","reverse","opener","found","fromOpener","options1","mapCallback","falseValues","trueValues","_value2","key2","groupAll","groupAttr","groupValue","root","getRootNode","currentInstance","selector","attachClickEvent","fromEvent","fb","values","all","_iteratorNormalCompletion5","instance2","$7d3fd52a23382f7c$var$_iteratorNormalCompletion","$7d3fd52a23382f7c$var$_didIteratorError","$7d3fd52a23382f7c$var$_iteratorError","$7d3fd52a23382f7c$var$_step","$7d3fd52a23382f7c$var$_iterator","$7d3fd52a23382f7c$var$_value","$7d3fd52a23382f7c$var$Plugin"],"version":3,"file":"index.6bd68825.js.map"}